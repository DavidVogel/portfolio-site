<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vital: /Users/davidvogel/repos/VitalHelp/src/synthesis/effects/compressor.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DREY265MGG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DREY265MGG",{})</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Vital
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('compressor_8cpp_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">compressor.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="compressor_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="compressor_8h.html">compressor.h</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &quot;<a class="code" href="futils_8h.html">futils.h</a>&quot;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacevital.html">vital</a> {</div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span>  <span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kRmsTime = 0.025f;</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kMaxExpandMult = 32.0f;</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kLowAttackMs = 2.8f;</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kBandAttackMs = 1.4f;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kHighAttackMs = 0.7f;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kLowReleaseMs = 40.0f;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kBandReleaseMs = 28.0f;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kHighReleaseMs = 15.0f;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kMinGain = -30.0f;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kMaxGain = 30.0f;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kMinThreshold = -100.0f;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kMaxThreshold = 12.0f;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> kMinSampleEnvelope = 5.0f;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  } <span class="comment">// namespace</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  <span class="comment">//============================================================================</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>  <span class="comment">// Compressor</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>  <span class="comment">//============================================================================</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="foldopen" id="foldopen00060" data-start="{" data-end="}">
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="classvital_1_1_compressor.html#a2bbf39af65c161914afe34514a68fce2">   60</a></span>  <a class="code hl_function" href="classvital_1_1_compressor.html#a2bbf39af65c161914afe34514a68fce2">Compressor::Compressor</a>(<a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> base_attack_ms_first,</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>                         <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> base_release_ms_first,</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>                         <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> base_attack_ms_second,</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>                         <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> base_release_ms_second)</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    : <a class="code hl_class" href="classvital_1_1_processor.html">Processor</a>(kNumInputs, kNumOutputs),</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>      input_mean_squared_(0.0f) {</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="comment">// Use maskLoad to selectively load attack/release for voice 1 or voice 2</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a8cf0d676bae2b6e70c48be568dfe9922">base_attack_ms_</a> = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>(base_attack_ms_second),</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>                                      base_attack_ms_first,</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>                                      <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> second_release = base_release_ms_second;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a188b793f455bb4f3e3c4d4b527f9a966">base_release_ms_</a> = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(second_release,</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>                                       base_release_ms_first,</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>                                       <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#ae13133a73db688004d861006142f51eb">output_mult_</a> = 0.0f;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#ab234ef7ab570d13112c45f74b45153f8">mix_</a> = 0.0f;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>  }</div>
</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="foldopen" id="foldopen00083" data-start="{" data-end="}">
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="classvital_1_1_compressor.html#adcb70e28ab31dc6c4f7247190b834af7">   83</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_compressor.html#adcb70e28ab31dc6c4f7247190b834af7">Compressor::process</a>(<span class="keywordtype">int</span> num_samples) {</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <a class="code hl_function" href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">processWithInput</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba77b8a7ad27817896baea10d84d62f2e4">kAudio</a>)-&gt;source-&gt;buffer, num_samples);</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>  }</div>
</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="foldopen" id="foldopen00095" data-start="{" data-end="}">
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">   95</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">Compressor::processWithInput</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* audio_in, <span class="keywordtype">int</span> num_samples) {</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <a class="code hl_function" href="classvital_1_1_compressor.html#a4faeca92558ba8f46054c545b1c5c37e">processRms</a>(audio_in, num_samples);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// Update RMS for input/output signals</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a1b02cbaad1bf88126db70f1521b773f7">input_mean_squared_</a> = <a class="code hl_function" href="classvital_1_1_compressor.html#a5a21c3c32114d65d5aeb5ca8270477e8">computeMeanSquared</a>(audio_in, num_samples, <a class="code hl_variable" href="classvital_1_1_compressor.html#a1b02cbaad1bf88126db70f1521b773f7">input_mean_squared_</a>);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a6874e43b3af2dfccaa5e29f1c20b1118">output_mean_squared_</a> = <a class="code hl_function" href="classvital_1_1_compressor.html#a5a21c3c32114d65d5aeb5ca8270477e8">computeMeanSquared</a>(<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52">kAudioOut</a>)-&gt;buffer, num_samples, <a class="code hl_variable" href="classvital_1_1_compressor.html#a6874e43b3af2dfccaa5e29f1c20b1118">output_mean_squared_</a>);</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <a class="code hl_function" href="classvital_1_1_compressor.html#a4fd5d15eeb3bdd49c7dac0a0deb259c6">scaleOutput</a>(audio_in, num_samples);</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>  }</div>
</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="foldopen" id="foldopen00110" data-start="{" data-end="}">
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="classvital_1_1_compressor.html#a4faeca92558ba8f46054c545b1c5c37e">  110</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_compressor.html#a4faeca92558ba8f46054c545b1c5c37e">Compressor::processRms</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* audio_in, <span class="keywordtype">int</span> num_samples) {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* audio_out = <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52">kAudioOut</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// Convert ms to samples</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> samples_per_ms = (1.0f * <a class="code hl_function" href="classvital_1_1_processor.html#a70822ba483c1a6528f1809621befd4b8">getSampleRate</a>()) / <a class="code hl_variable" href="namespacevital.html#a0889bacaa0e807ff26be7414cc96991e">kMsPerSec</a>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> attack_mult = <a class="code hl_variable" href="classvital_1_1_compressor.html#a8cf0d676bae2b6e70c48be568dfe9922">base_attack_ms_</a> * samples_per_ms;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> release_mult = <a class="code hl_variable" href="classvital_1_1_compressor.html#a188b793f455bb4f3e3c4d4b527f9a966">base_release_ms_</a> * samples_per_ms;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="comment">// Convert 0..1 from GUI to an exponential in the range [-4, 4], then map to sample-based envelope</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> attack_exponent  = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bac2a310693bf7fcf08a6ef0c832f9885d">kAttack</a>)-&gt;at(0), 0.0f, 1.0f) * 8.0f - 4.0f;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> release_exponent = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba993745a097b9eb75d9b3c73e5b77c4f7">kRelease</a>)-&gt;at(0), 0.0f, 1.0f) * 8.0f - 4.0f;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> envelope_attack_samples  = <a class="code hl_function" href="namespacevital_1_1futils.html#ad0ad3cd83f0a4d5a41505d7f1df8adbf">futils::exp</a>(attack_exponent) * attack_mult;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> envelope_release_samples = <a class="code hl_function" href="namespacevital_1_1futils.html#ad0ad3cd83f0a4d5a41505d7f1df8adbf">futils::exp</a>(release_exponent) * release_mult;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="comment">// Ensure a minimum envelope length</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    envelope_attack_samples  = <a class="code hl_function" href="namespacevital_1_1utils.html#ab453d9dff7b875976c8c8e22047a8558">utils::max</a>(envelope_attack_samples, kMinSampleEnvelope);</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    envelope_release_samples = <a class="code hl_function" href="namespacevital_1_1utils.html#ab453d9dff7b875976c8c8e22047a8558">utils::max</a>(envelope_release_samples, kMinSampleEnvelope);</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// Compute scales for attack/release</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> attack_scale  = <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>(1.0f) / (envelope_attack_samples + 1.0f);</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> release_scale = <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>(1.0f) / (envelope_release_samples + 1.0f);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// Load and convert thresholds from dB to linear magnitude squared</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> upper_threshold = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba790a2b2be0cf991bf0d74c349e22b9c0">kUpperThreshold</a>)-&gt;at(0), kMinThreshold, kMaxThreshold);</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    upper_threshold = <a class="code hl_function" href="namespacevital_1_1futils.html#aeb7b7646b5c704ad5c1e23d4cb1a75f4">futils::dbToMagnitude</a>(upper_threshold);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    upper_threshold *= upper_threshold;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> lower_threshold = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba7bb69ac0fd8181d0d7120a716a9b5d21">kLowerThreshold</a>)-&gt;at(0), kMinThreshold, kMaxThreshold);</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    lower_threshold = <a class="code hl_function" href="namespacevital_1_1futils.html#aeb7b7646b5c704ad5c1e23d4cb1a75f4">futils::dbToMagnitude</a>(lower_threshold);</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    lower_threshold *= lower_threshold;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">// Load compression/expansion ratios</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> upper_ratio = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba5e459570fdb24a428056cdfeb6b0b2ae">kUpperRatio</a>)-&gt;at(0), 0.0f, 1.0f) * 0.5f;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> lower_ratio = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bae7cb7265e6dfba1db099c45f3941992f">kLowerRatio</a>)-&gt;at(0), -1.0f, 1.0f) * 0.5f;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_enveloped_mean_squared = <a class="code hl_variable" href="classvital_1_1_compressor.html#a6ae8ac4b688338ee3361868d5e5dd56e">low_enveloped_mean_squared_</a>;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> high_enveloped_mean_squared = <a class="code hl_variable" href="classvital_1_1_compressor.html#a40250c2ca0acdd1b79b65a3b06460c10">high_enveloped_mean_squared_</a>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_samples; ++i) {</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> sample = audio_in[i];</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> sample_squared = sample * sample;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>      <span class="comment">// Update high band envelope</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>      <a class="code hl_struct" href="structvital_1_1poly__int.html">poly_mask</a> high_attack_mask = <a class="code hl_function" href="structvital_1_1poly__float.html#afe451ece04ecb9be82648c49c4e27e7b">poly_float::greaterThan</a>(sample_squared, high_enveloped_mean_squared);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> high_samples = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(envelope_release_samples, envelope_attack_samples, high_attack_mask);</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> high_scale = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(release_scale, attack_scale, high_attack_mask);</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>      high_enveloped_mean_squared = (sample_squared + high_enveloped_mean_squared * high_samples) * high_scale;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>      high_enveloped_mean_squared = <a class="code hl_function" href="namespacevital_1_1utils.html#ab453d9dff7b875976c8c8e22047a8558">utils::max</a>(high_enveloped_mean_squared, upper_threshold);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>      <span class="comment">// Compute compression above upper threshold</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> upper_mag_delta = upper_threshold / high_enveloped_mean_squared;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> upper_mult = <a class="code hl_function" href="namespacevital_1_1futils.html#ae7439e66951da54e8d732fd62619bc5b">futils::pow</a>(upper_mag_delta, upper_ratio);</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>      <span class="comment">// Update low band envelope</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>      <a class="code hl_struct" href="structvital_1_1poly__int.html">poly_mask</a> low_attack_mask = <a class="code hl_function" href="structvital_1_1poly__float.html#afe451ece04ecb9be82648c49c4e27e7b">poly_float::greaterThan</a>(sample_squared, low_enveloped_mean_squared);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_samples = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(envelope_release_samples, envelope_attack_samples, low_attack_mask);</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_scale = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(release_scale, attack_scale, low_attack_mask);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>      low_enveloped_mean_squared = (sample_squared + low_enveloped_mean_squared * low_samples) * low_scale;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>      low_enveloped_mean_squared = <a class="code hl_function" href="namespacevital_1_1utils.html#a5b6ee09220fec012fc1597235e4c50e3">utils::min</a>(low_enveloped_mean_squared, lower_threshold);</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>      <span class="comment">// Compute expansion below lower threshold</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> lower_mag_delta = lower_threshold / low_enveloped_mean_squared;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> lower_mult = <a class="code hl_function" href="namespacevital_1_1futils.html#ae7439e66951da54e8d732fd62619bc5b">futils::pow</a>(lower_mag_delta, lower_ratio);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>      <span class="comment">// Combine gain multipliers and clamp</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> gain_compression = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(upper_mult * lower_mult, 0.0f, kMaxExpandMult);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>      audio_out[i] = gain_compression * sample;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>      <a class="code hl_define" href="common_8h.html#ab6dc6a12600086762731fd406e501cf2">VITAL_ASSERT</a>(<a class="code hl_function" href="namespacevital_1_1utils.html#a80ba548455cae89a92de477250c013c5">utils::isContained</a>(audio_out[i]));</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    }</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// Save updated envelopes</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a6ae8ac4b688338ee3361868d5e5dd56e">low_enveloped_mean_squared_</a> = low_enveloped_mean_squared;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a40250c2ca0acdd1b79b65a3b06460c10">high_enveloped_mean_squared_</a> = high_enveloped_mean_squared;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>  }</div>
</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="foldopen" id="foldopen00192" data-start="{" data-end="}">
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="classvital_1_1_compressor.html#a4fd5d15eeb3bdd49c7dac0a0deb259c6">  192</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_compressor.html#a4fd5d15eeb3bdd49c7dac0a0deb259c6">Compressor::scaleOutput</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* audio_input, <span class="keywordtype">int</span> num_samples) {</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* audio_out = <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52">kAudioOut</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">// Interpolate output gain changes</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> current_output_mult = <a class="code hl_variable" href="classvital_1_1_compressor.html#ae13133a73db688004d861006142f51eb">output_mult_</a>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> <a class="code hl_variable" href="formant__filter_8cpp.html#a17ef5650d770eecdb2b915f7b7854f03">gain</a> = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bac77c2f3768306df4a83e6c00ea180839">kOutputGain</a>)-&gt;at(0), kMinGain, kMaxGain);</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#ae13133a73db688004d861006142f51eb">output_mult_</a> = <a class="code hl_function" href="namespacevital_1_1futils.html#aeb7b7646b5c704ad5c1e23d4cb1a75f4">futils::dbToMagnitude</a>(<a class="code hl_variable" href="formant__filter_8cpp.html#a17ef5650d770eecdb2b915f7b7854f03">gain</a>);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> delta_output_mult = (<a class="code hl_variable" href="classvital_1_1_compressor.html#ae13133a73db688004d861006142f51eb">output_mult_</a> - current_output_mult) * (1.0f / num_samples);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="comment">// Interpolate mix changes</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> current_mix = <a class="code hl_variable" href="classvital_1_1_compressor.html#ab234ef7ab570d13112c45f74b45153f8">mix_</a>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#ab234ef7ab570d13112c45f74b45153f8">mix_</a> = <a class="code hl_function" href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">utils::clamp</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba4b4b852bf8c3003e02c67b1fa28d70ad">kMix</a>)-&gt;at(0), 0.0f, 1.0f);</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> delta_mix = (<a class="code hl_variable" href="classvital_1_1_compressor.html#ab234ef7ab570d13112c45f74b45153f8">mix_</a> - current_mix) * (1.0f / num_samples);</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_samples; ++i) {</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>      current_output_mult += delta_output_mult;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>      current_mix += delta_mix;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>      <span class="comment">// Blend dry (audio_input) and wet (compressed audio_out * current_output_mult)</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>      audio_out[i] = <a class="code hl_function" href="namespacevital_1_1utils.html#ae1ebe307e6064bb3d3bf55a2258d308a">utils::interpolate</a>(audio_input[i], audio_out[i] * current_output_mult, current_mix);</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>      <a class="code hl_define" href="common_8h.html#ab6dc6a12600086762731fd406e501cf2">VITAL_ASSERT</a>(<a class="code hl_function" href="namespacevital_1_1utils.html#a80ba548455cae89a92de477250c013c5">utils::isContained</a>(audio_out[i]));</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    }</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>  }</div>
</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="foldopen" id="foldopen00222" data-start="{" data-end="}">
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="classvital_1_1_compressor.html#a8f91180074c6ea0813558a031843d080">  222</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_compressor.html#a8f91180074c6ea0813558a031843d080">Compressor::reset</a>(<a class="code hl_struct" href="structvital_1_1poly__int.html">poly_mask</a> reset_mask) {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a1b02cbaad1bf88126db70f1521b773f7">input_mean_squared_</a> = 0.0f;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a6874e43b3af2dfccaa5e29f1c20b1118">output_mean_squared_</a> = 0.0f;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#ae13133a73db688004d861006142f51eb">output_mult_</a> = 0.0f;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#ab234ef7ab570d13112c45f74b45153f8">mix_</a> = 0.0f;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a40250c2ca0acdd1b79b65a3b06460c10">high_enveloped_mean_squared_</a> = 0.0f;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_variable" href="classvital_1_1_compressor.html#a6ae8ac4b688338ee3361868d5e5dd56e">low_enveloped_mean_squared_</a> = 0.0f;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  }</div>
</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="foldopen" id="foldopen00239" data-start="{" data-end="}">
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="classvital_1_1_compressor.html#a5a21c3c32114d65d5aeb5ca8270477e8">  239</a></span>  <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> <a class="code hl_function" href="classvital_1_1_compressor.html#a5a21c3c32114d65d5aeb5ca8270477e8">Compressor::computeMeanSquared</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* audio_in,</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>                                            <span class="keywordtype">int</span> num_samples,</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>                                            <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> mean_squared) {</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="keywordtype">int</span> rms_samples = kRmsTime * <a class="code hl_function" href="classvital_1_1_processor.html#a70822ba483c1a6528f1809621befd4b8">getSampleRate</a>();</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <span class="keywordtype">float</span> rms_adjusted = rms_samples - 1.0f;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <a class="code hl_typedef" href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">mono_float</a> input_scale = 1.0f / rms_samples;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_samples; ++i) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> sample = audio_in[i];</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> sample_squared = sample * sample;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>      mean_squared = (mean_squared * rms_adjusted + sample_squared) * input_scale;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    }</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <span class="keywordflow">return</span> mean_squared;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  }</div>
</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  <span class="comment">//============================================================================</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>  <span class="comment">// MultibandCompressor</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>  <span class="comment">//============================================================================</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="foldopen" id="foldopen00264" data-start="{" data-end="}">
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#a2f2e350fda38daeeae4870b0c1a6eec6">  264</a></span>  <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a2f2e350fda38daeeae4870b0c1a6eec6">MultibandCompressor::MultibandCompressor</a>()</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    : <a class="code hl_class" href="classvital_1_1_processor.html">Processor</a>(kNumInputs, kNumOutputs),</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>      low_band_filter_(120.0f),</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>      band_high_filter_(2500.0f),</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>      low_band_compressor_(kLowAttackMs, kLowReleaseMs, kBandAttackMs, kBandReleaseMs),</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>      band_high_compressor_(kBandAttackMs, kBandReleaseMs, kHighAttackMs, kHighReleaseMs) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a94e0464403c0631061bd935a26217b22">was_low_enabled_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a4cce689aaf10d72768f5c47e60431d4c">was_high_enabled_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="comment">// Connect band thresholds/ratios to the low band compressor</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a24f62d5ecec72449a8cb2cdd748c152d">low_band_upper_threshold_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba790a2b2be0cf991bf0d74c349e22b9c0">Compressor::kUpperThreshold</a>);</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#adb74a2ab8b4b0920f6c81b09ad7dedac">low_band_lower_threshold_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba7bb69ac0fd8181d0d7120a716a9b5d21">Compressor::kLowerThreshold</a>);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a855295aede56869a5ebb64545e31e2e3">low_band_upper_ratio_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba5e459570fdb24a428056cdfeb6b0b2ae">Compressor::kUpperRatio</a>);</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#ac02f6e0cf5d55d7c424daeb84b66e402">low_band_lower_ratio_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bae7cb7265e6dfba1db099c45f3941992f">Compressor::kLowerRatio</a>);</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#ae28f11648d516f6005cb90c5a198a503">low_band_output_gain_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bac77c2f3768306df4a83e6c00ea180839">Compressor::kOutputGain</a>);</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a78efa1437ab306088d67a66f681b12e5">useInput</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a76e15ead843b1c3b73e0af6e82779c7d">kAttack</a>), <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bac2a310693bf7fcf08a6ef0c832f9885d">Compressor::kAttack</a>);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a78efa1437ab306088d67a66f681b12e5">useInput</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a98be9968bc10b5c5086a2c30a9aef5a1">kRelease</a>), <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba993745a097b9eb75d9b3c73e5b77c4f7">Compressor::kRelease</a>);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a78efa1437ab306088d67a66f681b12e5">useInput</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a9d8459cc4143ba4df31b801978563d4d">kMix</a>), <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba4b4b852bf8c3003e02c67b1fa28d70ad">Compressor::kMix</a>);</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span> </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="comment">// Connect band thresholds/ratios to the band+high compressor</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a70db166d005947f33bab971a9a8616a3">band_high_upper_threshold_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba790a2b2be0cf991bf0d74c349e22b9c0">Compressor::kUpperThreshold</a>);</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#af518d6ee41b0285a6b74d641f70f1b25">band_high_lower_threshold_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba7bb69ac0fd8181d0d7120a716a9b5d21">Compressor::kLowerThreshold</a>);</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a634a72bd149f5761398def0017ecccdc">band_high_upper_ratio_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba5e459570fdb24a428056cdfeb6b0b2ae">Compressor::kUpperRatio</a>);</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a99995519dfc0c846bd1e8112cbbc18e8">band_high_lower_ratio_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bae7cb7265e6dfba1db099c45f3941992f">Compressor::kLowerRatio</a>);</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">plug</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#aecfe26be437d59889219e8f49229b61b">band_high_output_gain_</a>, <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bac77c2f3768306df4a83e6c00ea180839">Compressor::kOutputGain</a>);</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a78efa1437ab306088d67a66f681b12e5">useInput</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a76e15ead843b1c3b73e0af6e82779c7d">kAttack</a>), <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bac2a310693bf7fcf08a6ef0c832f9885d">Compressor::kAttack</a>);</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a78efa1437ab306088d67a66f681b12e5">useInput</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a98be9968bc10b5c5086a2c30a9aef5a1">kRelease</a>), <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba993745a097b9eb75d9b3c73e5b77c4f7">Compressor::kRelease</a>);</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a78efa1437ab306088d67a66f681b12e5">useInput</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a9d8459cc4143ba4df31b801978563d4d">kMix</a>), <a class="code hl_enumvalue" href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba4b4b852bf8c3003e02c67b1fa28d70ad">Compressor::kMix</a>);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  }</div>
</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="foldopen" id="foldopen00299" data-start="{" data-end="}">
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#a35f8f6c1d5fc3da28bf3a6b4771c5042">  299</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a35f8f6c1d5fc3da28bf3a6b4771c5042">MultibandCompressor::setOversampleAmount</a>(<span class="keywordtype">int</span> oversample) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <a class="code hl_function" href="classvital_1_1_processor.html#a2684da3687deca092882748cf170eac7">Processor::setOversampleAmount</a>(oversample);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">low_band_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a4b33ca0550488443b501cdc53454a388">setOversampleAmount</a>(oversample);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a4b33ca0550488443b501cdc53454a388">setOversampleAmount</a>(oversample);</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a2684da3687deca092882748cf170eac7">setOversampleAmount</a>(oversample);</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#a2684da3687deca092882748cf170eac7">setOversampleAmount</a>(oversample);</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>  }</div>
</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="foldopen" id="foldopen00312" data-start="{" data-end="}">
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#a49fa704707e994113a424018002a30a2">  312</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a49fa704707e994113a424018002a30a2">MultibandCompressor::setSampleRate</a>(<span class="keywordtype">int</span> sample_rate) {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ac778f37e9b9e3c1c05fca568e8f8664c">Processor::setSampleRate</a>(sample_rate);</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">low_band_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#acc938aac33781871042da50cc1d158ac">setSampleRate</a>(sample_rate);</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#acc938aac33781871042da50cc1d158ac">setSampleRate</a>(sample_rate);</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#ac778f37e9b9e3c1c05fca568e8f8664c">setSampleRate</a>(sample_rate);</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#ac778f37e9b9e3c1c05fca568e8f8664c">setSampleRate</a>(sample_rate);</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  }</div>
</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="foldopen" id="foldopen00325" data-start="{" data-end="}">
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#ac91f69d01c13807572634e3569130ba6">  325</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#ac91f69d01c13807572634e3569130ba6">MultibandCompressor::reset</a>(<a class="code hl_struct" href="structvital_1_1poly__int.html">poly_mask</a> reset_mask) {</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">low_band_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a608ff5a4f1a68c8796e42e66c0f227b9">reset</a>(reset_mask);</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a608ff5a4f1a68c8796e42e66c0f227b9">reset</a>(reset_mask);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#a8f91180074c6ea0813558a031843d080">reset</a>(reset_mask);</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#a8f91180074c6ea0813558a031843d080">reset</a>(reset_mask);</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="comment">// Reset output buffers for RMS displays</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a920d046f999a26d6c84fab17af459749">kLowInputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = 0.0f;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a657e5d0694e0a3bea0bc2ad158b56e83">kLowOutputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = 0.0f;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9aa1d6d12a3e5fb8ed415a0993f7c26e48">kBandInputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = 0.0f;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a905d8622914791bae025917673b6b83e">kBandOutputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = 0.0f;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9acc874dacd57c2e7275e2528e8fcf21bb">kHighInputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = 0.0f;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a3d3d5ccbb51bc94ef7997472bf35b428">kHighOutputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = 0.0f;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>  }</div>
</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="foldopen" id="foldopen00345" data-start="{" data-end="}">
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#a939ce67ed2fc73d53deb924637fa062d">  345</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a939ce67ed2fc73d53deb924637fa062d">MultibandCompressor::process</a>(<span class="keywordtype">int</span> num_samples) {</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a73f474525b7cf4a8a02d0f68eff40254">processWithInput</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63abd42cdbff75a0cb905d896f2fb7debde">kAudio</a>)-&gt;source-&gt;buffer, num_samples);</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  }</div>
</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="foldopen" id="foldopen00358" data-start="{" data-end="}">
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#ac2d2fadb7a0f02161329ce8428feed42">  358</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#ac2d2fadb7a0f02161329ce8428feed42">MultibandCompressor::packFilterOutput</a>(<a class="code hl_class" href="classvital_1_1_linkwitz_riley_filter.html">LinkwitzRileyFilter</a>* filter, <span class="keywordtype">int</span> num_samples, <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* dest) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* low_output = filter-&gt;<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_linkwitz_riley_filter.html#acf880f05c6147a79271165c7ed031e0ba15152943e1f9bd2009207b692b01bcf1">LinkwitzRileyFilter::kAudioLow</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* high_output = filter-&gt;<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_linkwitz_riley_filter.html#acf880f05c6147a79271165c7ed031e0ba950a5d303e3a579b697bf6f0161614bc">LinkwitzRileyFilter::kAudioHigh</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_samples; ++i) {</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_sample = low_output[i];</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> high_sample = <a class="code hl_function" href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">utils::swapVoices</a>(high_output[i]);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>      dest[i] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(high_sample, low_sample, <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>  }</div>
</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="foldopen" id="foldopen00375" data-start="{" data-end="}">
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#a6c7dd630739cf384954b6d5283027ab9">  375</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a6c7dd630739cf384954b6d5283027ab9">MultibandCompressor::packLowBandCompressor</a>(<span class="keywordtype">int</span> num_samples, <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* dest) {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* low_output = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_linkwitz_riley_filter.html#acf880f05c6147a79271165c7ed031e0ba15152943e1f9bd2009207b692b01bcf1">LinkwitzRileyFilter::kAudioLow</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* high_output = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_linkwitz_riley_filter.html#acf880f05c6147a79271165c7ed031e0ba950a5d303e3a579b697bf6f0161614bc">LinkwitzRileyFilter::kAudioHigh</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_samples; ++i) {</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_band_sample = low_output[i];</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_high_sample = high_output[i] &amp; <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>      dest[i] = low_band_sample + low_high_sample;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    }</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>  }</div>
</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="foldopen" id="foldopen00394" data-start="{" data-end="}">
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#a938288951a1a21f633b7539ee7a634b8">  394</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a938288951a1a21f633b7539ee7a634b8">MultibandCompressor::writeAllCompressorOutputs</a>(<span class="keywordtype">int</span> num_samples, <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* dest) {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* low_band_output = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52">Compressor::kAudioOut</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* high_output = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52">Compressor::kAudioOut</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_samples; ++i) {</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>      <span class="comment">// Sum left/right voices for low band and high band separately</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_band_sample = low_band_output[i];</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>      low_band_sample += <a class="code hl_function" href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">utils::swapVoices</a>(low_band_sample);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> high_sample = <a class="code hl_function" href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">utils::swapVoices</a>(high_output[i]);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>      dest[i] = low_band_sample + high_sample;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>  }</div>
</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="foldopen" id="foldopen00415" data-start="{" data-end="}">
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#a8f2dc1da079ee7055edfd91e694ea677">  415</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a8f2dc1da079ee7055edfd91e694ea677">MultibandCompressor::writeCompressorOutputs</a>(<a class="code hl_class" href="classvital_1_1_compressor.html">Compressor</a>* compressor, <span class="keywordtype">int</span> num_samples, <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* dest) {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* compressor_output = compressor-&gt;<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52">Compressor::kAudioOut</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_samples; ++i) {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>      <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> sample = compressor_output[i];</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>      dest[i] = sample + <a class="code hl_function" href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">utils::swapVoices</a>(sample);</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    }</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>  }</div>
</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span> </div>
<div class="foldopen" id="foldopen00433" data-start="{" data-end="}">
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno"><a class="line" href="classvital_1_1_multiband_compressor.html#a73f474525b7cf4a8a02d0f68eff40254">  433</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a73f474525b7cf4a8a02d0f68eff40254">MultibandCompressor::processWithInput</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* audio_in, <span class="keywordtype">int</span> num_samples) {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="keywordtype">int</span> enabled_bands = <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a3d7868725a7d2e49cbb4f17c4435abe7">kEnabledBands</a>)-&gt;<a class="code hl_function" href="structvital_1_1_input.html#a8b744f4bd880c0262465eceb8d63d268">at</a>(0)[0];</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="keywordtype">bool</span> low_enabled = (enabled_bands == <a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#af96095570341cf5a6feee506e6e50bdaa9b25ed09ae5651d28ea5c3440da25d6a">kMultiband</a> || enabled_bands == <a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#af96095570341cf5a6feee506e6e50bdaa40722039a451be32b3478ef368ebf57a">kLowBand</a>);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordtype">bool</span> high_enabled = (enabled_bands == <a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#af96095570341cf5a6feee506e6e50bdaa9b25ed09ae5651d28ea5c3440da25d6a">kMultiband</a> || enabled_bands == <a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#af96095570341cf5a6feee506e6e50bdaa18ea48657b6c6729a276c9632c849d51">kHighBand</a>);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    <span class="comment">// Retrieve thresholds and ratios from the user inputs, applying them to low or band+high as needed</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a24f62d5ecec72449a8cb2cdd748c152d">low_band_upper_threshold_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63abbeedbe4ef06e7ec3a1a7489881ed3be">kBandUpperThreshold</a>)-&gt;at(0),</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>                                                          <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a46dc269592b27b88c3394e19731b2fe5">kLowUpperThreshold</a>)-&gt;at(0),</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>                                                          <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a70db166d005947f33bab971a9a8616a3">band_high_upper_threshold_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a2744e6d0b16e6ddda63fcaee837388dd">kHighUpperThreshold</a>)-&gt;at(0),</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>                                                           <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63abbeedbe4ef06e7ec3a1a7489881ed3be">kBandUpperThreshold</a>)-&gt;at(0),</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>                                                           <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#adb74a2ab8b4b0920f6c81b09ad7dedac">low_band_lower_threshold_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a6acbfc38a433ea5039b15ff10e003e19">kBandLowerThreshold</a>)-&gt;at(0),</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                                                          <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a2e94f1088c73d66d3cd5312dc8d13d69">kLowLowerThreshold</a>)-&gt;at(0),</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                                                          <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#af518d6ee41b0285a6b74d641f70f1b25">band_high_lower_threshold_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a48333d1fb3b0a7d6d9260519ae941a9e">kHighLowerThreshold</a>)-&gt;at(0),</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                                                           <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a6acbfc38a433ea5039b15ff10e003e19">kBandLowerThreshold</a>)-&gt;at(0),</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                                                           <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a855295aede56869a5ebb64545e31e2e3">low_band_upper_ratio_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a5b0ccae5c2dd481d4f4713d0222f300f">kBandUpperRatio</a>)-&gt;at(0),</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>                                                      <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63acdec5fe12b6a22b5ed3293e11606cf79">kLowUpperRatio</a>)-&gt;at(0),</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>                                                      <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a634a72bd149f5761398def0017ecccdc">band_high_upper_ratio_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a3e33f17e65c663ce88d65f5e24eee38d">kHighUpperRatio</a>)-&gt;at(0),</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>                                                       <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a5b0ccae5c2dd481d4f4713d0222f300f">kBandUpperRatio</a>)-&gt;at(0),</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                                                       <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#ac02f6e0cf5d55d7c424daeb84b66e402">low_band_lower_ratio_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63af6293cc8a9939625ca9b9c1a6a9c3703">kBandLowerRatio</a>)-&gt;at(0),</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                                                      <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a77bfd44b2d16ca1fb228a9f58721adb8">kLowLowerRatio</a>)-&gt;at(0),</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                                                      <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a99995519dfc0c846bd1e8112cbbc18e8">band_high_lower_ratio_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63acf4b2dca740baad94e6743b68ec657c5">kHighLowerRatio</a>)-&gt;at(0),</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                                                       <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63af6293cc8a9939625ca9b9c1a6a9c3703">kBandLowerRatio</a>)-&gt;at(0),</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                                                       <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#ae28f11648d516f6005cb90c5a198a503">low_band_output_gain_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63abfc62fc42be5d015b7940523c665f539">kBandOutputGain</a>)-&gt;at(0),</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                                                      <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63af27f7134fd6576ec0694010740e62252">kLowOutputGain</a>)-&gt;at(0),</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>                                                      <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#aecfe26be437d59889219e8f49229b61b">band_high_output_gain_</a>.<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">utils::maskLoad</a>(<a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a5c2b7c9813da25779caa94b152bf7c73">kHighOutputGain</a>)-&gt;at(0),</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>                                                       <a class="code hl_function" href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">input</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63abfc62fc42be5d015b7940523c665f539">kBandOutputGain</a>)-&gt;at(0),</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>                                                       <a class="code hl_variable" href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">constants::kFirstMask</a>);</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span> </div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    <span class="comment">// Reset filters/compressors if enabled band configuration changed</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="keywordflow">if</span> (low_enabled != <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a94e0464403c0631061bd935a26217b22">was_low_enabled_</a> || high_enabled != <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a4cce689aaf10d72768f5c47e60431d4c">was_high_enabled_</a>) {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">low_band_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a608ff5a4f1a68c8796e42e66c0f227b9">reset</a>(<a class="code hl_variable" href="namespacevital_1_1constants.html#a0ba15cafa5e21c3a54ff0e6208b860fa">constants::kFullMask</a>);</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a608ff5a4f1a68c8796e42e66c0f227b9">reset</a>(<a class="code hl_variable" href="namespacevital_1_1constants.html#a0ba15cafa5e21c3a54ff0e6208b860fa">constants::kFullMask</a>);</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#a8f91180074c6ea0813558a031843d080">reset</a>(<a class="code hl_variable" href="namespacevital_1_1constants.html#a0ba15cafa5e21c3a54ff0e6208b860fa">constants::kFullMask</a>);</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#a8f91180074c6ea0813558a031843d080">reset</a>(<a class="code hl_variable" href="namespacevital_1_1constants.html#a0ba15cafa5e21c3a54ff0e6208b860fa">constants::kFullMask</a>);</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a94e0464403c0631061bd935a26217b22">was_low_enabled_</a> = low_enabled;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a4cce689aaf10d72768f5c47e60431d4c">was_high_enabled_</a> = high_enabled;</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    }</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* audio_out = <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9aa82f426eaa1261de997e3b3b05729f6c">kAudioOut</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="comment">// Full multiband mode: low + band + high</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <span class="keywordflow">if</span> (low_enabled &amp;&amp; high_enabled) {</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>      <span class="comment">// Split signal into low and band+high</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">low_band_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a66a2230ac97af5b238e199ed4f07ae29">processWithInput</a>(audio_in, num_samples);</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>      <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#ac2d2fadb7a0f02161329ce8428feed42">packFilterOutput</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">low_band_filter_</a>, num_samples, audio_out);</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>      <span class="comment">// Split band+high further</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a66a2230ac97af5b238e199ed4f07ae29">processWithInput</a>(audio_out, num_samples);</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>      <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a6c7dd630739cf384954b6d5283027ab9">packLowBandCompressor</a>(num_samples, audio_out);</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>      <span class="comment">// Compress low band</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">processWithInput</a>(audio_out, num_samples);</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>      <span class="comment">// Compress high band</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>      <span class="keyword">const</span> <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a>* band_high_buffer = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_linkwitz_riley_filter.html#acf880f05c6147a79271165c7ed031e0ba950a5d303e3a579b697bf6f0161614bc">LinkwitzRileyFilter::kAudioHigh</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">processWithInput</a>(band_high_buffer, num_samples);</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>      <span class="comment">// Combine all</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>      <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a938288951a1a21f633b7539ee7a634b8">writeAllCompressorOutputs</a>(num_samples, audio_out);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    }</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="comment">// Only low band</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (low_enabled) {</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">low_band_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a66a2230ac97af5b238e199ed4f07ae29">processWithInput</a>(audio_in, num_samples);</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>      <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#ac2d2fadb7a0f02161329ce8428feed42">packFilterOutput</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">low_band_filter_</a>, num_samples, audio_out);</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">processWithInput</a>(audio_out, num_samples);</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>      <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a8f2dc1da079ee7055edfd91e694ea677">writeCompressorOutputs</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>, num_samples, audio_out);</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    }</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="comment">// Only high band</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (high_enabled) {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>.<a class="code hl_function" href="classvital_1_1_linkwitz_riley_filter.html#a66a2230ac97af5b238e199ed4f07ae29">processWithInput</a>(audio_in, num_samples);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>      <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#ac2d2fadb7a0f02161329ce8428feed42">packFilterOutput</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">band_high_filter_</a>, num_samples, audio_out);</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">processWithInput</a>(audio_out, num_samples);</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>      <a class="code hl_function" href="classvital_1_1_multiband_compressor.html#a8f2dc1da079ee7055edfd91e694ea677">writeCompressorOutputs</a>(&amp;<a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>, num_samples, audio_out);</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    }</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="comment">// Single band, no filter</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>      <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">processWithInput</a>(audio_in, num_samples);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>      <a class="code hl_function" href="namespacevital_1_1utils.html#ace66114ab674022cfe117519c0de26ab">utils::copyBuffer</a>(audio_out, <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_compressor.html#a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52">Compressor::kAudioOut</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>, num_samples);</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    }</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span> </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="comment">// Write mean squared values for GUI metering</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_band_input_ms = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#aeac0f7c9c631932aada9e47167fc4c45">getInputMeanSquared</a>();</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> band_high_input_ms = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#aeac0f7c9c631932aada9e47167fc4c45">getInputMeanSquared</a>();</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> low_band_output_ms = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">low_band_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#a9ce3191edc0849b650254a4e62a6bbeb">getOutputMeanSquared</a>();</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <a class="code hl_struct" href="structvital_1_1poly__float.html">poly_float</a> band_high_output_ms = <a class="code hl_variable" href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">band_high_compressor_</a>.<a class="code hl_function" href="classvital_1_1_compressor.html#a9ce3191edc0849b650254a4e62a6bbeb">getOutputMeanSquared</a>();</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a920d046f999a26d6c84fab17af459749">kLowInputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = low_band_input_ms;</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a657e5d0694e0a3bea0bc2ad158b56e83">kLowOutputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = low_band_output_ms;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="keywordflow">if</span> (low_enabled) {</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>      <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9aa1d6d12a3e5fb8ed415a0993f7c26e48">kBandInputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">utils::swapVoices</a>(low_band_input_ms);</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>      <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a905d8622914791bae025917673b6b83e">kBandOutputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">utils::swapVoices</a>(low_band_output_ms);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>      <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9aa1d6d12a3e5fb8ed415a0993f7c26e48">kBandInputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = band_high_input_ms;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>      <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a905d8622914791bae025917673b6b83e">kBandOutputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = band_high_output_ms;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    }</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span> </div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9acc874dacd57c2e7275e2528e8fcf21bb">kHighInputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">utils::swapVoices</a>(band_high_input_ms);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <a class="code hl_function" href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">output</a>(<a class="code hl_enumvalue" href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a3d3d5ccbb51bc94ef7997472bf35b428">kHighOutputMeanSquared</a>)-&gt;<a class="code hl_variable" href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">buffer</a>[0] = <a class="code hl_function" href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">utils::swapVoices</a>(band_high_output_ms);</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>  }</div>
</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>} <span class="comment">// namespace vital</span></div>
<div class="ttc" id="aclassvital_1_1_compressor_html"><div class="ttname"><a href="classvital_1_1_compressor.html">vital::Compressor</a></div><div class="ttdoc">A dynamic range compressor Processor that operates on a single band of audio.</div><div class="ttdef"><b>Definition</b> compressor.h:16</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a188b793f455bb4f3e3c4d4b527f9a966"><div class="ttname"><a href="classvital_1_1_compressor.html#a188b793f455bb4f3e3c4d4b527f9a966">vital::Compressor::base_release_ms_</a></div><div class="ttdeci">poly_float base_release_ms_</div><div class="ttdoc">Base release time in ms for the current voice.</div><div class="ttdef"><b>Definition</b> compressor.h:165</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a1b02cbaad1bf88126db70f1521b773f7"><div class="ttname"><a href="classvital_1_1_compressor.html#a1b02cbaad1bf88126db70f1521b773f7">vital::Compressor::input_mean_squared_</a></div><div class="ttdeci">poly_float input_mean_squared_</div><div class="ttdoc">Rolling mean squared value of the input signal.</div><div class="ttdef"><b>Definition</b> compressor.h:135</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a2bbf39af65c161914afe34514a68fce2"><div class="ttname"><a href="classvital_1_1_compressor.html#a2bbf39af65c161914afe34514a68fce2">vital::Compressor::Compressor</a></div><div class="ttdeci">Compressor(mono_float base_attack_ms_first, mono_float base_release_ms_first, mono_float base_attack_ms_second, mono_float base_release_ms_second)</div><div class="ttdoc">Constructs a Compressor Processor with given base attack and release times.</div><div class="ttdef"><b>Definition</b> compressor.cpp:60</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52"><div class="ttname"><a href="classvital_1_1_compressor.html#a351ffe2db9f745589aa34e2e7e81965fa72170f3baecc3363eb4b0cb4e446ce52">vital::Compressor::kAudioOut</a></div><div class="ttdeci">@ kAudioOut</div><div class="ttdoc">Compressed audio output.</div><div class="ttdef"><b>Definition</b> compressor.h:40</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a40250c2ca0acdd1b79b65a3b06460c10"><div class="ttname"><a href="classvital_1_1_compressor.html#a40250c2ca0acdd1b79b65a3b06460c10">vital::Compressor::high_enveloped_mean_squared_</a></div><div class="ttdeci">poly_float high_enveloped_mean_squared_</div><div class="ttdoc">Internal high enveloped mean squared value for upper threshold detection.</div><div class="ttdef"><b>Definition</b> compressor.h:145</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a4faeca92558ba8f46054c545b1c5c37e"><div class="ttname"><a href="classvital_1_1_compressor.html#a4faeca92558ba8f46054c545b1c5c37e">vital::Compressor::processRms</a></div><div class="ttdeci">void processRms(const poly_float *audio_in, int num_samples)</div><div class="ttdoc">Processes RMS for the input buffer and applies compression gain.</div><div class="ttdef"><b>Definition</b> compressor.cpp:110</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a4fd5d15eeb3bdd49c7dac0a0deb259c6"><div class="ttname"><a href="classvital_1_1_compressor.html#a4fd5d15eeb3bdd49c7dac0a0deb259c6">vital::Compressor::scaleOutput</a></div><div class="ttdeci">void scaleOutput(const poly_float *audio_input, int num_samples)</div><div class="ttdoc">Applies the final output scaling and dry/wet mix to the processed audio.</div><div class="ttdef"><b>Definition</b> compressor.cpp:192</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a5a21c3c32114d65d5aeb5ca8270477e8"><div class="ttname"><a href="classvital_1_1_compressor.html#a5a21c3c32114d65d5aeb5ca8270477e8">vital::Compressor::computeMeanSquared</a></div><div class="ttdeci">poly_float computeMeanSquared(const poly_float *audio_in, int num_samples, poly_float mean_squared)</div><div class="ttdoc">Computes the mean squared value over a buffer of samples.</div><div class="ttdef"><b>Definition</b> compressor.cpp:239</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a6874e43b3af2dfccaa5e29f1c20b1118"><div class="ttname"><a href="classvital_1_1_compressor.html#a6874e43b3af2dfccaa5e29f1c20b1118">vital::Compressor::output_mean_squared_</a></div><div class="ttdeci">poly_float output_mean_squared_</div><div class="ttdoc">Rolling mean squared value of the output signal.</div><div class="ttdef"><b>Definition</b> compressor.h:140</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a6ae8ac4b688338ee3361868d5e5dd56e"><div class="ttname"><a href="classvital_1_1_compressor.html#a6ae8ac4b688338ee3361868d5e5dd56e">vital::Compressor::low_enveloped_mean_squared_</a></div><div class="ttdeci">poly_float low_enveloped_mean_squared_</div><div class="ttdoc">Internal low enveloped mean squared value for lower threshold detection.</div><div class="ttdef"><b>Definition</b> compressor.h:150</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a8cf0d676bae2b6e70c48be568dfe9922"><div class="ttname"><a href="classvital_1_1_compressor.html#a8cf0d676bae2b6e70c48be568dfe9922">vital::Compressor::base_attack_ms_</a></div><div class="ttdeci">poly_float base_attack_ms_</div><div class="ttdoc">Base attack time in ms for the current voice.</div><div class="ttdef"><b>Definition</b> compressor.h:160</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a8f91180074c6ea0813558a031843d080"><div class="ttname"><a href="classvital_1_1_compressor.html#a8f91180074c6ea0813558a031843d080">vital::Compressor::reset</a></div><div class="ttdeci">void reset(poly_mask reset_mask) override</div><div class="ttdoc">Resets internal states and envelopes.</div><div class="ttdef"><b>Definition</b> compressor.cpp:222</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_a9ce3191edc0849b650254a4e62a6bbeb"><div class="ttname"><a href="classvital_1_1_compressor.html#a9ce3191edc0849b650254a4e62a6bbeb">vital::Compressor::getOutputMeanSquared</a></div><div class="ttdeci">force_inline poly_float getOutputMeanSquared()</div><div class="ttdoc">Retrieves the current output RMS value (mean squared).</div><div class="ttdef"><b>Definition</b> compressor.h:119</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_aa08b6d30d6b8df9d01bf650f4c33111f"><div class="ttname"><a href="classvital_1_1_compressor.html#aa08b6d30d6b8df9d01bf650f4c33111f">vital::Compressor::processWithInput</a></div><div class="ttdeci">virtual void processWithInput(const poly_float *audio_in, int num_samples) override</div><div class="ttdoc">Processes audio using the provided input buffer and writes to output.</div><div class="ttdef"><b>Definition</b> compressor.cpp:95</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_ab234ef7ab570d13112c45f74b45153f8"><div class="ttname"><a href="classvital_1_1_compressor.html#ab234ef7ab570d13112c45f74b45153f8">vital::Compressor::mix_</a></div><div class="ttdeci">poly_float mix_</div><div class="ttdoc">The current dry/wet mix (0.0 = fully dry, 1.0 = fully wet).</div><div class="ttdef"><b>Definition</b> compressor.h:155</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5ba4b4b852bf8c3003e02c67b1fa28d70ad"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba4b4b852bf8c3003e02c67b1fa28d70ad">vital::Compressor::kMix</a></div><div class="ttdeci">@ kMix</div><div class="ttdoc">Dry/Wet mix.</div><div class="ttdef"><b>Definition</b> compressor.h:31</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5ba5e459570fdb24a428056cdfeb6b0b2ae"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba5e459570fdb24a428056cdfeb6b0b2ae">vital::Compressor::kUpperRatio</a></div><div class="ttdeci">@ kUpperRatio</div><div class="ttdoc">Upper ratio (compression ratio above upper threshold)</div><div class="ttdef"><b>Definition</b> compressor.h:26</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5ba77b8a7ad27817896baea10d84d62f2e4"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba77b8a7ad27817896baea10d84d62f2e4">vital::Compressor::kAudio</a></div><div class="ttdeci">@ kAudio</div><div class="ttdoc">Input audio signal.</div><div class="ttdef"><b>Definition</b> compressor.h:23</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5ba790a2b2be0cf991bf0d74c349e22b9c0"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba790a2b2be0cf991bf0d74c349e22b9c0">vital::Compressor::kUpperThreshold</a></div><div class="ttdeci">@ kUpperThreshold</div><div class="ttdoc">Upper threshold in dB.</div><div class="ttdef"><b>Definition</b> compressor.h:24</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5ba7bb69ac0fd8181d0d7120a716a9b5d21"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba7bb69ac0fd8181d0d7120a716a9b5d21">vital::Compressor::kLowerThreshold</a></div><div class="ttdeci">@ kLowerThreshold</div><div class="ttdoc">Lower threshold in dB.</div><div class="ttdef"><b>Definition</b> compressor.h:25</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5ba993745a097b9eb75d9b3c73e5b77c4f7"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5ba993745a097b9eb75d9b3c73e5b77c4f7">vital::Compressor::kRelease</a></div><div class="ttdeci">@ kRelease</div><div class="ttdoc">Release time control (0.0 to 1.0 maps to exponential range)</div><div class="ttdef"><b>Definition</b> compressor.h:30</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5bac2a310693bf7fcf08a6ef0c832f9885d"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bac2a310693bf7fcf08a6ef0c832f9885d">vital::Compressor::kAttack</a></div><div class="ttdeci">@ kAttack</div><div class="ttdoc">Attack time control (0.0 to 1.0 maps to exponential range)</div><div class="ttdef"><b>Definition</b> compressor.h:29</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5bac77c2f3768306df4a83e6c00ea180839"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bac77c2f3768306df4a83e6c00ea180839">vital::Compressor::kOutputGain</a></div><div class="ttdeci">@ kOutputGain</div><div class="ttdoc">Output gain (dB)</div><div class="ttdef"><b>Definition</b> compressor.h:28</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_abe3662f5195f756d91649fc174fe7b5bae7cb7265e6dfba1db099c45f3941992f"><div class="ttname"><a href="classvital_1_1_compressor.html#abe3662f5195f756d91649fc174fe7b5bae7cb7265e6dfba1db099c45f3941992f">vital::Compressor::kLowerRatio</a></div><div class="ttdeci">@ kLowerRatio</div><div class="ttdoc">Lower ratio (expansion ratio below lower threshold)</div><div class="ttdef"><b>Definition</b> compressor.h:27</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_adcb70e28ab31dc6c4f7247190b834af7"><div class="ttname"><a href="classvital_1_1_compressor.html#adcb70e28ab31dc6c4f7247190b834af7">vital::Compressor::process</a></div><div class="ttdeci">virtual void process(int num_samples) override</div><div class="ttdoc">Processes audio using the input audio buffer, modifying output buffer in-place.</div><div class="ttdef"><b>Definition</b> compressor.cpp:83</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_ae13133a73db688004d861006142f51eb"><div class="ttname"><a href="classvital_1_1_compressor.html#ae13133a73db688004d861006142f51eb">vital::Compressor::output_mult_</a></div><div class="ttdeci">poly_float output_mult_</div><div class="ttdoc">Current multiplier for output gain (converted from dB).</div><div class="ttdef"><b>Definition</b> compressor.h:170</div></div>
<div class="ttc" id="aclassvital_1_1_compressor_html_aeac0f7c9c631932aada9e47167fc4c45"><div class="ttname"><a href="classvital_1_1_compressor.html#aeac0f7c9c631932aada9e47167fc4c45">vital::Compressor::getInputMeanSquared</a></div><div class="ttdeci">force_inline poly_float getInputMeanSquared()</div><div class="ttdoc">Retrieves the current input RMS value (mean squared).</div><div class="ttdef"><b>Definition</b> compressor.h:112</div></div>
<div class="ttc" id="aclassvital_1_1_linkwitz_riley_filter_html"><div class="ttname"><a href="classvital_1_1_linkwitz_riley_filter.html">vital::LinkwitzRileyFilter</a></div><div class="ttdoc">A Linkwitz-Riley crossover filter splitting audio into low and high bands.</div><div class="ttdef"><b>Definition</b> linkwitz_riley_filter.h:17</div></div>
<div class="ttc" id="aclassvital_1_1_linkwitz_riley_filter_html_a4b33ca0550488443b501cdc53454a388"><div class="ttname"><a href="classvital_1_1_linkwitz_riley_filter.html#a4b33ca0550488443b501cdc53454a388">vital::LinkwitzRileyFilter::setOversampleAmount</a></div><div class="ttdeci">void setOversampleAmount(int oversample_amount) override</div><div class="ttdoc">Sets the internal oversample amount and recomputes filter coefficients.</div><div class="ttdef"><b>Definition</b> linkwitz_riley_filter.cpp:164</div></div>
<div class="ttc" id="aclassvital_1_1_linkwitz_riley_filter_html_a608ff5a4f1a68c8796e42e66c0f227b9"><div class="ttname"><a href="classvital_1_1_linkwitz_riley_filter.html#a608ff5a4f1a68c8796e42e66c0f227b9">vital::LinkwitzRileyFilter::reset</a></div><div class="ttdeci">void reset(poly_mask reset_mask) override</div><div class="ttdoc">Resets the internal states (delay lines) for the specified voices.</div><div class="ttdef"><b>Definition</b> linkwitz_riley_filter.cpp:173</div></div>
<div class="ttc" id="aclassvital_1_1_linkwitz_riley_filter_html_a66a2230ac97af5b238e199ed4f07ae29"><div class="ttname"><a href="classvital_1_1_linkwitz_riley_filter.html#a66a2230ac97af5b238e199ed4f07ae29">vital::LinkwitzRileyFilter::processWithInput</a></div><div class="ttdeci">void processWithInput(const poly_float *audio_in, int num_samples) override</div><div class="ttdoc">Processes the provided audio input buffer and writes low and high outputs to the Processors buffers.</div><div class="ttdef"><b>Definition</b> linkwitz_riley_filter.cpp:38</div></div>
<div class="ttc" id="aclassvital_1_1_linkwitz_riley_filter_html_acc938aac33781871042da50cc1d158ac"><div class="ttname"><a href="classvital_1_1_linkwitz_riley_filter.html#acc938aac33781871042da50cc1d158ac">vital::LinkwitzRileyFilter::setSampleRate</a></div><div class="ttdeci">void setSampleRate(int sample_rate) override</div><div class="ttdoc">Sets the internal sample rate and recomputes filter coefficients.</div><div class="ttdef"><b>Definition</b> linkwitz_riley_filter.cpp:155</div></div>
<div class="ttc" id="aclassvital_1_1_linkwitz_riley_filter_html_acf880f05c6147a79271165c7ed031e0ba15152943e1f9bd2009207b692b01bcf1"><div class="ttname"><a href="classvital_1_1_linkwitz_riley_filter.html#acf880f05c6147a79271165c7ed031e0ba15152943e1f9bd2009207b692b01bcf1">vital::LinkwitzRileyFilter::kAudioLow</a></div><div class="ttdeci">@ kAudioLow</div><div class="ttdoc">Low-frequency output.</div><div class="ttdef"><b>Definition</b> linkwitz_riley_filter.h:33</div></div>
<div class="ttc" id="aclassvital_1_1_linkwitz_riley_filter_html_acf880f05c6147a79271165c7ed031e0ba950a5d303e3a579b697bf6f0161614bc"><div class="ttname"><a href="classvital_1_1_linkwitz_riley_filter.html#acf880f05c6147a79271165c7ed031e0ba950a5d303e3a579b697bf6f0161614bc">vital::LinkwitzRileyFilter::kAudioHigh</a></div><div class="ttdeci">@ kAudioHigh</div><div class="ttdoc">High-frequency output.</div><div class="ttdef"><b>Definition</b> linkwitz_riley_filter.h:34</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a0abcb2a0046d90cc40270291e18d13b3"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a0abcb2a0046d90cc40270291e18d13b3">vital::MultibandCompressor::band_high_filter_</a></div><div class="ttdeci">LinkwitzRileyFilter band_high_filter_</div><div class="ttdoc">A Linkwitz-Riley filter splitting audio into band and high bands.</div><div class="ttdef"><b>Definition</b> compressor.h:368</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a1f569818640ff85531606832f7e647c9a3d3d5ccbb51bc94ef7997472bf35b428"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a3d3d5ccbb51bc94ef7997472bf35b428">vital::MultibandCompressor::kHighOutputMeanSquared</a></div><div class="ttdeci">@ kHighOutputMeanSquared</div><div class="ttdoc">High band output mean squared.</div><div class="ttdef"><b>Definition</b> compressor.h:235</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a1f569818640ff85531606832f7e647c9a657e5d0694e0a3bea0bc2ad158b56e83"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a657e5d0694e0a3bea0bc2ad158b56e83">vital::MultibandCompressor::kLowOutputMeanSquared</a></div><div class="ttdeci">@ kLowOutputMeanSquared</div><div class="ttdoc">Low band output mean squared.</div><div class="ttdef"><b>Definition</b> compressor.h:233</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a1f569818640ff85531606832f7e647c9a905d8622914791bae025917673b6b83e"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a905d8622914791bae025917673b6b83e">vital::MultibandCompressor::kBandOutputMeanSquared</a></div><div class="ttdeci">@ kBandOutputMeanSquared</div><div class="ttdoc">Band output mean squared.</div><div class="ttdef"><b>Definition</b> compressor.h:234</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a1f569818640ff85531606832f7e647c9a920d046f999a26d6c84fab17af459749"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9a920d046f999a26d6c84fab17af459749">vital::MultibandCompressor::kLowInputMeanSquared</a></div><div class="ttdeci">@ kLowInputMeanSquared</div><div class="ttdoc">Low band input mean squared.</div><div class="ttdef"><b>Definition</b> compressor.h:230</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a1f569818640ff85531606832f7e647c9aa1d6d12a3e5fb8ed415a0993f7c26e48"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9aa1d6d12a3e5fb8ed415a0993f7c26e48">vital::MultibandCompressor::kBandInputMeanSquared</a></div><div class="ttdeci">@ kBandInputMeanSquared</div><div class="ttdoc">Band input mean squared.</div><div class="ttdef"><b>Definition</b> compressor.h:231</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a1f569818640ff85531606832f7e647c9aa82f426eaa1261de997e3b3b05729f6c"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9aa82f426eaa1261de997e3b3b05729f6c">vital::MultibandCompressor::kAudioOut</a></div><div class="ttdeci">@ kAudioOut</div><div class="ttdoc">Combined compressed output.</div><div class="ttdef"><b>Definition</b> compressor.h:229</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a1f569818640ff85531606832f7e647c9acc874dacd57c2e7275e2528e8fcf21bb"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a1f569818640ff85531606832f7e647c9acc874dacd57c2e7275e2528e8fcf21bb">vital::MultibandCompressor::kHighInputMeanSquared</a></div><div class="ttdeci">@ kHighInputMeanSquared</div><div class="ttdoc">High band input mean squared.</div><div class="ttdef"><b>Definition</b> compressor.h:232</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a24f62d5ecec72449a8cb2cdd748c152d"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a24f62d5ecec72449a8cb2cdd748c152d">vital::MultibandCompressor::low_band_upper_threshold_</a></div><div class="ttdeci">cr::Output low_band_upper_threshold_</div><div class="ttdef"><b>Definition</b> compressor.h:349</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a2744e6d0b16e6ddda63fcaee837388dd"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a2744e6d0b16e6ddda63fcaee837388dd">vital::MultibandCompressor::kHighUpperThreshold</a></div><div class="ttdeci">@ kHighUpperThreshold</div><div class="ttdoc">Upper threshold (dB) for high band.</div><div class="ttdef"><b>Definition</b> compressor.h:198</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a2e94f1088c73d66d3cd5312dc8d13d69"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a2e94f1088c73d66d3cd5312dc8d13d69">vital::MultibandCompressor::kLowLowerThreshold</a></div><div class="ttdeci">@ kLowLowerThreshold</div><div class="ttdoc">Lower threshold (dB) for low band.</div><div class="ttdef"><b>Definition</b> compressor.h:199</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a3d7868725a7d2e49cbb4f17c4435abe7"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a3d7868725a7d2e49cbb4f17c4435abe7">vital::MultibandCompressor::kEnabledBands</a></div><div class="ttdeci">@ kEnabledBands</div><div class="ttdoc">Enabled bands (see BandOptions)</div><div class="ttdef"><b>Definition</b> compressor.h:207</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a3e33f17e65c663ce88d65f5e24eee38d"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a3e33f17e65c663ce88d65f5e24eee38d">vital::MultibandCompressor::kHighUpperRatio</a></div><div class="ttdeci">@ kHighUpperRatio</div><div class="ttdoc">Upper ratio for high band.</div><div class="ttdef"><b>Definition</b> compressor.h:192</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a46dc269592b27b88c3394e19731b2fe5"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a46dc269592b27b88c3394e19731b2fe5">vital::MultibandCompressor::kLowUpperThreshold</a></div><div class="ttdeci">@ kLowUpperThreshold</div><div class="ttdoc">Upper threshold (dB) for low band.</div><div class="ttdef"><b>Definition</b> compressor.h:196</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a48333d1fb3b0a7d6d9260519ae941a9e"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a48333d1fb3b0a7d6d9260519ae941a9e">vital::MultibandCompressor::kHighLowerThreshold</a></div><div class="ttdeci">@ kHighLowerThreshold</div><div class="ttdoc">Lower threshold (dB) for high band.</div><div class="ttdef"><b>Definition</b> compressor.h:201</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a5b0ccae5c2dd481d4f4713d0222f300f"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a5b0ccae5c2dd481d4f4713d0222f300f">vital::MultibandCompressor::kBandUpperRatio</a></div><div class="ttdeci">@ kBandUpperRatio</div><div class="ttdoc">Upper ratio for band.</div><div class="ttdef"><b>Definition</b> compressor.h:191</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a5c2b7c9813da25779caa94b152bf7c73"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a5c2b7c9813da25779caa94b152bf7c73">vital::MultibandCompressor::kHighOutputGain</a></div><div class="ttdeci">@ kHighOutputGain</div><div class="ttdoc">Output gain (dB) for high band.</div><div class="ttdef"><b>Definition</b> compressor.h:204</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a6acbfc38a433ea5039b15ff10e003e19"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a6acbfc38a433ea5039b15ff10e003e19">vital::MultibandCompressor::kBandLowerThreshold</a></div><div class="ttdeci">@ kBandLowerThreshold</div><div class="ttdoc">Lower threshold (dB) for band.</div><div class="ttdef"><b>Definition</b> compressor.h:200</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a76e15ead843b1c3b73e0af6e82779c7d"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a76e15ead843b1c3b73e0af6e82779c7d">vital::MultibandCompressor::kAttack</a></div><div class="ttdeci">@ kAttack</div><div class="ttdoc">Global attack control.</div><div class="ttdef"><b>Definition</b> compressor.h:205</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a77bfd44b2d16ca1fb228a9f58721adb8"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a77bfd44b2d16ca1fb228a9f58721adb8">vital::MultibandCompressor::kLowLowerRatio</a></div><div class="ttdeci">@ kLowLowerRatio</div><div class="ttdoc">Lower ratio for low band.</div><div class="ttdef"><b>Definition</b> compressor.h:193</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a98be9968bc10b5c5086a2c30a9aef5a1"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a98be9968bc10b5c5086a2c30a9aef5a1">vital::MultibandCompressor::kRelease</a></div><div class="ttdeci">@ kRelease</div><div class="ttdoc">Global release control.</div><div class="ttdef"><b>Definition</b> compressor.h:206</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63a9d8459cc4143ba4df31b801978563d4d"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63a9d8459cc4143ba4df31b801978563d4d">vital::MultibandCompressor::kMix</a></div><div class="ttdeci">@ kMix</div><div class="ttdoc">Dry/wet mix for all bands.</div><div class="ttdef"><b>Definition</b> compressor.h:208</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63abbeedbe4ef06e7ec3a1a7489881ed3be"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63abbeedbe4ef06e7ec3a1a7489881ed3be">vital::MultibandCompressor::kBandUpperThreshold</a></div><div class="ttdeci">@ kBandUpperThreshold</div><div class="ttdoc">Upper threshold (dB) for band.</div><div class="ttdef"><b>Definition</b> compressor.h:197</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63abd42cdbff75a0cb905d896f2fb7debde"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63abd42cdbff75a0cb905d896f2fb7debde">vital::MultibandCompressor::kAudio</a></div><div class="ttdeci">@ kAudio</div><div class="ttdoc">Input audio signal.</div><div class="ttdef"><b>Definition</b> compressor.h:189</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63abfc62fc42be5d015b7940523c665f539"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63abfc62fc42be5d015b7940523c665f539">vital::MultibandCompressor::kBandOutputGain</a></div><div class="ttdeci">@ kBandOutputGain</div><div class="ttdoc">Output gain (dB) for band.</div><div class="ttdef"><b>Definition</b> compressor.h:203</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63acdec5fe12b6a22b5ed3293e11606cf79"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63acdec5fe12b6a22b5ed3293e11606cf79">vital::MultibandCompressor::kLowUpperRatio</a></div><div class="ttdeci">@ kLowUpperRatio</div><div class="ttdoc">Upper ratio for low band.</div><div class="ttdef"><b>Definition</b> compressor.h:190</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63acf4b2dca740baad94e6743b68ec657c5"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63acf4b2dca740baad94e6743b68ec657c5">vital::MultibandCompressor::kHighLowerRatio</a></div><div class="ttdeci">@ kHighLowerRatio</div><div class="ttdoc">Lower ratio for high band.</div><div class="ttdef"><b>Definition</b> compressor.h:195</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63af27f7134fd6576ec0694010740e62252"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63af27f7134fd6576ec0694010740e62252">vital::MultibandCompressor::kLowOutputGain</a></div><div class="ttdeci">@ kLowOutputGain</div><div class="ttdoc">Output gain (dB) for low band.</div><div class="ttdef"><b>Definition</b> compressor.h:202</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2e1b6866d90d8eda87d7d32d6f08bc63af6293cc8a9939625ca9b9c1a6a9c3703"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2e1b6866d90d8eda87d7d32d6f08bc63af6293cc8a9939625ca9b9c1a6a9c3703">vital::MultibandCompressor::kBandLowerRatio</a></div><div class="ttdeci">@ kBandLowerRatio</div><div class="ttdoc">Lower ratio for band.</div><div class="ttdef"><b>Definition</b> compressor.h:194</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a2f2e350fda38daeeae4870b0c1a6eec6"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a2f2e350fda38daeeae4870b0c1a6eec6">vital::MultibandCompressor::MultibandCompressor</a></div><div class="ttdeci">MultibandCompressor()</div><div class="ttdoc">Constructs a MultibandCompressor, creating internal compressors and filters.</div><div class="ttdef"><b>Definition</b> compressor.cpp:264</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a35f8f6c1d5fc3da28bf3a6b4771c5042"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a35f8f6c1d5fc3da28bf3a6b4771c5042">vital::MultibandCompressor::setOversampleAmount</a></div><div class="ttdeci">void setOversampleAmount(int oversample) override</div><div class="ttdoc">Sets the amount of oversampling for the internal filters and compressors.</div><div class="ttdef"><b>Definition</b> compressor.cpp:299</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a49fa704707e994113a424018002a30a2"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a49fa704707e994113a424018002a30a2">vital::MultibandCompressor::setSampleRate</a></div><div class="ttdeci">void setSampleRate(int sample_rate) override</div><div class="ttdoc">Sets the current sample rate for the internal filters and compressors.</div><div class="ttdef"><b>Definition</b> compressor.cpp:312</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a4cce689aaf10d72768f5c47e60431d4c"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a4cce689aaf10d72768f5c47e60431d4c">vital::MultibandCompressor::was_high_enabled_</a></div><div class="ttdeci">bool was_high_enabled_</div><div class="ttdoc">Whether the high band was enabled on the previous process() call.</div><div class="ttdef"><b>Definition</b> compressor.h:337</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a634a72bd149f5761398def0017ecccdc"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a634a72bd149f5761398def0017ecccdc">vital::MultibandCompressor::band_high_upper_ratio_</a></div><div class="ttdeci">cr::Output band_high_upper_ratio_</div><div class="ttdef"><b>Definition</b> compressor.h:346</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a657aab8c775acb5944b815c5edbae181"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a657aab8c775acb5944b815c5edbae181">vital::MultibandCompressor::band_high_compressor_</a></div><div class="ttdeci">Compressor band_high_compressor_</div><div class="ttdoc">Compressor handling band + high, or high only if configured.</div><div class="ttdef"><b>Definition</b> compressor.h:378</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a6c7dd630739cf384954b6d5283027ab9"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a6c7dd630739cf384954b6d5283027ab9">vital::MultibandCompressor::packLowBandCompressor</a></div><div class="ttdeci">void packLowBandCompressor(int num_samples, poly_float *dest)</div><div class="ttdoc">Combines band filter outputs into a single buffer for the low band compressor.</div><div class="ttdef"><b>Definition</b> compressor.cpp:375</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a70db166d005947f33bab971a9a8616a3"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a70db166d005947f33bab971a9a8616a3">vital::MultibandCompressor::band_high_upper_threshold_</a></div><div class="ttdeci">cr::Output band_high_upper_threshold_</div><div class="ttdef"><b>Definition</b> compressor.h:350</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a73f474525b7cf4a8a02d0f68eff40254"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a73f474525b7cf4a8a02d0f68eff40254">vital::MultibandCompressor::processWithInput</a></div><div class="ttdeci">virtual void processWithInput(const poly_float *audio_in, int num_samples) override</div><div class="ttdoc">Processes audio using the given input buffer and writes to output.</div><div class="ttdef"><b>Definition</b> compressor.cpp:433</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a855295aede56869a5ebb64545e31e2e3"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a855295aede56869a5ebb64545e31e2e3">vital::MultibandCompressor::low_band_upper_ratio_</a></div><div class="ttdeci">cr::Output low_band_upper_ratio_</div><div class="ttdoc">Outputs for the low/band compressor thresholds and ratios.</div><div class="ttdef"><b>Definition</b> compressor.h:345</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a8f2dc1da079ee7055edfd91e694ea677"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a8f2dc1da079ee7055edfd91e694ea677">vital::MultibandCompressor::writeCompressorOutputs</a></div><div class="ttdeci">void writeCompressorOutputs(Compressor *compressor, int num_samples, poly_float *dest)</div><div class="ttdoc">Writes a single compressors output to a buffer when only one band is active.</div><div class="ttdef"><b>Definition</b> compressor.cpp:415</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a8f7370b8f6680e4e6ea4dc1739c51faf"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a8f7370b8f6680e4e6ea4dc1739c51faf">vital::MultibandCompressor::low_band_filter_</a></div><div class="ttdeci">LinkwitzRileyFilter low_band_filter_</div><div class="ttdoc">A Linkwitz-Riley filter splitting audio into low band and the rest (band + high).</div><div class="ttdef"><b>Definition</b> compressor.h:363</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a938288951a1a21f633b7539ee7a634b8"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a938288951a1a21f633b7539ee7a634b8">vital::MultibandCompressor::writeAllCompressorOutputs</a></div><div class="ttdeci">void writeAllCompressorOutputs(int num_samples, poly_float *dest)</div><div class="ttdoc">Writes the combined output of both compressors to a buffer.</div><div class="ttdef"><b>Definition</b> compressor.cpp:394</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a939ce67ed2fc73d53deb924637fa062d"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a939ce67ed2fc73d53deb924637fa062d">vital::MultibandCompressor::process</a></div><div class="ttdeci">virtual void process(int num_samples) override</div><div class="ttdoc">Processes audio using the input audio buffer.</div><div class="ttdef"><b>Definition</b> compressor.cpp:345</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a9483cebd888d1c878fa893e0cd7b6b45"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a9483cebd888d1c878fa893e0cd7b6b45">vital::MultibandCompressor::low_band_compressor_</a></div><div class="ttdeci">Compressor low_band_compressor_</div><div class="ttdoc">Compressor handling the low band.</div><div class="ttdef"><b>Definition</b> compressor.h:373</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a94e0464403c0631061bd935a26217b22"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a94e0464403c0631061bd935a26217b22">vital::MultibandCompressor::was_low_enabled_</a></div><div class="ttdeci">bool was_low_enabled_</div><div class="ttdoc">Whether the low band was enabled on the previous process() call.</div><div class="ttdef"><b>Definition</b> compressor.h:332</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_a99995519dfc0c846bd1e8112cbbc18e8"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#a99995519dfc0c846bd1e8112cbbc18e8">vital::MultibandCompressor::band_high_lower_ratio_</a></div><div class="ttdeci">cr::Output band_high_lower_ratio_</div><div class="ttdef"><b>Definition</b> compressor.h:348</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_ac02f6e0cf5d55d7c424daeb84b66e402"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#ac02f6e0cf5d55d7c424daeb84b66e402">vital::MultibandCompressor::low_band_lower_ratio_</a></div><div class="ttdeci">cr::Output low_band_lower_ratio_</div><div class="ttdef"><b>Definition</b> compressor.h:347</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_ac2d2fadb7a0f02161329ce8428feed42"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#ac2d2fadb7a0f02161329ce8428feed42">vital::MultibandCompressor::packFilterOutput</a></div><div class="ttdeci">void packFilterOutput(LinkwitzRileyFilter *filter, int num_samples, poly_float *dest)</div><div class="ttdoc">Extracts the LinkwitzRileyFilters output into a combined buffer for further processing.</div><div class="ttdef"><b>Definition</b> compressor.cpp:358</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_ac91f69d01c13807572634e3569130ba6"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#ac91f69d01c13807572634e3569130ba6">vital::MultibandCompressor::reset</a></div><div class="ttdeci">void reset(poly_mask reset_mask) override</div><div class="ttdoc">Resets internal states and filters.</div><div class="ttdef"><b>Definition</b> compressor.cpp:325</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_adb74a2ab8b4b0920f6c81b09ad7dedac"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#adb74a2ab8b4b0920f6c81b09ad7dedac">vital::MultibandCompressor::low_band_lower_threshold_</a></div><div class="ttdeci">cr::Output low_band_lower_threshold_</div><div class="ttdef"><b>Definition</b> compressor.h:351</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_ae28f11648d516f6005cb90c5a198a503"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#ae28f11648d516f6005cb90c5a198a503">vital::MultibandCompressor::low_band_output_gain_</a></div><div class="ttdeci">cr::Output low_band_output_gain_</div><div class="ttdoc">Gain controls for low and band/high compressors.</div><div class="ttdef"><b>Definition</b> compressor.h:357</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_aecfe26be437d59889219e8f49229b61b"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#aecfe26be437d59889219e8f49229b61b">vital::MultibandCompressor::band_high_output_gain_</a></div><div class="ttdeci">cr::Output band_high_output_gain_</div><div class="ttdef"><b>Definition</b> compressor.h:358</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_af518d6ee41b0285a6b74d641f70f1b25"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#af518d6ee41b0285a6b74d641f70f1b25">vital::MultibandCompressor::band_high_lower_threshold_</a></div><div class="ttdeci">cr::Output band_high_lower_threshold_</div><div class="ttdef"><b>Definition</b> compressor.h:352</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_af96095570341cf5a6feee506e6e50bdaa18ea48657b6c6729a276c9632c849d51"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#af96095570341cf5a6feee506e6e50bdaa18ea48657b6c6729a276c9632c849d51">vital::MultibandCompressor::kHighBand</a></div><div class="ttdeci">@ kHighBand</div><div class="ttdoc">Only high band active.</div><div class="ttdef"><b>Definition</b> compressor.h:219</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_af96095570341cf5a6feee506e6e50bdaa40722039a451be32b3478ef368ebf57a"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#af96095570341cf5a6feee506e6e50bdaa40722039a451be32b3478ef368ebf57a">vital::MultibandCompressor::kLowBand</a></div><div class="ttdeci">@ kLowBand</div><div class="ttdoc">Only low band active.</div><div class="ttdef"><b>Definition</b> compressor.h:218</div></div>
<div class="ttc" id="aclassvital_1_1_multiband_compressor_html_af96095570341cf5a6feee506e6e50bdaa9b25ed09ae5651d28ea5c3440da25d6a"><div class="ttname"><a href="classvital_1_1_multiband_compressor.html#af96095570341cf5a6feee506e6e50bdaa9b25ed09ae5651d28ea5c3440da25d6a">vital::MultibandCompressor::kMultiband</a></div><div class="ttdeci">@ kMultiband</div><div class="ttdoc">All three bands active.</div><div class="ttdef"><b>Definition</b> compressor.h:217</div></div>
<div class="ttc" id="aclassvital_1_1_processor_html"><div class="ttname"><a href="classvital_1_1_processor.html">vital::Processor</a></div><div class="ttdoc">Base class for all signal-processing units in Vital.</div><div class="ttdef"><b>Definition</b> processor.h:212</div></div>
<div class="ttc" id="aclassvital_1_1_processor_html_a2684da3687deca092882748cf170eac7"><div class="ttname"><a href="classvital_1_1_processor.html#a2684da3687deca092882748cf170eac7">vital::Processor::setOversampleAmount</a></div><div class="ttdeci">virtual void setOversampleAmount(int oversample)</div><div class="ttdoc">Sets the oversampling amount and updates the effective sample rate.</div><div class="ttdef"><b>Definition</b> processor.h:293</div></div>
<div class="ttc" id="aclassvital_1_1_processor_html_a6785b9361f8b2fd7638c6a02483ec9eb"><div class="ttname"><a href="classvital_1_1_processor.html#a6785b9361f8b2fd7638c6a02483ec9eb">vital::Processor::input</a></div><div class="ttdeci">force_inline Input * input(unsigned int index=0) const</div><div class="ttdoc">Retrieves the Input pointer at a given index.</div><div class="ttdef"><b>Definition</b> processor.h:587</div></div>
<div class="ttc" id="aclassvital_1_1_processor_html_a70822ba483c1a6528f1809621befd4b8"><div class="ttname"><a href="classvital_1_1_processor.html#a70822ba483c1a6528f1809621befd4b8">vital::Processor::getSampleRate</a></div><div class="ttdeci">force_inline int getSampleRate() const</div><div class="ttdoc">Retrieves the current (effective) sample rate.</div><div class="ttdef"><b>Definition</b> processor.h:326</div></div>
<div class="ttc" id="aclassvital_1_1_processor_html_a78efa1437ab306088d67a66f681b12e5"><div class="ttname"><a href="classvital_1_1_processor.html#a78efa1437ab306088d67a66f681b12e5">vital::Processor::useInput</a></div><div class="ttdeci">void useInput(Input *input)</div><div class="ttdoc">Uses an existing Input object as this Processor's first input.</div><div class="ttdef"><b>Definition</b> processor.cpp:126</div></div>
<div class="ttc" id="aclassvital_1_1_processor_html_a99005e6f52c7289c548a51065582e3ac"><div class="ttname"><a href="classvital_1_1_processor.html#a99005e6f52c7289c548a51065582e3ac">vital::Processor::plug</a></div><div class="ttdeci">void plug(const Output *source)</div><div class="ttdoc">Connects an external Output to this Processor's first input.</div><div class="ttdef"><b>Definition</b> processor.cpp:79</div></div>
<div class="ttc" id="aclassvital_1_1_processor_html_ab09651265a7270548b77e99b1316fde0"><div class="ttname"><a href="classvital_1_1_processor.html#ab09651265a7270548b77e99b1316fde0">vital::Processor::output</a></div><div class="ttdeci">force_inline Output * output(unsigned int index=0) const</div><div class="ttdoc">Retrieves the Output pointer at a given index.</div><div class="ttdef"><b>Definition</b> processor.h:616</div></div>
<div class="ttc" id="aclassvital_1_1_processor_html_ac778f37e9b9e3c1c05fca568e8f8664c"><div class="ttname"><a href="classvital_1_1_processor.html#ac778f37e9b9e3c1c05fca568e8f8664c">vital::Processor::setSampleRate</a></div><div class="ttdeci">virtual void setSampleRate(int sample_rate)</div><div class="ttdoc">Updates the sample rate of this Processor (scaled by oversampling).</div><div class="ttdef"><b>Definition</b> processor.h:285</div></div>
<div class="ttc" id="acommon_8h_html_ab6dc6a12600086762731fd406e501cf2"><div class="ttname"><a href="common_8h.html#ab6dc6a12600086762731fd406e501cf2">VITAL_ASSERT</a></div><div class="ttdeci">#define VITAL_ASSERT(x)</div><div class="ttdef"><b>Definition</b> common.h:11</div></div>
<div class="ttc" id="acompressor_8h_html"><div class="ttname"><a href="compressor_8h.html">compressor.h</a></div></div>
<div class="ttc" id="aformant__filter_8cpp_html_a17ef5650d770eecdb2b915f7b7854f03"><div class="ttname"><a href="formant__filter_8cpp.html#a17ef5650d770eecdb2b915f7b7854f03">gain</a></div><div class="ttdeci">cr::Value gain</div><div class="ttdoc">Relative gain for this formant stage.</div><div class="ttdef"><b>Definition</b> formant_filter.cpp:17</div></div>
<div class="ttc" id="afutils_8h_html"><div class="ttname"><a href="futils_8h.html">futils.h</a></div><div class="ttdoc">Contains faster but less accurate versions of utility math functions, such as exponential,...</div></div>
<div class="ttc" id="anamespacevital_1_1constants_html_a0ba15cafa5e21c3a54ff0e6208b860fa"><div class="ttname"><a href="namespacevital_1_1constants.html#a0ba15cafa5e21c3a54ff0e6208b860fa">vital::constants::kFullMask</a></div><div class="ttdeci">const poly_mask kFullMask</div><div class="ttdoc">A mask covering all lanes of a poly_float vector.</div><div class="ttdef"><b>Definition</b> synth_constants.h:257</div></div>
<div class="ttc" id="anamespacevital_1_1constants_html_a408107fa8a247ec0f97bd353a51e8393"><div class="ttname"><a href="namespacevital_1_1constants.html#a408107fa8a247ec0f97bd353a51e8393">vital::constants::kFirstMask</a></div><div class="ttdeci">const poly_mask kFirstMask</div><div class="ttdoc">A mask identifying the first voice slots in a polyphonic vector.</div><div class="ttdef"><b>Definition</b> synth_constants.h:266</div></div>
<div class="ttc" id="anamespacevital_1_1futils_html_ad0ad3cd83f0a4d5a41505d7f1df8adbf"><div class="ttname"><a href="namespacevital_1_1futils.html#ad0ad3cd83f0a4d5a41505d7f1df8adbf">vital::futils::exp</a></div><div class="ttdeci">force_inline mono_float exp(mono_float exponent)</div><div class="ttdef"><b>Definition</b> futils.h:132</div></div>
<div class="ttc" id="anamespacevital_1_1futils_html_ae7439e66951da54e8d732fd62619bc5b"><div class="ttname"><a href="namespacevital_1_1futils.html#ae7439e66951da54e8d732fd62619bc5b">vital::futils::pow</a></div><div class="ttdeci">force_inline mono_float pow(mono_float base, mono_float exponent)</div><div class="ttdef"><b>Definition</b> futils.h:141</div></div>
<div class="ttc" id="anamespacevital_1_1futils_html_aeb7b7646b5c704ad5c1e23d4cb1a75f4"><div class="ttname"><a href="namespacevital_1_1futils.html#aeb7b7646b5c704ad5c1e23d4cb1a75f4">vital::futils::dbToMagnitude</a></div><div class="ttdeci">force_inline mono_float dbToMagnitude(mono_float decibels)</div><div class="ttdoc">Converts decibels (dB) to magnitude (linear).</div><div class="ttdef"><b>Definition</b> futils.h:217</div></div>
<div class="ttc" id="anamespacevital_1_1utils_html_a13a19cf68aa11afa58de96f14442003a"><div class="ttname"><a href="namespacevital_1_1utils.html#a13a19cf68aa11afa58de96f14442003a">vital::utils::clamp</a></div><div class="ttdeci">force_inline poly_float clamp(poly_float value, mono_float min, mono_float max)</div><div class="ttdoc">Clamps each lane of a vector to [min, max].</div><div class="ttdef"><b>Definition</b> poly_utils.h:306</div></div>
<div class="ttc" id="anamespacevital_1_1utils_html_a5b6ee09220fec012fc1597235e4c50e3"><div class="ttname"><a href="namespacevital_1_1utils.html#a5b6ee09220fec012fc1597235e4c50e3">vital::utils::min</a></div><div class="ttdeci">force_inline poly_float min(poly_float left, poly_float right)</div><div class="ttdoc">Returns the minimum of two poly_floats lane-by-lane.</div><div class="ttdef"><b>Definition</b> poly_utils.h:334</div></div>
<div class="ttc" id="anamespacevital_1_1utils_html_a80ba548455cae89a92de477250c013c5"><div class="ttname"><a href="namespacevital_1_1utils.html#a80ba548455cae89a92de477250c013c5">vital::utils::isContained</a></div><div class="ttdeci">force_inline bool isContained(poly_float value)</div><div class="ttdoc">Checks if all lanes in a poly_float are within a broad range [-8000..8000].</div><div class="ttdef"><b>Definition</b> poly_utils.h:631</div></div>
<div class="ttc" id="anamespacevital_1_1utils_html_ab453d9dff7b875976c8c8e22047a8558"><div class="ttname"><a href="namespacevital_1_1utils.html#ab453d9dff7b875976c8c8e22047a8558">vital::utils::max</a></div><div class="ttdeci">force_inline poly_float max(poly_float left, poly_float right)</div><div class="ttdoc">Returns the maximum of two poly_floats lane-by-lane.</div><div class="ttdef"><b>Definition</b> poly_utils.h:327</div></div>
<div class="ttc" id="anamespacevital_1_1utils_html_ab69168d986d091e670bdf79c53abe7f6"><div class="ttname"><a href="namespacevital_1_1utils.html#ab69168d986d091e670bdf79c53abe7f6">vital::utils::swapVoices</a></div><div class="ttdeci">force_inline poly_float swapVoices(poly_float value)</div><div class="ttdoc">Swaps the first half of the lanes with the second half.</div><div class="ttdef"><b>Definition</b> poly_utils.h:437</div></div>
<div class="ttc" id="anamespacevital_1_1utils_html_ace66114ab674022cfe117519c0de26ab"><div class="ttname"><a href="namespacevital_1_1utils.html#ace66114ab674022cfe117519c0de26ab">vital::utils::copyBuffer</a></div><div class="ttdeci">force_inline void copyBuffer(mono_float *dest, const mono_float *source, int size)</div><div class="ttdoc">Copies data from a source mono buffer to a destination mono buffer.</div><div class="ttdef"><b>Definition</b> poly_utils.h:586</div></div>
<div class="ttc" id="anamespacevital_1_1utils_html_ace9619cc7eac91b3abdcd77011b1ecb3"><div class="ttname"><a href="namespacevital_1_1utils.html#ace9619cc7eac91b3abdcd77011b1ecb3">vital::utils::maskLoad</a></div><div class="ttdeci">force_inline poly_float maskLoad(poly_float zero_value, poly_float one_value, poly_mask reset_mask)</div><div class="ttdoc">Selects between two values (zero_value or one_value) based on a mask in each lane.</div><div class="ttdef"><b>Definition</b> poly_utils.h:351</div></div>
<div class="ttc" id="anamespacevital_1_1utils_html_ae1ebe307e6064bb3d3bf55a2258d308a"><div class="ttname"><a href="namespacevital_1_1utils.html#ae1ebe307e6064bb3d3bf55a2258d308a">vital::utils::interpolate</a></div><div class="ttdeci">force_inline poly_float interpolate(poly_float from, poly_float to, mono_float t)</div><div class="ttdoc">Performs a linear interpolation between two poly_floats using a scalar t in [0..1].</div><div class="ttdef"><b>Definition</b> poly_utils.h:182</div></div>
<div class="ttc" id="anamespacevital_html"><div class="ttname"><a href="namespacevital.html">vital</a></div><div class="ttdoc">Contains classes and functions used within the Vital synthesizer framework.</div></div>
<div class="ttc" id="anamespacevital_html_a0889bacaa0e807ff26be7414cc96991e"><div class="ttname"><a href="namespacevital.html#a0889bacaa0e807ff26be7414cc96991e">vital::kMsPerSec</a></div><div class="ttdeci">constexpr int kMsPerSec</div><div class="ttdoc">Milliseconds per second.</div><div class="ttdef"><b>Definition</b> common.h:50</div></div>
<div class="ttc" id="anamespacevital_html_afcc17475a10ef776bbd2f11b64c1ddfb"><div class="ttname"><a href="namespacevital.html#afcc17475a10ef776bbd2f11b64c1ddfb">vital::mono_float</a></div><div class="ttdeci">float mono_float</div><div class="ttdef"><b>Definition</b> common.h:33</div></div>
<div class="ttc" id="astructvital_1_1_input_html_a8b744f4bd880c0262465eceb8d63d268"><div class="ttname"><a href="structvital_1_1_input.html#a8b744f4bd880c0262465eceb8d63d268">vital::Input::at</a></div><div class="ttdeci">force_inline poly_float at(int i) const</div><div class="ttdoc">Returns the sample at index i from the source buffer.</div><div class="ttdef"><b>Definition</b> processor.h:141</div></div>
<div class="ttc" id="astructvital_1_1_output_html_a1bc2c3a75ee0525ecbfb24fc841b1fe4"><div class="ttname"><a href="structvital_1_1_output.html#a1bc2c3a75ee0525ecbfb24fc841b1fe4">vital::Output::buffer</a></div><div class="ttdeci">poly_float * buffer</div><div class="ttdoc">Pointer to the output buffer.</div><div class="ttdef"><b>Definition</b> processor.h:110</div></div>
<div class="ttc" id="astructvital_1_1poly__float_html"><div class="ttname"><a href="structvital_1_1poly__float.html">vital::poly_float</a></div><div class="ttdoc">Represents a vector of floating-point values using SIMD instructions.</div><div class="ttdef"><b>Definition</b> poly_values.h:600</div></div>
<div class="ttc" id="astructvital_1_1poly__float_html_afe451ece04ecb9be82648c49c4e27e7b"><div class="ttname"><a href="structvital_1_1poly__float.html#afe451ece04ecb9be82648c49c4e27e7b">vital::poly_float::greaterThan</a></div><div class="ttdeci">static force_inline mask_simd_type vector_call greaterThan(simd_type one, simd_type two)</div><div class="ttdoc">Compares two SIMD float registers, element-wise, for greater than.</div><div class="ttdef"><b>Definition</b> poly_values.h:971</div></div>
<div class="ttc" id="astructvital_1_1poly__int_html"><div class="ttname"><a href="structvital_1_1poly__int.html">vital::poly_int</a></div><div class="ttdoc">Represents a vector of integer values using SIMD instructions.</div><div class="ttdef"><b>Definition</b> poly_values.h:56</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_957d8196b17c2a3ea74332cb4b59d36d.html">synthesis</a></li><li class="navelem"><a class="el" href="dir_12603df999bdd205f44db00595304802.html">effects</a></li><li class="navelem"><a class="el" href="compressor_8cpp.html">compressor.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
