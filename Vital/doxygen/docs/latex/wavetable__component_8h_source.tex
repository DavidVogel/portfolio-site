\doxysection{wavetable\+\_\+component.\+h}
\hypertarget{wavetable__component_8h_source}{}\label{wavetable__component_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/common/wavetable/wavetable\_component.h@{/Users/davidvogel/repos/VitalHelp/src/common/wavetable/wavetable\_component.h}}
\mbox{\hyperlink{wavetable__component_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{Summary:}}
\DoxyCodeLine{00003\ \textcolor{comment}{WavetableComponent\ is\ the\ base\ class\ for\ elements\ that\ produce\ or\ modify\ wavetables.\ It\ manages\ keyframes\ representing\ waveform\ states\ at\ certain\ positions,\ and\ supports\ interpolation\ between\ these\ states\ using\ none,\ linear,\ or\ cubic\ methods.\ By\ serializing\ and\ deserializing\ keyframes,\ it\ integrates\ smoothly\ with\ preset\ systems.\ Interpolation\ ensures\ smooth\ transitions\ across\ the\ wavetable\ dimension,\ enabling\ dynamic\ and\ evolving\ sounds.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}JuceHeader.h"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{wavetable__keyframe_8h}{wavetable\_keyframe.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{wavetable__component__factory_8h}{wavetable\_component\_factory.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}json/json.h"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{using\ }\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ =\ nlohmann::json;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{class\ }WaveFrame;}
\DoxyCodeLine{00017\ \}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_wavetable_component}{WavetableComponent}}\ \{}
\DoxyCodeLine{00033\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0f}{InterpolationStyle}}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0fa4f56ea195909304581c33e172d87aa11}{kNone}},\ \ \ \ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0fa2a92f23c1ad1d25c24888ac3ff404fae}{kLinear}},\ \ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0faf0292dd632d35859011d3a5ef73c1d1a}{kCubic}},\ \ \ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0faa342a947ca991e93ee7fd19b62057598}{kNumInterpolationStyles}}}
\DoxyCodeLine{00043\ \ \ \ \ \};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{class_wavetable_component_aabd88c4ea32e53755f23f25ac4601d11}{WavetableComponent}}()\ :\ \mbox{\hyperlink{class_wavetable_component_af0aa617e14c153860a521bd5b1581431}{interpolation\_style\_}}(\mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0fa2a92f23c1ad1d25c24888ac3ff404fae}{kLinear}})\ \{\ \}}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_wavetable_component_ad4050dbf61e1666d4eab08b4c0089eae}{\string~WavetableComponent}}()\ \{\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ \mbox{\hyperlink{class_wavetable_component_a124545669558c26f4abf1ac15a83137e}{createKeyframe}}(\textcolor{keywordtype}{int}\ position)\ =\ 0;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wavetable_component_aabcffe23ca145a551f2a1cf5dca5b03b}{render}}(\mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ wave\_frame,\ \textcolor{keywordtype}{float}\ position)\ =\ 0;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_wavetable_component_factory_a22042886b7b3acd718509949040238bd}{WavetableComponentFactory::ComponentType}}\ \mbox{\hyperlink{class_wavetable_component_abdc0037a943396e1fe4e743147fca5fc}{getType}}()\ =\ 0;}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ \mbox{\hyperlink{class_wavetable_component_a1c7bd3ba09cf3093d5aea225ee876b02}{stateToJson}}();}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wavetable_component_a656616fbc4a9d37b7e76c4179f496196}{jsonToState}}(\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ data);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wavetable_component_a686e9b6ee0c6884260565cedd4b63d77}{prerender}}()\ \{\ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_wavetable_component_ac95929ba0a375893ac0e701fece6d8ac}{hasKeyframes}}()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wavetable_component_a5c028ea829ca0bc17ca42f3b10a26d30}{reset}}();}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wavetable_component_a59b735ee67cc2281379418304de76b6d}{interpolate}}(\mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ dest,\ \textcolor{keywordtype}{float}\ position);}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ \mbox{\hyperlink{class_wavetable_component_a6311d3537ca55c3399a8dce144600bf0}{insertNewKeyframe}}(\textcolor{keywordtype}{int}\ position);}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wavetable_component_ada888cf15019ad788c5939e58e055157}{reposition}}(\mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ keyframe);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wavetable_component_ac48217f5669d6896915f896f8ebd7656}{remove}}(\mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ keyframe);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_wavetable_component_a05ca43822b7adf62273544e4b1708c3c}{numFrames}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{class_wavetable_component_a9186070f6ca3742cfd0ab22cbdcbb875}{keyframes\_}}.size());\ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_wavetable_component_a750d9e68099e67e549fc93a2099048c0}{indexOf}}(\mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ keyframe)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{class_wavetable_component_a9186070f6ca3742cfd0ab22cbdcbb875}{keyframes\_}}.size();\ ++i)\ \{}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_wavetable_component_a9186070f6ca3742cfd0ab22cbdcbb875}{keyframes\_}}[i].get()\ ==\ keyframe)}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ i;}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00169\ \ \ \ \ \}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ \mbox{\hyperlink{class_wavetable_component_a17b6ccd233f49ae1e9ca908968d158d6}{getFrameAt}}(\textcolor{keywordtype}{int}\ index)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_wavetable_component_a9186070f6ca3742cfd0ab22cbdcbb875}{keyframes\_}}[index].get();\ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_wavetable_component_ac2af3dd97667e8f2d17205aee1258393}{getIndexFromPosition}}(\textcolor{keywordtype}{int}\ position)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ \mbox{\hyperlink{class_wavetable_component_a944323ea0630ec59d7805a348228dc8e}{getFrameAtPosition}}(\textcolor{keywordtype}{int}\ position);}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_wavetable_component_a68f4e727094819ad5787db30b1322ce2}{getLastKeyframePosition}}();}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wavetable_component_a8aecf9b5029633a8cc9d62248d104c71}{setInterpolationStyle}}(\mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0f}{InterpolationStyle}}\ type)\ \{\ \mbox{\hyperlink{class_wavetable_component_af0aa617e14c153860a521bd5b1581431}{interpolation\_style\_}}\ =\ type;\ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0f}{InterpolationStyle}}\ \mbox{\hyperlink{class_wavetable_component_a9b5a2ad6b74ed275298a5af61b1802dd}{getInterpolationStyle}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_wavetable_component_af0aa617e14c153860a521bd5b1581431}{interpolation\_style\_}};\ \}}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00219\ \ \ \ \ std::vector<std::unique\_ptr<WavetableKeyframe>>\ \mbox{\hyperlink{class_wavetable_component_a9186070f6ca3742cfd0ab22cbdcbb875}{keyframes\_}};\ }
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{class_wavetable_component_a188637e36deb4834ab05056b054f2e0f}{InterpolationStyle}}\ \mbox{\hyperlink{class_wavetable_component_af0aa617e14c153860a521bd5b1581431}{interpolation\_style\_}};\ }
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR(\mbox{\hyperlink{class_wavetable_component}{WavetableComponent}})}
\DoxyCodeLine{00223\ \};}

\end{DoxyCode}
