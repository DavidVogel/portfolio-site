\doxysection{synth\+\_\+base.\+cpp}
\hypertarget{synth__base_8cpp_source}{}\label{synth__base_8cpp_source}\index{/Users/davidvogel/repos/VitalHelp/src/common/synth\_base.cpp@{/Users/davidvogel/repos/VitalHelp/src/common/synth\_base.cpp}}
\mbox{\hyperlink{synth__base_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__base_8h}{synth\_base.h}}"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sample__source_8h}{sample\_source.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}sound\_engine.h"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{load__save_8h}{load\_save.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{memory_8h}{memory.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{modulation__connection__processor_8h}{modulation\_connection\_processor.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{startup_8h}{startup.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__gui__interface_8h}{synth\_gui\_interface.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__parameters_8h}{synth\_parameters.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{utils_8h}{utils.h}}"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \mbox{\hyperlink{class_synth_base_ace2ff229a3287d6209ce045b35ee1a56}{SynthBase::SynthBase}}()\ :\ expired\_(false)\ \{}
\DoxyCodeLine{00014\ \ \ \mbox{\hyperlink{class_synth_base_a1da62727427fbcffc84bc2b8370cf2c2}{expired\_}}\ =\ \mbox{\hyperlink{class_load_save_ab069ffcf40b5c8445298c873a018816a}{LoadSave::isExpired}}();}
\DoxyCodeLine{00015\ \ \ \mbox{\hyperlink{class_synth_base_a411caaaca3c9f32f1fcd4942d7d25bcf}{self\_reference\_}}\ =\ std::make\_shared<SynthBase*>();}
\DoxyCodeLine{00016\ \ \ *\mbox{\hyperlink{class_synth_base_a411caaaca3c9f32f1fcd4942d7d25bcf}{self\_reference\_}}\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}\ =\ std::make\_unique<vital::SoundEngine>();}
\DoxyCodeLine{00019\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>setTuning(\&\mbox{\hyperlink{class_synth_base_a1f0871e892bea66cc735aa514e84238e}{tuning\_}});}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}}.\mbox{\hyperlink{classvital_1_1_circular_queue_a58522ab970c78c39efacf58b83032161}{reserve}}(\mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}});}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_a0e4fccbd130334777730a520c067fdf9}{vital::kNumOscillators}};\ ++i)\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_wavetable}{vital::Wavetable}}*\ wavetable\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getWavetable(i);}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{if}\ (wavetable)\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_a001c06b5ae660e47c055b3957deacb3e}{wavetable\_creators\_}}[i]\ =\ std::make\_unique<WavetableCreator>(wavetable);}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_a001c06b5ae660e47c055b3957deacb3e}{wavetable\_creators\_}}[i]-\/>init();}
\DoxyCodeLine{00028\ \ \ \ \ \}}
\DoxyCodeLine{00029\ \ \ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \mbox{\hyperlink{class_synth_base_a3113f7ca31bb8a40ab403755c596e876}{keyboard\_state\_}}\ =\ std::make\_unique<MidiKeyboardState>();}
\DoxyCodeLine{00032\ \ \ \mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}\ =\ std::make\_unique<MidiManager>(\textcolor{keyword}{this},\ \mbox{\hyperlink{class_synth_base_a3113f7ca31bb8a40ab403755c596e876}{keyboard\_state\_}}.get(),\ \&\mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}},\ \textcolor{keyword}{this});}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \mbox{\hyperlink{class_synth_base_aeb6e59eb0d3e0adbbf49e8980b816b27}{last\_played\_note\_}}\ =\ 0.0f;}
\DoxyCodeLine{00035\ \ \ \mbox{\hyperlink{class_synth_base_a706ff5d5d263efa440e3cb9ea836bf54}{last\_num\_pressed\_}}\ =\ 0;}
\DoxyCodeLine{00036\ \ \ \mbox{\hyperlink{class_synth_base_a34e65ad003b977c0e030f341d6ec5949}{audio\_memory\_}}\ =\ std::make\_unique<vital::StereoMemory>(\mbox{\hyperlink{namespacevital_a5f1852921452638824f365dc590dbd9b}{vital::kAudioMemorySamples}});}
\DoxyCodeLine{00037\ \ \ memset(\mbox{\hyperlink{class_synth_base_a1f4d1fe8e60aa78159c6b12900004f98}{oscilloscope\_memory\_}},\ 0,\ 2\ *\ \mbox{\hyperlink{namespacevital_a104911e122febd98d6f7c2a8d6a005c6}{vital::kOscilloscopeMemoryResolution}}\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}));}
\DoxyCodeLine{00038\ \ \ memset(\mbox{\hyperlink{class_synth_base_a384857b4ce922fcd6cb89e98cd0e153c}{oscilloscope\_memory\_write\_}},\ 0,\ 2\ *\ \mbox{\hyperlink{namespacevital_a104911e122febd98d6f7c2a8d6a005c6}{vital::kOscilloscopeMemoryResolution}}\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}));}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}}\ =\ \mbox{\hyperlink{namespacevital_a104911e122febd98d6f7c2a8d6a005c6}{vital::kOscilloscopeMemoryResolution}};}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{class_synth_base_ada57eaaf1e50259b455e800eeb53b42d}{memory\_input\_offset\_}}\ =\ 0;}
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}\ =\ 0;}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{class_synth_base_a32224edb2a44d2cc44fcd78483a30813}{controls\_}}\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getControls();}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \mbox{\hyperlink{class_startup_ab7d78cc8e4540eedcf8abb7ae8dd342e}{Startup::doStartupChecks}}(\mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}.get());}
\DoxyCodeLine{00046\ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \mbox{\hyperlink{class_synth_base_a46c409b1b663544613e294f0fffd4767}{SynthBase::\string~SynthBase}}()\ \{\ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_af076fe084247815912164526ef977fd6}{SynthBase::valueChanged}}(\textcolor{keyword}{const}\ std::string\&\ name,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ value)\ \{}
\DoxyCodeLine{00051\ \ \ \mbox{\hyperlink{class_synth_base_a32224edb2a44d2cc44fcd78483a30813}{controls\_}}[name]-\/>set(value);}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a16d05ca921a59cff1314acd4a5f6dbf9}{SynthBase::valueChangedInternal}}(\textcolor{keyword}{const}\ std::string\&\ name,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ value)\ \{}
\DoxyCodeLine{00055\ \ \ \mbox{\hyperlink{class_synth_base_af076fe084247815912164526ef977fd6}{valueChanged}}(name,\ value);}
\DoxyCodeLine{00056\ \ \ \mbox{\hyperlink{class_synth_base_aafe3c522e7a8148e0ffee9a9d0c87001}{setValueNotifyHost}}(name,\ value);}
\DoxyCodeLine{00057\ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_af9530ce7347cf0e2fbbd817712dd9e46}{SynthBase::valueChangedThroughMidi}}(\textcolor{keyword}{const}\ std::string\&\ name,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ value)\ \{}
\DoxyCodeLine{00060\ \ \ \mbox{\hyperlink{class_synth_base_a32224edb2a44d2cc44fcd78483a30813}{controls\_}}[name]-\/>set(value);}
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback}{ValueChangedCallback}}*\ callback\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback}{ValueChangedCallback}}(\mbox{\hyperlink{class_synth_base_a411caaaca3c9f32f1fcd4942d7d25bcf}{self\_reference\_}},\ name,\ value);}
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{class_synth_base_aafe3c522e7a8148e0ffee9a9d0c87001}{setValueNotifyHost}}(name,\ value);}
\DoxyCodeLine{00063\ \ \ callback-\/>post();}
\DoxyCodeLine{00064\ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a1a43ba107a4e3c281ec9b12e89be3e8a}{SynthBase::pitchWheelMidiChanged}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ value)\ \{}
\DoxyCodeLine{00067\ \ \ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback}{ValueChangedCallback}}*\ callback\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback}{ValueChangedCallback}}(\mbox{\hyperlink{class_synth_base_a411caaaca3c9f32f1fcd4942d7d25bcf}{self\_reference\_}},\ \textcolor{stringliteral}{"{}pitch\_wheel"{}},\ value);}
\DoxyCodeLine{00068\ \ \ callback-\/>post();}
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_ad0b744271a54fbd58ef8f9b14f038ba8}{SynthBase::modWheelMidiChanged}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ value)\ \{}
\DoxyCodeLine{00072\ \ \ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback}{ValueChangedCallback}}*\ callback\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback}{ValueChangedCallback}}(\mbox{\hyperlink{class_synth_base_a411caaaca3c9f32f1fcd4942d7d25bcf}{self\_reference\_}},\ \textcolor{stringliteral}{"{}mod\_wheel"{}},\ value);}
\DoxyCodeLine{00073\ \ \ callback-\/>post();}
\DoxyCodeLine{00074\ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_abb3337b638ca689b06839647bb39411d}{SynthBase::pitchWheelGuiChanged}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ value)\ \{}
\DoxyCodeLine{00077\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>setZonedPitchWheel(value,\ 0,\ \mbox{\hyperlink{namespacevital_a0982f1b37941a2f22ab97aca08e489e7}{vital::kNumMidiChannels}}\ -\/\ 1);}
\DoxyCodeLine{00078\ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a98c20b4fb3cf40730cff88704344b547}{SynthBase::modWheelGuiChanged}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ value)\ \{}
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>setModWheelAllChannels(value);}
\DoxyCodeLine{00082\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a261c2046cf60bc1bcd572912b2d81519}{SynthBase::presetChangedThroughMidi}}(File\ preset)\ \{}
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ gui\_interface\ =\ \mbox{\hyperlink{class_synth_base_aa01fc274a43910828fe96b66bb6da06e}{getGuiInterface}}();}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordflow}{if}\ (gui\_interface)\ \{}
\DoxyCodeLine{00087\ \ \ \ \ gui\_interface-\/>\mbox{\hyperlink{class_synth_gui_interface_ae026d18eef053aed9d73797400f236d4}{updateFullGui}}();}
\DoxyCodeLine{00088\ \ \ \ \ gui\_interface-\/>\mbox{\hyperlink{class_synth_gui_interface_aee2dc7c0d91f1dc959225d2e2edade26}{notifyFresh}}();}
\DoxyCodeLine{00089\ \ \ \}}
\DoxyCodeLine{00090\ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a1e2334bcd0dc0e843fd563955f654295}{SynthBase::valueChangedExternal}}(\textcolor{keyword}{const}\ std::string\&\ name,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ value)\ \{}
\DoxyCodeLine{00093\ \ \ \mbox{\hyperlink{class_synth_base_af076fe084247815912164526ef977fd6}{valueChanged}}(name,\ value);}
\DoxyCodeLine{00094\ \ \ \textcolor{keywordflow}{if}\ (name\ ==\ \textcolor{stringliteral}{"{}mod\_wheel"{}})}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>setModWheelAllChannels(value);}
\DoxyCodeLine{00096\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (name\ ==\ \textcolor{stringliteral}{"{}pitch\_wheel"{}})}
\DoxyCodeLine{00097\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>setZonedPitchWheel(value,\ 0,\ \mbox{\hyperlink{namespacevital_a0982f1b37941a2f22ab97aca08e489e7}{vital::kNumMidiChannels}}\ -\/\ 1);}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback}{ValueChangedCallback}}*\ callback\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback}{ValueChangedCallback}}(\mbox{\hyperlink{class_synth_base_a411caaaca3c9f32f1fcd4942d7d25bcf}{self\_reference\_}},\ name,\ value);}
\DoxyCodeLine{00100\ \ \ callback-\/>post();}
\DoxyCodeLine{00101\ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ \mbox{\hyperlink{class_synth_base_aa3a762b39030c88586ee4660fb40350d}{SynthBase::getConnection}}(\textcolor{keyword}{const}\ std::string\&\ source,\ \textcolor{keyword}{const}\ std::string\&\ destination)\ \{}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}})\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>source\_name\ ==\ source\ \&\&\ connection-\/>destination\_name\ ==\ destination)}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ connection;}
\DoxyCodeLine{00107\ \ \ \}}
\DoxyCodeLine{00108\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00109\ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_synth_base_a35cf6ffbfd976724f89921ae5206ce46}{SynthBase::getConnectionIndex}}(\textcolor{keyword}{const}\ std::string\&\ source,\ \textcolor{keyword}{const}\ std::string\&\ destination)\ \{}
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{vital::ModulationConnectionBank}}\&\ modulation\_bank\ =\ \mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}();}
\DoxyCodeLine{00113\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ modulation\_bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i);}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}\ ==\ source\ \&\&\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}\ ==\ destination)}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ i;}
\DoxyCodeLine{00117\ \ \ \}}
\DoxyCodeLine{00118\ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00119\ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \mbox{\hyperlink{structvital_1_1modulation__change}{vital::modulation\_change}}\ \mbox{\hyperlink{class_synth_base_af41f52561111066b242db0b7e290cb29}{SynthBase::createModulationChange}}(\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection)\ \{}
\DoxyCodeLine{00122\ \ \ \mbox{\hyperlink{structvital_1_1modulation__change}{vital::modulation\_change}}\ change;}
\DoxyCodeLine{00123\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_ad69fccda1477cc323a086666e0c7ff82}{source}}\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getModulationSource(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}});}
\DoxyCodeLine{00124\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_a5f77ac885afb1daf40b5cf03d96c5b8a}{mono\_destination}}\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getMonoModulationDestination(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}});}
\DoxyCodeLine{00125\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_aef6a727a1bf4d442b7b884373cec5bba}{mono\_modulation\_switch}}\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getMonoModulationSwitch(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}});}
\DoxyCodeLine{00126\ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(change.\mbox{\hyperlink{structvital_1_1modulation__change_ad69fccda1477cc323a086666e0c7ff82}{source}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00127\ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(change.\mbox{\hyperlink{structvital_1_1modulation__change_a5f77ac885afb1daf40b5cf03d96c5b8a}{mono\_destination}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00128\ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(change.\mbox{\hyperlink{structvital_1_1modulation__change_aef6a727a1bf4d442b7b884373cec5bba}{mono\_modulation\_switch}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_adaeef9589ba5006a44c7c2142934b8ee}{destination\_scale}}\ =\ \mbox{\hyperlink{classvital_1_1_parameters_aff98f633d9b5172922acd3d3391b5a4e}{vital::Parameters::getParameterRange}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}});}
\DoxyCodeLine{00131\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_a623a461927df4b11885d137c4bd82e4f}{poly\_modulation\_switch}}\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getPolyModulationSwitch(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}});}
\DoxyCodeLine{00132\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_a10a7c12af5f8eae3da2f359103f276b6}{poly\_destination}}\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getPolyModulationDestination(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}});}
\DoxyCodeLine{00133\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_adc542a8ce454203597f1237b3ff85b59}{modulation\_processor}}\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}.get();}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \textcolor{keywordtype}{int}\ num\_audio\_rate\ =\ 0;}
\DoxyCodeLine{00136\ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{vital::ModulationConnectionBank}}\&\ modulation\_bank\ =\ \mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}();}
\DoxyCodeLine{00137\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{if}\ (modulation\_bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i)-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}\ ==\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}\ \&\&}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ modulation\_bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i)-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}\ !=\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}\ \&\&}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ !modulation\_bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i)-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isControlRate())\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ num\_audio\_rate++;}
\DoxyCodeLine{00142\ \ \ \ \ \}}
\DoxyCodeLine{00143\ \ \ \}}
\DoxyCodeLine{00144\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_a8756df531d89a104625013f1ece96ab7}{num\_audio\_rate}}\ =\ num\_audio\_rate;}
\DoxyCodeLine{00145\ \ \ \textcolor{keywordflow}{return}\ change;}
\DoxyCodeLine{00146\ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_abd565b4989d233647edfdd5f306c9c05}{SynthBase::isInvalidConnection}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1modulation__change}{vital::modulation\_change}}\&\ change)\ \{}
\DoxyCodeLine{00149\ \ \ \textcolor{keywordflow}{return}\ change.\mbox{\hyperlink{structvital_1_1modulation__change_a10a7c12af5f8eae3da2f359103f276b6}{poly\_destination}}\ \&\&\ change.\mbox{\hyperlink{structvital_1_1modulation__change_a10a7c12af5f8eae3da2f359103f276b6}{poly\_destination}}-\/>\mbox{\hyperlink{classvital_1_1_processor_ad669f63d02cbbab8b33bbfb25be43e19}{router}}()\ ==\ change.\mbox{\hyperlink{structvital_1_1modulation__change_adc542a8ce454203597f1237b3ff85b59}{modulation\_processor}};}
\DoxyCodeLine{00150\ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a20f5d5c0d63b354ce557a849624ce16f}{SynthBase::connectModulation}}(\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection)\ \{}
\DoxyCodeLine{00153\ \ \ \mbox{\hyperlink{structvital_1_1modulation__change}{vital::modulation\_change}}\ change\ =\ \mbox{\hyperlink{class_synth_base_af41f52561111066b242db0b7e290cb29}{createModulationChange}}(connection);}
\DoxyCodeLine{00154\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_base_abd565b4989d233647edfdd5f306c9c05}{isInvalidConnection}}(change))\ \{}
\DoxyCodeLine{00155\ \ \ \ \ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00156\ \ \ \ \ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00157\ \ \ \}}
\DoxyCodeLine{00158\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}}.\mbox{\hyperlink{classvital_1_1_circular_queue_a1a38c9bec5e5169bd37333c4b78fab3b}{count}}(connection)\ ==\ 0)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_ac87d762fbc537bbb273fa8c1540d0859}{disconnecting}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00160\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}}.\mbox{\hyperlink{classvital_1_1_circular_queue_ac1b3b45cf7592af1b34d21600bf66aaa}{push\_back}}(connection);}
\DoxyCodeLine{00161\ \ \ \ \ \mbox{\hyperlink{class_synth_base_acabd73c77d2bb006fc5d476af3806884}{modulation\_change\_queue\_}}.enqueue(change);}
\DoxyCodeLine{00162\ \ \ \}}
\DoxyCodeLine{00163\ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_a20f5d5c0d63b354ce557a849624ce16f}{SynthBase::connectModulation}}(\textcolor{keyword}{const}\ std::string\&\ source,\ \textcolor{keyword}{const}\ std::string\&\ destination)\ \{}
\DoxyCodeLine{00166\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_synth_base_aa3a762b39030c88586ee4660fb40350d}{getConnection}}(source,\ destination);}
\DoxyCodeLine{00167\ \ \ \textcolor{keywordtype}{bool}\ create\ =\ connection\ ==\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordflow}{if}\ (create)}
\DoxyCodeLine{00169\ \ \ \ \ connection\ =\ \mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}().\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a82244a6e2fb7d4ead3fa60b9a370c910}{createConnection}}(source,\ destination);}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{keywordflow}{if}\ (connection)}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a20f5d5c0d63b354ce557a849624ce16f}{connectModulation}}(connection);}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \textcolor{keywordflow}{return}\ create;}
\DoxyCodeLine{00175\ \}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a80b1c77b9fbdfec20214d0703ad74f8a}{SynthBase::disconnectModulation}}(\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection)\ \{}
\DoxyCodeLine{00178\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}}.\mbox{\hyperlink{classvital_1_1_circular_queue_a1a38c9bec5e5169bd37333c4b78fab3b}{count}}(connection)\ ==\ 0)}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \mbox{\hyperlink{structvital_1_1modulation__change}{vital::modulation\_change}}\ change\ =\ \mbox{\hyperlink{class_synth_base_af41f52561111066b242db0b7e290cb29}{createModulationChange}}(connection);}
\DoxyCodeLine{00182\ \ \ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00183\ \ \ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}}.\mbox{\hyperlink{classvital_1_1_circular_queue_a28c9c9c079978d1b24c5d959ef3e53c6}{remove}}(connection);}
\DoxyCodeLine{00186\ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_ac87d762fbc537bbb273fa8c1540d0859}{disconnecting}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00187\ \ \ \mbox{\hyperlink{class_synth_base_acabd73c77d2bb006fc5d476af3806884}{modulation\_change\_queue\_}}.enqueue(change);}
\DoxyCodeLine{00188\ \}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a80b1c77b9fbdfec20214d0703ad74f8a}{SynthBase::disconnectModulation}}(\textcolor{keyword}{const}\ std::string\&\ source,\ \textcolor{keyword}{const}\ std::string\&\ destination)\ \{}
\DoxyCodeLine{00191\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_synth_base_aa3a762b39030c88586ee4660fb40350d}{getConnection}}(source,\ destination);}
\DoxyCodeLine{00192\ \ \ \textcolor{keywordflow}{if}\ (connection)}
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a80b1c77b9fbdfec20214d0703ad74f8a}{disconnectModulation}}(connection);}
\DoxyCodeLine{00194\ \}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_adf2f4b6758661f1180538706050eb4be}{SynthBase::clearModulations}}()\ \{}
\DoxyCodeLine{00197\ \ \ \mbox{\hyperlink{class_synth_base_a58ec8bbcff2293f7249b59d11b85a217}{clearModulationQueue}}();}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}}.\mbox{\hyperlink{classvital_1_1_circular_queue_a371d92803753cd8a2fc2d557c49704f1}{size}}())\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ *\mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}}.\mbox{\hyperlink{classvital_1_1_circular_queue_a97aef04ccba42526381cb689574d22c0}{begin}}();}
\DoxyCodeLine{00201\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}}.\mbox{\hyperlink{classvital_1_1_circular_queue_a28c9c9c079978d1b24c5d959ef3e53c6}{remove}}(connection);}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{structvital_1_1modulation__change}{vital::modulation\_change}}\ change\ =\ \mbox{\hyperlink{class_synth_base_af41f52561111066b242db0b7e290cb29}{createModulationChange}}(connection);}
\DoxyCodeLine{00203\ \ \ \ \ change.\mbox{\hyperlink{structvital_1_1modulation__change_ac87d762fbc537bbb273fa8c1540d0859}{disconnecting}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00204\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>disconnectModulation(change);}
\DoxyCodeLine{00205\ \ \ \ \ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00206\ \ \ \ \ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00207\ \ \ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \textcolor{keywordtype}{int}\ num\_connections\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}().\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a30f21f46397ac6e4595a716b679af2bb}{numConnections}}());}
\DoxyCodeLine{00210\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_connections;\ ++i)}
\DoxyCodeLine{00211\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}().\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i)-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>lineMapGenerator()-\/>initLinear();}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>disableUnnecessaryModSources();}
\DoxyCodeLine{00214\ \}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a80595e304467a490afc879b8ff47bf50}{SynthBase::forceShowModulation}}(\textcolor{keyword}{const}\ std::string\&\ source,\ \textcolor{keywordtype}{bool}\ force)\ \{}
\DoxyCodeLine{00217\ \ \ \textcolor{keywordflow}{if}\ (force)}
\DoxyCodeLine{00218\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>enableModSource(source);}
\DoxyCodeLine{00219\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_synth_base_a5666f8833f3f53e8f39692a8a33c3ee5}{isSourceConnected}}(source))}
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>disableModSource(source);}
\DoxyCodeLine{00221\ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_a36dcb3820193df171dc30bddf85aa946}{SynthBase::isModSourceEnabled}}(\textcolor{keyword}{const}\ std::string\&\ source)\ \{}
\DoxyCodeLine{00224\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>isModSourceEnabled(source);}
\DoxyCodeLine{00225\ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_synth_base_ab4da79e8c15272c05163a8e2db8b9d62}{SynthBase::getNumModulations}}(\textcolor{keyword}{const}\ std::string\&\ destination)\ \{}
\DoxyCodeLine{00228\ \ \ \textcolor{keywordtype}{int}\ connections\ =\ 0;}
\DoxyCodeLine{00229\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}})\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>destination\_name\ ==\ destination)}
\DoxyCodeLine{00231\ \ \ \ \ \ \ connections++;}
\DoxyCodeLine{00232\ \ \ \}}
\DoxyCodeLine{00233\ \ \ \textcolor{keywordflow}{return}\ connections;}
\DoxyCodeLine{00234\ \}}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ std::vector<vital::ModulationConnection*>\ \mbox{\hyperlink{class_synth_base_a129a3dc3855b4a3c9bdab2266e33c275}{SynthBase::getSourceConnections}}(\textcolor{keyword}{const}\ std::string\&\ source)\ \{}
\DoxyCodeLine{00237\ \ \ std::vector<vital::ModulationConnection*>\ connections;}
\DoxyCodeLine{00238\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}})\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>source\_name\ ==\ source)}
\DoxyCodeLine{00240\ \ \ \ \ \ \ connections.push\_back(connection);}
\DoxyCodeLine{00241\ \ \ \}}
\DoxyCodeLine{00242\ \ \ \textcolor{keywordflow}{return}\ connections;}
\DoxyCodeLine{00243\ \}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_a5666f8833f3f53e8f39692a8a33c3ee5}{SynthBase::isSourceConnected}}(\textcolor{keyword}{const}\ std::string\&\ source)\ \{}
\DoxyCodeLine{00246\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}})\ \{}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>source\_name\ ==\ source)}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00249\ \ \ \}}
\DoxyCodeLine{00250\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00251\ \}}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ std::vector<vital::ModulationConnection*>\ \mbox{\hyperlink{class_synth_base_aba42dfae8fff58a0702ca7f874a6a779}{SynthBase::getDestinationConnections}}(\textcolor{keyword}{const}\ std::string\&\ destination)\ \{}
\DoxyCodeLine{00254\ \ \ std::vector<vital::ModulationConnection*>\ connections;}
\DoxyCodeLine{00255\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ \mbox{\hyperlink{class_synth_base_aae8890de815fc20684e2d51f1572e6a9}{mod\_connections\_}})\ \{}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>destination\_name\ ==\ destination)}
\DoxyCodeLine{00257\ \ \ \ \ \ \ connections.push\_back(connection);}
\DoxyCodeLine{00258\ \ \ \}}
\DoxyCodeLine{00259\ \ \ \textcolor{keywordflow}{return}\ connections;}
\DoxyCodeLine{00260\ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_status_output}{vital::StatusOutput}}*\ \mbox{\hyperlink{class_synth_base_add97643be1ba341314ac1b158206dc4b}{SynthBase::getStatusOutput}}(\textcolor{keyword}{const}\ std::string\&\ name)\ \{}
\DoxyCodeLine{00263\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getStatusOutput(name);}
\DoxyCodeLine{00264\ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \mbox{\hyperlink{classvital_1_1_wavetable}{vital::Wavetable}}*\ \mbox{\hyperlink{class_synth_base_ab5408ade8faeb3c899752bc19749cf84}{SynthBase::getWavetable}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00267\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getWavetable(index);}
\DoxyCodeLine{00268\ \}}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \mbox{\hyperlink{class_wavetable_creator}{WavetableCreator}}*\ \mbox{\hyperlink{class_synth_base_aaadb0d2896bc633ad243eec126ea2747}{SynthBase::getWavetableCreator}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00271\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_a001c06b5ae660e47c055b3957deacb3e}{wavetable\_creators\_}}[index].get();}
\DoxyCodeLine{00272\ \}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \mbox{\hyperlink{classvital_1_1_sample}{vital::Sample}}*\ \mbox{\hyperlink{class_synth_base_ad07c4c745c5de0ef7095c329f19cad38}{SynthBase::getSample}}()\ \{}
\DoxyCodeLine{00275\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getSample();}
\DoxyCodeLine{00276\ \}}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \mbox{\hyperlink{class_line_generator}{LineGenerator}}*\ \mbox{\hyperlink{class_synth_base_a80af5aada8edd7fd057c7b4251f968fb}{SynthBase::getLfoSource}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00279\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getLfoSource(index);}
\DoxyCodeLine{00280\ \}}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ \mbox{\hyperlink{class_synth_base_a625d163c0e79743ab5706e6aeb53573e}{SynthBase::saveToJson}}()\ \{}
\DoxyCodeLine{00283\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_load_save_a8ad6a32d92c20c420079f5f5a55fbc56}{LoadSave::stateToJson}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{class_synth_base_a9b72671ccadf86a6dc9212e97be666ce}{getCriticalSection}}());}
\DoxyCodeLine{00284\ \}}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_synth_base_ab19269ee60c5ee640a71947bb0ba1d30}{SynthBase::getSampleRate}}()\ \{}
\DoxyCodeLine{00287\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getSampleRate();}
\DoxyCodeLine{00288\ \}}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a4b4d77c5487fcc09de4143d3ac624f6a}{SynthBase::initEngine}}()\ \{}
\DoxyCodeLine{00291\ \ \ \mbox{\hyperlink{class_synth_base_adf2f4b6758661f1180538706050eb4be}{clearModulations}}();}
\DoxyCodeLine{00292\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_base_aaadb0d2896bc633ad243eec126ea2747}{getWavetableCreator}}(0))\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_a0e4fccbd130334777730a520c067fdf9}{vital::kNumOscillators}};\ ++i)}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_aaadb0d2896bc633ad243eec126ea2747}{getWavetableCreator}}(i)-\/>\mbox{\hyperlink{class_wavetable_creator_a7dff31cad8a90e421ce1b60f21a1b6c3}{init}}();}
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00296\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getSample()-\/>init();}
\DoxyCodeLine{00297\ \ \ \}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_aba56646bec643d6d416700b782ed978b}{vital::kNumLfos}};\ ++i)}
\DoxyCodeLine{00300\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a80af5aada8edd7fd057c7b4251f968fb}{getLfoSource}}(i)-\/>\mbox{\hyperlink{class_line_generator_ab4193765104ac51ea7d87e1d7fdb9739}{initTriangle}}();}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \mbox{\hyperlink{namespacevital_aa714e9b3957a28c9eaf0105959aea482}{vital::control\_map}}\ controls\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getControls();}
\DoxyCodeLine{00303\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ control\ :\ controls)\ \{}
\DoxyCodeLine{00304\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_value_details}{vital::ValueDetails}}\ details\ =\ \mbox{\hyperlink{classvital_1_1_parameters_add207875d97ce0cabc64a33e86a5ab24}{vital::Parameters::getDetails}}(control.first);}
\DoxyCodeLine{00305\ \ \ \ \ control.second-\/>set(details.\mbox{\hyperlink{structvital_1_1_value_details_aa77131baa318ce44d3e879e0908f46a5}{default\_value}});}
\DoxyCodeLine{00306\ \ \ \}}
\DoxyCodeLine{00307\ \ \ \mbox{\hyperlink{class_synth_base_a6379a26cda438709fcbbf1c7c38e70ca}{checkOversampling}}();}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \ \ \mbox{\hyperlink{class_synth_base_a4ce3b92138a8fa55877b44b51b0e099a}{clearActiveFile}}();}
\DoxyCodeLine{00310\ \}}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_aeb4da0af8fea0c1f9079ed37cede5860}{SynthBase::loadTuningFile}}(\textcolor{keyword}{const}\ File\&\ file)\ \{}
\DoxyCodeLine{00313\ \ \ \mbox{\hyperlink{class_synth_base_a1f0871e892bea66cc735aa514e84238e}{tuning\_}}.\mbox{\hyperlink{class_tuning_a901f61466d9017fa4913b853e57c8648}{loadFile}}(file);}
\DoxyCodeLine{00314\ \}}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_adf5bd8fda4f0d77a817b0d806499fe77}{SynthBase::loadInitPreset}}()\ \{}
\DoxyCodeLine{00317\ \ \ \mbox{\hyperlink{class_synth_base_a61c53ea8670b76df78930447a3e57453}{pauseProcessing}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00318\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>allSoundsOff();}
\DoxyCodeLine{00319\ \ \ \mbox{\hyperlink{class_synth_base_a4b4d77c5487fcc09de4143d3ac624f6a}{initEngine}}();}
\DoxyCodeLine{00320\ \ \ \mbox{\hyperlink{class_load_save_a7da65d125310d867c168c3e2256e009e}{LoadSave::initSaveInfo}}(\mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}});}
\DoxyCodeLine{00321\ \ \ \mbox{\hyperlink{class_synth_base_a61c53ea8670b76df78930447a3e57453}{pauseProcessing}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00322\ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_a55a7902defa6e8291a0426a1874a9f59}{SynthBase::loadFromJson}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\&\ data)\ \{}
\DoxyCodeLine{00325\ \ \ \mbox{\hyperlink{class_synth_base_a61c53ea8670b76df78930447a3e57453}{pauseProcessing}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00326\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>allSoundsOff();}
\DoxyCodeLine{00327\ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keywordtype}{bool}\ result\ =\ \mbox{\hyperlink{class_load_save_a8f679c977061ed7f475f34b839e2450d}{LoadSave::jsonToState}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}},\ data);}
\DoxyCodeLine{00329\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a61c53ea8670b76df78930447a3e57453}{pauseProcessing}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00331\ \ \ \}}
\DoxyCodeLine{00332\ \ \ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ json::exception\&\ e)\ \{}
\DoxyCodeLine{00333\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a61c53ea8670b76df78930447a3e57453}{pauseProcessing}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00334\ \ \ \ \ \textcolor{keywordflow}{throw}\ e;}
\DoxyCodeLine{00335\ \ \ \}}
\DoxyCodeLine{00336\ \}}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_a4c958338fecc54e0db606ab236253492}{SynthBase::loadFromFile}}(File\ preset,\ std::string\&\ error)\ \{}
\DoxyCodeLine{00339\ \ \ \textcolor{keywordflow}{if}\ (!preset.exists())}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00342\ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00343\ \ \ \ \ \mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ parsed\_json\_state\ =\ json::parse(preset.loadFileAsString().toStdString(),\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_synth_base_a55a7902defa6e8291a0426a1874a9f59}{loadFromJson}}(parsed\_json\_state))\ \{}
\DoxyCodeLine{00345\ \ \ \ \ \ \ error\ =\ \textcolor{stringliteral}{"{}Preset\ was\ created\ with\ a\ newer\ version."{}};}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00347\ \ \ \ \ \}}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a02e5f2c1bf3084082bf8125d57760218}{active\_file\_}}\ =\ preset;}
\DoxyCodeLine{00350\ \ \ \}}
\DoxyCodeLine{00351\ \ \ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ json::exception\&\ e)\ \{}
\DoxyCodeLine{00352\ \ \ \ \ error\ =\ \textcolor{stringliteral}{"{}Preset\ file\ is\ corrupted."{}};}
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00354\ \ \ \}}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \mbox{\hyperlink{class_synth_base_afe8428318b2137a61172eb63be7a43ed}{setPresetName}}(preset.getFileNameWithoutExtension());}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00358\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ gui\_interface\ =\ \mbox{\hyperlink{class_synth_base_aa01fc274a43910828fe96b66bb6da06e}{getGuiInterface}}();}
\DoxyCodeLine{00359\ \ \ \textcolor{keywordflow}{if}\ (gui\_interface)\ \{}
\DoxyCodeLine{00360\ \ \ \ \ gui\_interface-\/>\mbox{\hyperlink{class_synth_gui_interface_ae026d18eef053aed9d73797400f236d4}{updateFullGui}}();}
\DoxyCodeLine{00361\ \ \ \ \ gui\_interface-\/>\mbox{\hyperlink{class_synth_gui_interface_aee2dc7c0d91f1dc959225d2e2edade26}{notifyFresh}}();}
\DoxyCodeLine{00362\ \ \ \}}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00365\ \}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_adb03445c4a15ba7d8cce7ccc13d5e09a}{SynthBase::renderAudioToFile}}(File\ file,\ \textcolor{keywordtype}{float}\ seconds,\ \textcolor{keywordtype}{float}\ bpm,\ std::vector<int>\ notes,\ \textcolor{keywordtype}{bool}\ render\_images)\ \{}
\DoxyCodeLine{00368\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kSampleRate\ =\ 44100;}
\DoxyCodeLine{00369\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kPreProcessSamples\ =\ 44100;}
\DoxyCodeLine{00370\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kFadeSamples\ =\ 200;}
\DoxyCodeLine{00371\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kBufferSize\ =\ 64;}
\DoxyCodeLine{00372\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kVideoRate\ =\ 30;}
\DoxyCodeLine{00373\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kImageNumberPlaces\ =\ 3;}
\DoxyCodeLine{00374\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kImageWidth\ =\ 500;}
\DoxyCodeLine{00375\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kImageHeight\ =\ 250;}
\DoxyCodeLine{00376\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kOscilloscopeResolution\ =\ 512;}
\DoxyCodeLine{00377\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kFadeRatio\ =\ 0.3f;}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \ \ ScopedLock\ lock(\mbox{\hyperlink{class_synth_base_a9b72671ccadf86a6dc9212e97be666ce}{getCriticalSection}}());}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \ \ \mbox{\hyperlink{class_synth_base_af10ff04dddb8266c56ef978acc713a5d}{processModulationChanges}}();}
\DoxyCodeLine{00382\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>setSampleRate(kSampleRate);}
\DoxyCodeLine{00383\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>setBpm(bpm);}
\DoxyCodeLine{00384\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>updateAllModulationSwitches();}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \textcolor{keywordtype}{double}\ sample\_time\ =\ 1.0\ /\ \mbox{\hyperlink{class_synth_base_ab19269ee60c5ee640a71947bb0ba1d30}{getSampleRate}}();}
\DoxyCodeLine{00387\ \ \ \textcolor{keywordtype}{double}\ current\_time\ =\ -\/kPreProcessSamples\ *\ sample\_time;}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ samples\ =\ 0;\ samples\ <\ kPreProcessSamples;\ samples\ +=\ kBufferSize)\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>correctToTime(current\_time);}
\DoxyCodeLine{00391\ \ \ \ \ current\_time\ +=\ kBufferSize\ *\ sample\_time;}
\DoxyCodeLine{00392\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>process(kBufferSize);}
\DoxyCodeLine{00393\ \ \ \}}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ note\ :\ notes)}
\DoxyCodeLine{00396\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>noteOn(note,\ 0.7f,\ 0,\ 0);}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ file.deleteFile();}
\DoxyCodeLine{00399\ \ \ std::unique\_ptr<FileOutputStream>\ file\_stream\ =\ file.createOutputStream();}
\DoxyCodeLine{00400\ \ \ WavAudioFormat\ wav\_format;}
\DoxyCodeLine{00401\ \ \ std::unique\_ptr<AudioFormatWriter>\ writer(wav\_format.createWriterFor(file\_stream.get(),\ kSampleRate,\ 2,\ 16,\ \{\},\ 0));}
\DoxyCodeLine{00402\ }
\DoxyCodeLine{00403\ \ \ \textcolor{keywordtype}{int}\ on\_samples\ =\ seconds\ *\ kSampleRate;}
\DoxyCodeLine{00404\ \ \ \textcolor{keywordtype}{int}\ total\_samples\ =\ on\_samples\ +\ seconds\ *\ kSampleRate\ *\ kFadeRatio;}
\DoxyCodeLine{00405\ \ \ std::unique\_ptr<float[]>\ left\_buffer\ =\ std::make\_unique<float[]>(kBufferSize);}
\DoxyCodeLine{00406\ \ \ std::unique\_ptr<float[]>\ right\_buffer\ =\ std::make\_unique<float[]>(kBufferSize);}
\DoxyCodeLine{00407\ \ \ \textcolor{keywordtype}{float}*\ buffers[2]\ =\ \{\ left\_buffer.get(),\ right\_buffer.get()\ \};}
\DoxyCodeLine{00408\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}*\ engine\_output\ =\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}*)\mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>output(0)-\/>buffer;}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \textcolor{preprocessor}{\#if\ JUCE\_MODULE\_AVAILABLE\_juce\_graphics}}
\DoxyCodeLine{00411\ \ \ \textcolor{keywordtype}{int}\ current\_image\_index\ =\ -\/1;}
\DoxyCodeLine{00412\ \ \ PNGImageFormat\ png;}
\DoxyCodeLine{00413\ \ \ File\ images\_folder\ =\ File::getCurrentWorkingDirectory().getChildFile(\textcolor{stringliteral}{"{}images"{}});}
\DoxyCodeLine{00414\ \ \ \textcolor{keywordflow}{if}\ (!images\_folder.exists()\ \&\&\ render\_images)}
\DoxyCodeLine{00415\ \ \ \ \ images\_folder.createDirectory();}
\DoxyCodeLine{00416\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}*\ memory\ =\ \mbox{\hyperlink{class_synth_base_aa99980316e8c2bf2ee5ad902561f50fc}{getOscilloscopeMemory}}();}
\DoxyCodeLine{00417\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ samples\ =\ 0;\ samples\ <\ total\_samples;\ samples\ +=\ kBufferSize)\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>correctToTime(current\_time);}
\DoxyCodeLine{00421\ \ \ \ \ current\_time\ +=\ kBufferSize\ *\ sample\_time;}
\DoxyCodeLine{00422\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>process(kBufferSize);}
\DoxyCodeLine{00423\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a970a02fb5c0d3be5f8437139555c0c00}{updateMemoryOutput}}(kBufferSize,\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>output(0)-\/>buffer);}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keywordflow}{if}\ (on\_samples\ >\ samples\ \&\&\ on\_samples\ <=\ samples\ +\ kBufferSize)\ \{}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ note\ :\ notes)}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>noteOff(note,\ 0.5f,\ 0,\ 0);}
\DoxyCodeLine{00428\ \ \ \ \ \}}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ kBufferSize;\ ++i)\ \{}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ t\ =\ (total\_samples\ -\/\ samples)\ /\ (1.0f\ *\ kFadeSamples);}
\DoxyCodeLine{00432\ \ \ \ \ \ \ t\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{vital::utils::min}}(t,\ 1.0f);}
\DoxyCodeLine{00433\ \ \ \ \ \ \ left\_buffer[i]\ =\ t\ *\ engine\_output[vital::poly\_float::kSize\ *\ i];}
\DoxyCodeLine{00434\ \ \ \ \ \ \ right\_buffer[i]\ =\ t\ *\ engine\_output[vital::poly\_float::kSize\ *\ i\ +\ 1];}
\DoxyCodeLine{00435\ \ \ \ \ \}}
\DoxyCodeLine{00436\ }
\DoxyCodeLine{00437\ \ \ \ \ writer-\/>writeFromFloatArrays(buffers,\ 2,\ kBufferSize);}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \textcolor{preprocessor}{\ \ \#if\ JUCE\_MODULE\_AVAILABLE\_juce\_graphics}}
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{keywordtype}{int}\ image\_index\ =\ (samples\ *\ kVideoRate)\ /\ kSampleRate;}
\DoxyCodeLine{00441\ \ \ \ \ \textcolor{keywordflow}{if}\ (image\_index\ >\ current\_image\_index\ \&\&\ render\_images)\ \{}
\DoxyCodeLine{00442\ \ \ \ \ \ \ current\_image\_index\ =\ image\_index;}
\DoxyCodeLine{00443\ \ \ \ \ \ \ String\ number(image\_index);}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (number.length()\ <\ kImageNumberPlaces)}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ number\ =\ \textcolor{stringliteral}{"{}0"{}}\ +\ number;}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \ \ \ \ \ \ File\ image\_file\ =\ images\_folder.getChildFile(\textcolor{stringliteral}{"{}rendered\_image"{}}\ +\ number\ +\ \textcolor{stringliteral}{"{}.png"{}});}
\DoxyCodeLine{00448\ \ \ \ \ \ \ FileOutputStream\ image\_file\_stream(image\_file);}
\DoxyCodeLine{00449\ \ \ \ \ \ \ Image\ image(Image::RGB,\ kImageWidth,\ kImageHeight,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00450\ \ \ \ \ \ \ Graphics\ g(image);}
\DoxyCodeLine{00451\ \ \ \ \ \ \ g.fillAll(Colour(0xff1d2125));}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ \ \ \ \ Path\ left\_path;}
\DoxyCodeLine{00454\ \ \ \ \ \ \ Path\ right\_path;}
\DoxyCodeLine{00455\ \ \ \ \ \ \ left\_path.startNewSubPath(-\/2.0f,\ kImageHeight\ /\ 2);}
\DoxyCodeLine{00456\ \ \ \ \ \ \ right\_path.startNewSubPath(-\/2.0f,\ kImageHeight\ /\ 2);}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ kOscilloscopeResolution;\ ++i)\ \{}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ t\ =\ i\ /\ (kOscilloscopeResolution\ -\/\ 1.0f);}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ memory\_spot\ =\ (1.0f\ *\ i\ *\ \mbox{\hyperlink{namespacevital_a104911e122febd98d6f7c2a8d6a005c6}{vital::kOscilloscopeMemoryResolution}})\ /\ kOscilloscopeResolution;}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ memory\_index\ =\ memory\_spot;}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ remainder\ =\ memory\_spot\ -\/\ memory\_index;}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}\ from\ =\ memory[memory\_index];}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}\ to\ =\ memory[memory\_index\ +\ 1];}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}\ y\ =\ -\/\mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{vital::utils::interpolate}}(from,\ to,\ remainder)\ *\ kImageHeight\ /\ 2.0f\ +\ kImageHeight\ /\ 2;}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ left\_path.lineTo(t\ *\ kImageWidth,\ y[0]);}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ right\_path.lineTo(t\ *\ kImageWidth,\ y[1]);}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00469\ \ \ \ \ \ \ left\_path.lineTo(kImageWidth\ +\ 2.0f,\ kImageHeight\ /\ 2.0f);}
\DoxyCodeLine{00470\ \ \ \ \ \ \ right\_path.lineTo(kImageWidth\ +\ 2.0f,\ kImageHeight\ /\ 2.0f);}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \ \ \ \ \ \ g.setColour(Colour(0x64aa88ff));}
\DoxyCodeLine{00473\ \ \ \ \ \ \ g.fillPath(left\_path);}
\DoxyCodeLine{00474\ \ \ \ \ \ \ g.fillPath(right\_path);}
\DoxyCodeLine{00475\ }
\DoxyCodeLine{00476\ \ \ \ \ \ \ g.setColour(Colour(0xffaa88ff));}
\DoxyCodeLine{00477\ \ \ \ \ \ \ g.strokePath(left\_path,\ PathStrokeType(2.0f,\ PathStrokeType::curved,\ PathStrokeType::rounded));}
\DoxyCodeLine{00478\ \ \ \ \ \ \ g.strokePath(right\_path,\ PathStrokeType(2.0f,\ PathStrokeType::curved,\ PathStrokeType::rounded));}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \ \ \ \ \ \ png.writeImageToStream(image,\ image\_file\_stream);}
\DoxyCodeLine{00481\ \ \ \ \ \}}
\DoxyCodeLine{00482\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00483\ \ \ \}}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ \ \ writer-\/>flush();}
\DoxyCodeLine{00486\ \ \ file\_stream-\/>flush();}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \ \ writer\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00489\ \ \ file\_stream.release();}
\DoxyCodeLine{00490\ \}}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a8c770d4c86e3d7f027a48fd0e21f8805}{SynthBase::renderAudioForResynthesis}}(\textcolor{keywordtype}{float}*\ data,\ \textcolor{keywordtype}{int}\ samples,\ \textcolor{keywordtype}{int}\ note)\ \{}
\DoxyCodeLine{00493\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kPreProcessSamples\ =\ 44100;}
\DoxyCodeLine{00494\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kBufferSize\ =\ 64;}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \ \ ScopedLock\ lock(\mbox{\hyperlink{class_synth_base_a9b72671ccadf86a6dc9212e97be666ce}{getCriticalSection}}());}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \ \ \textcolor{keywordtype}{double}\ sample\_time\ =\ 1.0\ /\ \mbox{\hyperlink{class_synth_base_ab19269ee60c5ee640a71947bb0ba1d30}{getSampleRate}}();}
\DoxyCodeLine{00499\ \ \ \textcolor{keywordtype}{double}\ current\_time\ =\ -\/kPreProcessSamples\ *\ sample\_time;}
\DoxyCodeLine{00500\ }
\DoxyCodeLine{00501\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>allSoundsOff();}
\DoxyCodeLine{00502\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ s\ =\ 0;\ s\ <\ kPreProcessSamples;\ s\ +=\ kBufferSize)\ \{}
\DoxyCodeLine{00503\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>correctToTime(current\_time);}
\DoxyCodeLine{00504\ \ \ \ \ current\_time\ +=\ kBufferSize\ *\ sample\_time;}
\DoxyCodeLine{00505\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>process(kBufferSize);}
\DoxyCodeLine{00506\ \ \ \}}
\DoxyCodeLine{00507\ }
\DoxyCodeLine{00508\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>noteOn(note,\ 0.7f,\ 0,\ 0);}
\DoxyCodeLine{00509\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}*\ engine\_output\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>output(0)-\/>buffer;}
\DoxyCodeLine{00510\ \ \ \textcolor{keywordtype}{float}\ max\_value\ =\ 0.01f;}
\DoxyCodeLine{00511\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ s\ =\ 0;\ s\ <\ samples;\ s\ +=\ kBufferSize)\ \{}
\DoxyCodeLine{00512\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_samples\ =\ std::min(samples\ -\/\ s,\ kBufferSize);}
\DoxyCodeLine{00513\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>correctToTime(current\_time);}
\DoxyCodeLine{00514\ \ \ \ \ current\_time\ +=\ num\_samples\ *\ sample\_time;}
\DoxyCodeLine{00515\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>process(num\_samples);}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sample\ =\ engine\_output[i][0];}
\DoxyCodeLine{00519\ \ \ \ \ \ \ data[s\ +\ i]\ =\ sample;}
\DoxyCodeLine{00520\ \ \ \ \ \ \ max\_value\ =\ std::max(max\_value,\ fabsf(sample));}
\DoxyCodeLine{00521\ \ \ \ \ \}}
\DoxyCodeLine{00522\ \ \ \}}
\DoxyCodeLine{00523\ }
\DoxyCodeLine{00524\ \ \ \textcolor{keywordtype}{float}\ scale\ =\ 1.0f\ /\ max\_value;}
\DoxyCodeLine{00525\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ s\ =\ 0;\ s\ <\ samples;\ ++s)}
\DoxyCodeLine{00526\ \ \ \ \ data[s]\ *=\ scale;}
\DoxyCodeLine{00527\ }
\DoxyCodeLine{00528\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>allSoundsOff();}
\DoxyCodeLine{00529\ \}}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_a442280ce1d588a5a09f8bfe76821035b}{SynthBase::saveToFile}}(File\ preset)\ \{}
\DoxyCodeLine{00532\ \ \ preset\ =\ preset.withFileExtension(String(\mbox{\hyperlink{namespacevital_ae7fd0f09fefdd69d161543d60a76f0f1}{vital::kPresetExtension}}));}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \ \ File\ parent\ =\ preset.getParentDirectory();}
\DoxyCodeLine{00535\ \ \ \textcolor{keywordflow}{if}\ (!parent.exists())\ \{}
\DoxyCodeLine{00536\ \ \ \ \ \textcolor{keywordflow}{if}\ (!parent.createDirectory().wasOk()\ ||\ !parent.hasWriteAccess())}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00538\ \ \ \}}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \ \ \mbox{\hyperlink{class_synth_base_afe8428318b2137a61172eb63be7a43ed}{setPresetName}}(preset.getFileNameWithoutExtension());}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ gui\_interface\ =\ \mbox{\hyperlink{class_synth_base_aa01fc274a43910828fe96b66bb6da06e}{getGuiInterface}}();}
\DoxyCodeLine{00543\ \ \ \textcolor{keywordflow}{if}\ (gui\_interface)}
\DoxyCodeLine{00544\ \ \ \ \ gui\_interface-\/>\mbox{\hyperlink{class_synth_gui_interface_aee2dc7c0d91f1dc959225d2e2edade26}{notifyFresh}}();}
\DoxyCodeLine{00545\ }
\DoxyCodeLine{00546\ \ \ \textcolor{keywordflow}{if}\ (preset.replaceWithText(\mbox{\hyperlink{class_synth_base_a625d163c0e79743ab5706e6aeb53573e}{saveToJson}}().dump()))\ \{}
\DoxyCodeLine{00547\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a02e5f2c1bf3084082bf8125d57760218}{active\_file\_}}\ =\ preset;}
\DoxyCodeLine{00548\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00549\ \ \ \}}
\DoxyCodeLine{00550\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00551\ \}}
\DoxyCodeLine{00552\ }
\DoxyCodeLine{00553\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_a0fd086809d86867991c038d233b50930}{SynthBase::saveToActiveFile}}()\ \{}
\DoxyCodeLine{00554\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_synth_base_a02e5f2c1bf3084082bf8125d57760218}{active\_file\_}}.exists()\ ||\ !\mbox{\hyperlink{class_synth_base_a02e5f2c1bf3084082bf8125d57760218}{active\_file\_}}.hasWriteAccess())}
\DoxyCodeLine{00555\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00556\ }
\DoxyCodeLine{00557\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_a442280ce1d588a5a09f8bfe76821035b}{saveToFile}}(\mbox{\hyperlink{class_synth_base_a02e5f2c1bf3084082bf8125d57760218}{active\_file\_}});}
\DoxyCodeLine{00558\ \}}
\DoxyCodeLine{00559\ }
\DoxyCodeLine{00560\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a59dd3aec6bec110b48992dc7cc8fbc60}{SynthBase::setMpeEnabled}}(\textcolor{keywordtype}{bool}\ enabled)\ \{}
\DoxyCodeLine{00561\ \ \ \mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}-\/>setMpeEnabled(enabled);}
\DoxyCodeLine{00562\ \}}
\DoxyCodeLine{00563\ }
\DoxyCodeLine{00564\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a5fc4df19a83cec8921eb291cfe53c40a}{SynthBase::processAudio}}(AudioSampleBuffer*\ buffer,\ \textcolor{keywordtype}{int}\ channels,\ \textcolor{keywordtype}{int}\ samples,\ \textcolor{keywordtype}{int}\ offset)\ \{}
\DoxyCodeLine{00565\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_base_a1da62727427fbcffc84bc2b8370cf2c2}{expired\_}})}
\DoxyCodeLine{00566\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00567\ }
\DoxyCodeLine{00568\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>process(samples);}
\DoxyCodeLine{00569\ \ \ \mbox{\hyperlink{class_synth_base_a1906caf726b11ce0ead26acd1f247af9}{writeAudio}}(buffer,\ channels,\ samples,\ offset);}
\DoxyCodeLine{00570\ \}}
\DoxyCodeLine{00571\ }
\DoxyCodeLine{00572\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a9686495c44449827a860588c99aee261}{SynthBase::processAudioWithInput}}(AudioSampleBuffer*\ buffer,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}*\ input\_buffer,}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ channels,\ \textcolor{keywordtype}{int}\ samples,\ \textcolor{keywordtype}{int}\ offset)\ \{}
\DoxyCodeLine{00574\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_base_a1da62727427fbcffc84bc2b8370cf2c2}{expired\_}})}
\DoxyCodeLine{00575\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00576\ }
\DoxyCodeLine{00577\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>processWithInput(input\_buffer,\ samples);}
\DoxyCodeLine{00578\ \ \ \mbox{\hyperlink{class_synth_base_a1906caf726b11ce0ead26acd1f247af9}{writeAudio}}(buffer,\ channels,\ samples,\ offset);}
\DoxyCodeLine{00579\ \}}
\DoxyCodeLine{00580\ }
\DoxyCodeLine{00581\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a1906caf726b11ce0ead26acd1f247af9}{SynthBase::writeAudio}}(AudioSampleBuffer*\ buffer,\ \textcolor{keywordtype}{int}\ channels,\ \textcolor{keywordtype}{int}\ samples,\ \textcolor{keywordtype}{int}\ offset)\ \{}
\DoxyCodeLine{00582\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}*\ engine\_output\ =\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}*)\mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>output(0)-\/>buffer;}
\DoxyCodeLine{00583\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ channel\ =\ 0;\ channel\ <\ channels;\ ++channel)\ \{}
\DoxyCodeLine{00584\ \ \ \ \ \textcolor{keywordtype}{float}*\ channel\_data\ =\ buffer-\/>getWritePointer(channel,\ offset);}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ samples;\ ++i)\ \{}
\DoxyCodeLine{00587\ \ \ \ \ \ \ channel\_data[i]\ =\ engine\_output[vital::poly\_float::kSize\ *\ i\ +\ channel];}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(std::isfinite(channel\_data[i]));}
\DoxyCodeLine{00589\ \ \ \ \ \}}
\DoxyCodeLine{00590\ \ \ \}}
\DoxyCodeLine{00591\ }
\DoxyCodeLine{00592\ \ \ \mbox{\hyperlink{class_synth_base_a970a02fb5c0d3be5f8437139555c0c00}{updateMemoryOutput}}(samples,\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>output(0)-\/>buffer);}
\DoxyCodeLine{00593\ \}}
\DoxyCodeLine{00594\ }
\DoxyCodeLine{00595\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a7ff60c6d630fec576706ab6e3d5de426}{SynthBase::processMidi}}(MidiBuffer\&\ midi\_messages,\ \textcolor{keywordtype}{int}\ start\_sample,\ \textcolor{keywordtype}{int}\ end\_sample)\ \{}
\DoxyCodeLine{00596\ \ \ \textcolor{keywordtype}{bool}\ process\_all\ =\ end\_sample\ ==\ 0;}
\DoxyCodeLine{00597\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ MidiMessageMetadata\ message\ :\ midi\_messages)\ \{}
\DoxyCodeLine{00598\ \ \ \ \ \textcolor{keywordtype}{int}\ midi\_sample\ =\ message.samplePosition;}
\DoxyCodeLine{00599\ \ \ \ \ \textcolor{keywordflow}{if}\ (process\_all\ ||\ (midi\_sample\ >=\ start\_sample\ \&\&\ midi\_sample\ <\ end\_sample))}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}-\/>processMidiMessage(message.getMessage(),\ midi\_sample\ -\/\ start\_sample);}
\DoxyCodeLine{00601\ \ \ \}}
\DoxyCodeLine{00602\ \}}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00604\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a0a97b0054a54f9fa8c99b16821e2064f}{SynthBase::processKeyboardEvents}}(MidiBuffer\&\ buffer,\ \textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00605\ \ \ \mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}-\/>replaceKeyboardMessages(buffer,\ num\_samples);}
\DoxyCodeLine{00606\ \}}
\DoxyCodeLine{00607\ }
\DoxyCodeLine{00608\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_af10ff04dddb8266c56ef978acc713a5d}{SynthBase::processModulationChanges}}()\ \{}
\DoxyCodeLine{00609\ \ \ \mbox{\hyperlink{structvital_1_1modulation__change}{vital::modulation\_change}}\ change;}
\DoxyCodeLine{00610\ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_synth_base_a112f9d191e7836f5f3a31b89472ef18e}{getNextModulationChange}}(change))\ \{}
\DoxyCodeLine{00611\ \ \ \ \ \textcolor{keywordflow}{if}\ (change.\mbox{\hyperlink{structvital_1_1modulation__change_ac87d762fbc537bbb273fa8c1540d0859}{disconnecting}})}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>disconnectModulation(change);}
\DoxyCodeLine{00613\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>connectModulation(change);}
\DoxyCodeLine{00615\ \ \ \}}
\DoxyCodeLine{00616\ \}}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a970a02fb5c0d3be5f8437139555c0c00}{SynthBase::updateMemoryOutput}}(\textcolor{keywordtype}{int}\ samples,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}*\ audio)\ \{}
\DoxyCodeLine{00619\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ samples;\ ++i)}
\DoxyCodeLine{00620\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a34e65ad003b977c0e030f341d6ec5949}{audio\_memory\_}}-\/>push(audio[i]);}
\DoxyCodeLine{00621\ }
\DoxyCodeLine{00622\ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ last\_played\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getLastActiveNote();}
\DoxyCodeLine{00623\ \ \ last\_played\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{vital::utils::clamp}}(last\_played,\ \mbox{\hyperlink{class_synth_base_a8f5864f2a16927cad2d172c68d3cca1f}{kOutputWindowMinNote}},\ \mbox{\hyperlink{class_synth_base_a4ceb8eaf7b409c99922ccf19879fbf11}{kOutputWindowMaxNote}});}
\DoxyCodeLine{00624\ }
\DoxyCodeLine{00625\ \ \ \textcolor{keywordtype}{int}\ num\_pressed\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getNumPressedNotes();}
\DoxyCodeLine{00626\ \ \ \textcolor{keywordtype}{int}\ output\_inc\ =\ std::max<int>(1,\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getSampleRate()\ /\ \mbox{\hyperlink{namespacevital_a54dd28f9f78673b0e399a8324c406ba9}{vital::kOscilloscopeMemorySampleRate}});}
\DoxyCodeLine{00627\ \ \ \textcolor{keywordtype}{int}\ oscilloscope\_samples\ =\ 2\ *\ \mbox{\hyperlink{namespacevital_a104911e122febd98d6f7c2a8d6a005c6}{vital::kOscilloscopeMemoryResolution}};}
\DoxyCodeLine{00628\ }
\DoxyCodeLine{00629\ \ \ \textcolor{keywordflow}{if}\ (last\_played\ \&\&\ (\mbox{\hyperlink{class_synth_base_aeb6e59eb0d3e0adbbf49e8980b816b27}{last\_played\_note\_}}\ !=\ last\_played\ ||\ num\_pressed\ >\ \mbox{\hyperlink{class_synth_base_a706ff5d5d263efa440e3cb9ea836bf54}{last\_num\_pressed\_}}))\ \{}
\DoxyCodeLine{00630\ \ \ \ \ \mbox{\hyperlink{class_synth_base_aeb6e59eb0d3e0adbbf49e8980b816b27}{last\_played\_note\_}}\ =\ last\_played;}
\DoxyCodeLine{00631\ }
\DoxyCodeLine{00632\ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ frequency\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ad576b73366d625ca0b47c8b92b81f7a4}{vital::utils::midiNoteToFrequency}}(\mbox{\hyperlink{class_synth_base_aeb6e59eb0d3e0adbbf49e8980b816b27}{last\_played\_note\_}});}
\DoxyCodeLine{00633\ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ period\ =\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getSampleRate()\ /\ frequency;}
\DoxyCodeLine{00634\ \ \ \ \ \textcolor{keywordtype}{int}\ window\_length\ =\ output\_inc\ *\ \mbox{\hyperlink{namespacevital_a104911e122febd98d6f7c2a8d6a005c6}{vital::kOscilloscopeMemoryResolution}};}
\DoxyCodeLine{00635\ }
\DoxyCodeLine{00636\ \ \ \ \ \mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}}\ =\ period;}
\DoxyCodeLine{00637\ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}}\ <\ window\_length)}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}}\ +=\ \mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}};}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00640\ \ \ \ \ \mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}}\ =\ std::min(\mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}},\ 2.0f\ *\ window\_length);}
\DoxyCodeLine{00641\ \ \ \ \ \mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}\ =\ 0;}
\DoxyCodeLine{00642\ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_ace66114ab674022cfe117519c0de26ab}{vital::utils::copyBuffer}}(\mbox{\hyperlink{class_synth_base_a1f4d1fe8e60aa78159c6b12900004f98}{oscilloscope\_memory\_}},\ \mbox{\hyperlink{class_synth_base_a384857b4ce922fcd6cb89e98cd0e153c}{oscilloscope\_memory\_write\_}},\ oscilloscope\_samples);}
\DoxyCodeLine{00643\ \ \ \}}
\DoxyCodeLine{00644\ \ \ \mbox{\hyperlink{class_synth_base_a706ff5d5d263efa440e3cb9ea836bf54}{last\_num\_pressed\_}}\ =\ num\_pressed;}
\DoxyCodeLine{00645\ }
\DoxyCodeLine{00646\ \ \ \textcolor{keywordflow}{for}\ (;\ \mbox{\hyperlink{class_synth_base_ada57eaaf1e50259b455e800eeb53b42d}{memory\_input\_offset\_}}\ <\ samples;\ \mbox{\hyperlink{class_synth_base_ada57eaaf1e50259b455e800eeb53b42d}{memory\_input\_offset\_}}\ +=\ output\_inc)\ \{}
\DoxyCodeLine{00647\ \ \ \ \ \textcolor{keywordtype}{int}\ input\_index\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a0096680ab20a53e9eade83f4f2ee1895}{vital::utils::iclamp}}(\mbox{\hyperlink{class_synth_base_ada57eaaf1e50259b455e800eeb53b42d}{memory\_input\_offset\_}},\ 0,\ samples);}
\DoxyCodeLine{00648\ \ \ \ \ \mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a0096680ab20a53e9eade83f4f2ee1895}{vital::utils::iclamp}}(\mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}},\ 0,\ oscilloscope\_samples\ -\/\ 1);}
\DoxyCodeLine{00649\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(input\_index\ >=\ 0);}
\DoxyCodeLine{00650\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(input\_index\ <\ samples);}
\DoxyCodeLine{00651\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}\ >=\ 0);}
\DoxyCodeLine{00652\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}\ <\ oscilloscope\_samples);}
\DoxyCodeLine{00653\ \ \ \ \ \mbox{\hyperlink{class_synth_base_a384857b4ce922fcd6cb89e98cd0e153c}{oscilloscope\_memory\_write\_}}[\mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}++]\ =\ audio[input\_index];}
\DoxyCodeLine{00654\ }
\DoxyCodeLine{00655\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}\ *\ output\_inc\ >=\ \mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}})\ \{}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_ada57eaaf1e50259b455e800eeb53b42d}{memory\_input\_offset\_}}\ +=\ \mbox{\hyperlink{class_synth_base_af1f2909da6f21b6434f613bb4feb79ef}{memory\_reset\_period\_}}\ -\/\ \mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}\ *\ output\_inc;}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_base_af6651ce940d43e400822822f664caae4}{memory\_index\_}}\ =\ 0;}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_ace66114ab674022cfe117519c0de26ab}{vital::utils::copyBuffer}}(\mbox{\hyperlink{class_synth_base_a1f4d1fe8e60aa78159c6b12900004f98}{oscilloscope\_memory\_}},\ \mbox{\hyperlink{class_synth_base_a384857b4ce922fcd6cb89e98cd0e153c}{oscilloscope\_memory\_write\_}},\ oscilloscope\_samples);}
\DoxyCodeLine{00659\ \ \ \ \ \}}
\DoxyCodeLine{00660\ \ \ \}}
\DoxyCodeLine{00661\ }
\DoxyCodeLine{00662\ \ \ \mbox{\hyperlink{class_synth_base_ada57eaaf1e50259b455e800eeb53b42d}{memory\_input\_offset\_}}\ -\/=\ samples;}
\DoxyCodeLine{00663\ \}}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00665\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_afd6be2ff21f26e22e93960f99c42e269}{SynthBase::armMidiLearn}}(\textcolor{keyword}{const}\ std::string\&\ name)\ \{}
\DoxyCodeLine{00666\ \ \ \mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}-\/>armMidiLearn(name);}
\DoxyCodeLine{00667\ \}}
\DoxyCodeLine{00668\ }
\DoxyCodeLine{00669\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a6e07fe37efe325645ce7155a12c016b3}{SynthBase::cancelMidiLearn}}()\ \{}
\DoxyCodeLine{00670\ \ \ \mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}-\/>cancelMidiLearn();}
\DoxyCodeLine{00671\ \}}
\DoxyCodeLine{00672\ }
\DoxyCodeLine{00673\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a5162ef8f2af691fbc108ec32d68daa8b}{SynthBase::clearMidiLearn}}(\textcolor{keyword}{const}\ std::string\&\ name)\ \{}
\DoxyCodeLine{00674\ \ \ \mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}-\/>clearMidiLearn(name);}
\DoxyCodeLine{00675\ \}}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00677\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_synth_base_a1e7fe8c6a8de4eda90d599d36330ef31}{SynthBase::isMidiMapped}}(\textcolor{keyword}{const}\ std::string\&\ name)\ \{}
\DoxyCodeLine{00678\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_a2ebf9323dd1dbed24ffd7947c99f5bb4}{midi\_manager\_}}-\/>isMidiMapped(name);}
\DoxyCodeLine{00679\ \}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a0942e715a028196d6bac49384c7745a7}{SynthBase::setAuthor}}(\textcolor{keyword}{const}\ String\&\ author)\ \{}
\DoxyCodeLine{00682\ \ \ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}author"{}}]\ =\ author;}
\DoxyCodeLine{00683\ \}}
\DoxyCodeLine{00684\ }
\DoxyCodeLine{00685\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a325910014c6a2057db873d8296565e1d}{SynthBase::setComments}}(\textcolor{keyword}{const}\ String\&\ comments)\ \{}
\DoxyCodeLine{00686\ \ \ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}comments"{}}]\ =\ comments;}
\DoxyCodeLine{00687\ \}}
\DoxyCodeLine{00688\ }
\DoxyCodeLine{00689\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a4c531e019675f1f0631ad6408e9f5a57}{SynthBase::setStyle}}(\textcolor{keyword}{const}\ String\&\ style)\ \{}
\DoxyCodeLine{00690\ \ \ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}style"{}}]\ =\ style;}
\DoxyCodeLine{00691\ \}}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00693\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_afe8428318b2137a61172eb63be7a43ed}{SynthBase::setPresetName}}(\textcolor{keyword}{const}\ String\&\ preset\_name)\ \{}
\DoxyCodeLine{00694\ \ \ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}preset\_name"{}}]\ =\ preset\_name;}
\DoxyCodeLine{00695\ \}}
\DoxyCodeLine{00696\ }
\DoxyCodeLine{00697\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a1ae37d5df3212543f5be188a012c9e41}{SynthBase::setMacroName}}(\textcolor{keywordtype}{int}\ index,\ \textcolor{keyword}{const}\ String\&\ macro\_name)\ \{}
\DoxyCodeLine{00698\ \ \ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}macro"{}}\ +\ std::to\_string(index\ +\ 1)]\ =\ macro\_name;}
\DoxyCodeLine{00699\ \}}
\DoxyCodeLine{00700\ }
\DoxyCodeLine{00701\ String\ \mbox{\hyperlink{class_synth_base_a5413dc3bc1820bd684f630539277f77f}{SynthBase::getAuthor}}()\ \{}
\DoxyCodeLine{00702\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}author"{}}];}
\DoxyCodeLine{00703\ \}}
\DoxyCodeLine{00704\ }
\DoxyCodeLine{00705\ String\ \mbox{\hyperlink{class_synth_base_a727799daccb069ed0f2b88b58d3c4be0}{SynthBase::getComments}}()\ \{}
\DoxyCodeLine{00706\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}comments"{}}];}
\DoxyCodeLine{00707\ \}}
\DoxyCodeLine{00708\ }
\DoxyCodeLine{00709\ String\ \mbox{\hyperlink{class_synth_base_aff08ea3ecb35474472d41f4f8c9899ec}{SynthBase::getStyle}}()\ \{}
\DoxyCodeLine{00710\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}style"{}}];}
\DoxyCodeLine{00711\ \}}
\DoxyCodeLine{00712\ }
\DoxyCodeLine{00713\ String\ \mbox{\hyperlink{class_synth_base_aa3c9dffdaaa6f566e98d9a5f1ce25c49}{SynthBase::getPresetName}}()\ \{}
\DoxyCodeLine{00714\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}preset\_name"{}}];}
\DoxyCodeLine{00715\ \}}
\DoxyCodeLine{00716\ }
\DoxyCodeLine{00717\ String\ \mbox{\hyperlink{class_synth_base_a3015e8587a088580ea5972f10f45e2e3}{SynthBase::getMacroName}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00718\ \ \ String\ name\ =\ \mbox{\hyperlink{class_synth_base_a6398a976050ddfba59342ea0ca3f03cc}{save\_info\_}}[\textcolor{stringliteral}{"{}macro"{}}\ +\ std::to\_string(index\ +\ 1)];}
\DoxyCodeLine{00719\ \ \ \textcolor{keywordflow}{if}\ (name.trim().isEmpty())}
\DoxyCodeLine{00720\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}MACRO\ "{}}\ +\ String(index\ +\ 1);}
\DoxyCodeLine{00721\ \ \ \textcolor{keywordflow}{return}\ name;}
\DoxyCodeLine{00722\ \}}
\DoxyCodeLine{00723\ }
\DoxyCodeLine{00724\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_stereo_memory}{vital::StereoMemory}}*\ \mbox{\hyperlink{class_synth_base_ab506a89ecd92be40106b09b5253e5c92}{SynthBase::getEqualizerMemory}}()\ \{}
\DoxyCodeLine{00725\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}})}
\DoxyCodeLine{00726\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getEqualizerMemory();}
\DoxyCodeLine{00727\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00728\ \}}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00730\ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{vital::ModulationConnectionBank}}\&\ \mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{SynthBase::getModulationBank}}()\ \{}
\DoxyCodeLine{00731\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>getModulationBank();}
\DoxyCodeLine{00732\ \}}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00734\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_afd3cb3887a7b21e0d972d9e162fd67ce}{SynthBase::notifyOversamplingChanged}}()\ \{}
\DoxyCodeLine{00735\ \ \ \mbox{\hyperlink{class_synth_base_a61c53ea8670b76df78930447a3e57453}{pauseProcessing}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00736\ \ \ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>allSoundsOff();}
\DoxyCodeLine{00737\ \ \ \mbox{\hyperlink{class_synth_base_a6379a26cda438709fcbbf1c7c38e70ca}{checkOversampling}}();}
\DoxyCodeLine{00738\ \ \ \mbox{\hyperlink{class_synth_base_a61c53ea8670b76df78930447a3e57453}{pauseProcessing}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00739\ \}}
\DoxyCodeLine{00740\ }
\DoxyCodeLine{00741\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_synth_base_a6379a26cda438709fcbbf1c7c38e70ca}{SynthBase::checkOversampling}}()\ \{}
\DoxyCodeLine{00742\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_synth_base_aadcde411867cb9ca0282ecce92e86c89}{engine\_}}-\/>checkOversampling();}
\DoxyCodeLine{00743\ \}}
\DoxyCodeLine{00744\ }
\DoxyCodeLine{00745\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback_a6b86d4c1a91bb1b5a7e986acb08fc194}{SynthBase::ValueChangedCallback::messageCallback}}()\ \{}
\DoxyCodeLine{00746\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ synth\_base\ =\ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback_ad656205da3a97b5fa6bbc6e24151f12a}{listener}}.lock())\ \{}
\DoxyCodeLine{00747\ \ \ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ gui\_interface\ =\ (*synth\_base)-\/>getGuiInterface();}
\DoxyCodeLine{00748\ \ \ \ \ \textcolor{keywordflow}{if}\ (gui\_interface)\ \{}
\DoxyCodeLine{00749\ \ \ \ \ \ \ gui\_interface-\/>\mbox{\hyperlink{class_synth_gui_interface_a70189df1a34db4d013cade41fec7f27d}{updateGuiControl}}(\mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback_a9cc007e1d3d015ae27dae441566bfa8f}{control\_name}},\ \mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback_a6fa80a0a1ee916a5a4d8033e88251a3f}{value}});}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{struct_synth_base_1_1_value_changed_callback_a9cc007e1d3d015ae27dae441566bfa8f}{control\_name}}\ !=\ \textcolor{stringliteral}{"{}pitch\_wheel"{}})}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ gui\_interface-\/>\mbox{\hyperlink{class_synth_gui_interface_a548667bab35a03d0382e31ebc563bfe2}{notifyChange}}();}
\DoxyCodeLine{00752\ \ \ \ \ \}}
\DoxyCodeLine{00753\ \ \ \}}
\DoxyCodeLine{00754\ \}}

\end{DoxyCode}
