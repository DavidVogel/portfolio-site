\doxysection{Pitch\+Detector Class Reference}
\hypertarget{class_pitch_detector}{}\label{class_pitch_detector}\index{PitchDetector@{PitchDetector}}


A utility class for estimating the pitch (fundamental period) of a given audio signal segment.  




{\ttfamily \#include $<$pitch\+\_\+detector.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_pitch_detector_afb748209fe74beb8876e3ff52ff00e49}{Pitch\+Detector}} ()
\begin{DoxyCompactList}\small\item\em Constructs a \doxylink{class_pitch_detector}{Pitch\+Detector} with no loaded signal. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pitch_detector_a4a7a7d684adf633a5cefb6096bdf8293}{set\+Size}} (int size)
\begin{DoxyCompactList}\small\item\em Sets the internal size of the signal used for pitch detection. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pitch_detector_a6fbfbc0c1855219929f3f7c7e9345606}{load\+Signal}} (const float \texorpdfstring{$\ast$}{*}signal, int size)
\begin{DoxyCompactList}\small\item\em Loads a signal into the \doxylink{class_pitch_detector}{Pitch\+Detector} for analysis. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{class_pitch_detector_a8d67c7c33620c8a7de618a41a19a9a96}{get\+Period\+Error}} (float period)
\begin{DoxyCompactList}\small\item\em Computes the error metric for a given period length. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{class_pitch_detector_a0254cf5388c626fa9d9dc3ce6009d660}{find\+Yin\+Period}} (int max\+\_\+period)
\begin{DoxyCompactList}\small\item\em Searches for a period using a YIN-\/like algorithm, up to a specified maximum period. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{class_pitch_detector_a35a1b29ff8620bc7e3c38c17ef1208ea}{match\+Period}} (int max\+\_\+period)
\begin{DoxyCompactList}\small\item\em High-\/level method to find the best matching period using the YIN approach. \end{DoxyCompactList}\item 
const float \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_pitch_detector_affced0fc3465e872811f2319b5e20305}{data}} () const
\begin{DoxyCompactList}\small\item\em Returns a pointer to the internal signal data buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr int \mbox{\hyperlink{class_pitch_detector_a79eb40dee0838d22a82d5db8a48669c7}{k\+Num\+Points}} = 2520
\begin{DoxyCompactList}\small\item\em A fixed number of points used in the period error computation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_pitch_detector_a3a8269f8aa76f3a8dcaf9b9f87b0c4a0}{size\+\_\+}}
\begin{DoxyCompactList}\small\item\em Number of samples in the loaded signal. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ float\mbox{[}$\,$\mbox{]}$>$ \mbox{\hyperlink{class_pitch_detector_a814a69c800b25436cf9cb51b7f98cf44}{signal\+\_\+data\+\_\+}}
\begin{DoxyCompactList}\small\item\em Buffer holding the loaded signal samples. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A utility class for estimating the pitch (fundamental period) of a given audio signal segment. 

The \doxylink{class_pitch_detector}{Pitch\+Detector} class loads a segment of audio samples and attempts to determine its fundamental period using a variation of the YIN pitch detection algorithm. By estimating the period length that minimizes differences between segments of the waveform, it can guide other components (like wavetable extraction) to align frames to a fundamental cycle. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_pitch_detector_afb748209fe74beb8876e3ff52ff00e49}\index{PitchDetector@{PitchDetector}!PitchDetector@{PitchDetector}}
\index{PitchDetector@{PitchDetector}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{PitchDetector()}{PitchDetector()}}
{\footnotesize\ttfamily \label{class_pitch_detector_afb748209fe74beb8876e3ff52ff00e49} 
Pitch\+Detector\+::\+Pitch\+Detector (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Constructs a \doxylink{class_pitch_detector}{Pitch\+Detector} with no loaded signal. 



\doxysubsection{Member Function Documentation}
\Hypertarget{class_pitch_detector_affced0fc3465e872811f2319b5e20305}\index{PitchDetector@{PitchDetector}!data@{data}}
\index{data@{data}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily \label{class_pitch_detector_affced0fc3465e872811f2319b5e20305} 
const float \texorpdfstring{$\ast$}{*} Pitch\+Detector\+::data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns a pointer to the internal signal data buffer. 

\begin{DoxyReturn}{Returns}
A const pointer to the loaded signal samples. 
\end{DoxyReturn}
\Hypertarget{class_pitch_detector_a0254cf5388c626fa9d9dc3ce6009d660}\index{PitchDetector@{PitchDetector}!findYinPeriod@{findYinPeriod}}
\index{findYinPeriod@{findYinPeriod}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{findYinPeriod()}{findYinPeriod()}}
{\footnotesize\ttfamily \label{class_pitch_detector_a0254cf5388c626fa9d9dc3ce6009d660} 
float Pitch\+Detector\+::find\+Yin\+Period (\begin{DoxyParamCaption}\item[{int}]{max\+\_\+period}{}\end{DoxyParamCaption})}



Searches for a period using a YIN-\/like algorithm, up to a specified maximum period. 

Evaluates candidate periods and selects the one with minimal error.


\begin{DoxyParams}{Parameters}
{\em max\+\_\+period} & The maximum period length to consider, in samples. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The detected period length in samples. 
\end{DoxyReturn}
\Hypertarget{class_pitch_detector_a8d67c7c33620c8a7de618a41a19a9a96}\index{PitchDetector@{PitchDetector}!getPeriodError@{getPeriodError}}
\index{getPeriodError@{getPeriodError}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{getPeriodError()}{getPeriodError()}}
{\footnotesize\ttfamily \label{class_pitch_detector_a8d67c7c33620c8a7de618a41a19a9a96} 
float Pitch\+Detector\+::get\+Period\+Error (\begin{DoxyParamCaption}\item[{float}]{period}{}\end{DoxyParamCaption})}



Computes the error metric for a given period length. 

A lower error typically indicates a more likely fundamental period. This function uses differences between successive segments of the waveform to compute the error.


\begin{DoxyParams}{Parameters}
{\em period} & The candidate period length in samples. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error metric for how well this period fits the waveform. 
\end{DoxyReturn}
\Hypertarget{class_pitch_detector_a6fbfbc0c1855219929f3f7c7e9345606}\index{PitchDetector@{PitchDetector}!loadSignal@{loadSignal}}
\index{loadSignal@{loadSignal}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{loadSignal()}{loadSignal()}}
{\footnotesize\ttfamily \label{class_pitch_detector_a6fbfbc0c1855219929f3f7c7e9345606} 
void Pitch\+Detector\+::load\+Signal (\begin{DoxyParamCaption}\item[{const float \texorpdfstring{$\ast$}{*}}]{signal}{, }\item[{int}]{size}{}\end{DoxyParamCaption})}



Loads a signal into the \doxylink{class_pitch_detector}{Pitch\+Detector} for analysis. 

Copies the given signal into the detector\textquotesingle{}s buffer.


\begin{DoxyParams}{Parameters}
{\em signal} & Pointer to the signal samples. \\
\hline
{\em size} & Number of samples in the signal. \\
\hline
\end{DoxyParams}
\Hypertarget{class_pitch_detector_a35a1b29ff8620bc7e3c38c17ef1208ea}\index{PitchDetector@{PitchDetector}!matchPeriod@{matchPeriod}}
\index{matchPeriod@{matchPeriod}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{matchPeriod()}{matchPeriod()}}
{\footnotesize\ttfamily \label{class_pitch_detector_a35a1b29ff8620bc7e3c38c17ef1208ea} 
float Pitch\+Detector\+::match\+Period (\begin{DoxyParamCaption}\item[{int}]{max\+\_\+period}{}\end{DoxyParamCaption})}



High-\/level method to find the best matching period using the YIN approach. 


\begin{DoxyParams}{Parameters}
{\em max\+\_\+period} & The maximum period length to consider. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The best matching period in samples. 
\end{DoxyReturn}
\Hypertarget{class_pitch_detector_a4a7a7d684adf633a5cefb6096bdf8293}\index{PitchDetector@{PitchDetector}!setSize@{setSize}}
\index{setSize@{setSize}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{setSize()}{setSize()}}
{\footnotesize\ttfamily \label{class_pitch_detector_a4a7a7d684adf633a5cefb6096bdf8293} 
void Pitch\+Detector\+::set\+Size (\begin{DoxyParamCaption}\item[{int}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the internal size of the signal used for pitch detection. 


\begin{DoxyParams}{Parameters}
{\em size} & Number of samples in the loaded signal. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Data Documentation}
\Hypertarget{class_pitch_detector_a79eb40dee0838d22a82d5db8a48669c7}\index{PitchDetector@{PitchDetector}!kNumPoints@{kNumPoints}}
\index{kNumPoints@{kNumPoints}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{kNumPoints}{kNumPoints}}
{\footnotesize\ttfamily \label{class_pitch_detector_a79eb40dee0838d22a82d5db8a48669c7} 
int Pitch\+Detector\+::k\+Num\+Points = 2520\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



A fixed number of points used in the period error computation. 

This number controls how many sample comparisons are made to estimate the signal\textquotesingle{}s period. \Hypertarget{class_pitch_detector_a814a69c800b25436cf9cb51b7f98cf44}\index{PitchDetector@{PitchDetector}!signal\_data\_@{signal\_data\_}}
\index{signal\_data\_@{signal\_data\_}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{signal\_data\_}{signal\_data\_}}
{\footnotesize\ttfamily \label{class_pitch_detector_a814a69c800b25436cf9cb51b7f98cf44} 
std\+::unique\+\_\+ptr$<$float\mbox{[}$\,$\mbox{]}$>$ Pitch\+Detector\+::signal\+\_\+data\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Buffer holding the loaded signal samples. 

\Hypertarget{class_pitch_detector_a3a8269f8aa76f3a8dcaf9b9f87b0c4a0}\index{PitchDetector@{PitchDetector}!size\_@{size\_}}
\index{size\_@{size\_}!PitchDetector@{PitchDetector}}
\doxysubsubsection{\texorpdfstring{size\_}{size\_}}
{\footnotesize\ttfamily \label{class_pitch_detector_a3a8269f8aa76f3a8dcaf9b9f87b0c4a0} 
int Pitch\+Detector\+::size\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Number of samples in the loaded signal. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/davidvogel/repos/\+Vital\+Help/src/common/wavetable/\mbox{\hyperlink{pitch__detector_8h}{pitch\+\_\+detector.\+h}}\item 
/\+Users/davidvogel/repos/\+Vital\+Help/src/common/wavetable/\mbox{\hyperlink{pitch__detector_8cpp}{pitch\+\_\+detector.\+cpp}}\end{DoxyCompactItemize}
