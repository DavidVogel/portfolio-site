\doxysection{operators.\+cpp}
\hypertarget{operators_8cpp_source}{}\label{operators_8cpp_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/framework/operators.cpp@{/Users/davidvogel/repos/VitalHelp/src/synthesis/framework/operators.cpp}}
\mbox{\hyperlink{operators_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{operators_8h}{operators.h}}"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__constants_8h}{synth\_constants.h}}"{}}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00010\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_clamp_a40593b9ab345b2b21621ad68e39af863}{Clamp::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00011\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}());}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}()-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00014\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00017\ \ \ \ \ \ \ dest[i]\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{utils::clamp}}(source[i],\ min\_,\ max\_);}
\DoxyCodeLine{00018\ \ \ \}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00024\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_negate_a6892afc09f2715592296dac808ddc32a}{Negate::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}());}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}()-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00031\ \ \ \ \ \ \ dest[i]\ =\ -\/source[i];}
\DoxyCodeLine{00032\ \ \ \}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00038\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_inverse_a3cfb94df27c786336b39ed67a2bd9894}{Inverse::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}());}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}()-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00045\ \ \ \ \ \ \ dest[i]\ =\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}(1.0f)\ /\ source[i];}
\DoxyCodeLine{00046\ \ \ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00052\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_linear_scale_ae2742ba44c526e75dac23b061d24547e}{LinearScale::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}());}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}()-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00059\ \ \ \ \ \ \ dest[i]\ =\ source[i]\ *\ scale\_;}
\DoxyCodeLine{00060\ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00066\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_square_a0a63c68f06e9c3dfe330641a9bf34a7f}{Square::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(0));}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}()-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value\ =\ source[i];}
\DoxyCodeLine{00073\ \ \ \ \ \ \ dest[i]\ =\ value\ *\ value;}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ \ \ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00081\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_add_aedb71e2c23b7a3a55e0c6452ef9fcb19}{Add::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(0));}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(1));}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\_left\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(0)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\_right\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(1)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00090\ \ \ \ \ \ \ dest[i]\ =\ source\_left[i]\ +\ source\_right[i];}
\DoxyCodeLine{00091\ \ \ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00097\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_subtract_a4a5a39adfba91b47cec5d3114ba3a9e4}{Subtract::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(0));}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(1));}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\_left\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(0)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\_right\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(1)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00106\ \ \ \ \ \ \ dest[i]\ =\ source\_left[i]\ -\/\ source\_right[i];}
\DoxyCodeLine{00107\ \ \ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00113\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_multiply_acb75f1bffc3e01a118c2ca7e2909b3f6}{Multiply::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(0));}
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(1));}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\_left\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(0)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\_right\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(1)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00122\ \ \ \ \ \ \ dest[i]\ =\ source\_left[i]\ *\ source\_right[i];}
\DoxyCodeLine{00123\ \ \ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00129\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_smooth_multiply_a5857139c32428f3a6c7f948e67ce7711}{SmoothMultiply::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_smooth_multiply_aa5505f773df10545477d9b6fda72b76f}{processMultiply}}(num\_samples,\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_smooth_multiply_a94d462c812e8d5ec665cc3ed013a2964a2a38e1f36b8a45028ece1a6ee0be4d9e}{kControlRate}})-\/>at(0));}
\DoxyCodeLine{00131\ \ \ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00138\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_smooth_multiply_aa5505f773df10545477d9b6fda72b76f}{SmoothMultiply::processMultiply}}(\textcolor{keywordtype}{int}\ num\_samples,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ multiply)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(\mbox{\hyperlink{classvital_1_1_smooth_multiply_a94d462c812e8d5ec665cc3ed013a2964ae44907666208945546f02960c4012ee3}{kAudioRate}}));}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ audio\_out\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ audio\_in\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_smooth_multiply_a94d462c812e8d5ec665cc3ed013a2964ae44907666208945546f02960c4012ee3}{kAudioRate}})-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ current\_multiply\ =\ \mbox{\hyperlink{classvital_1_1_smooth_multiply_ac5e19134fbef715ec9ffb1b92c93a7bf}{multiply\_}};}
\DoxyCodeLine{00145\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_smooth_multiply_ac5e19134fbef715ec9ffb1b92c93a7bf}{multiply\_}}\ =\ multiply;}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ If\ we\ need\ to\ reset\ multiplier\ for\ specific\ voices}}
\DoxyCodeLine{00148\ \ \ \ \ current\_multiply\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(current\_multiply,\ \mbox{\hyperlink{classvital_1_1_smooth_multiply_ac5e19134fbef715ec9ffb1b92c93a7bf}{multiply\_}},\ \mbox{\hyperlink{classvital_1_1_processor_a7fed5dc3ae95e104c71f7ce7f570fab4}{getResetMask}}(\mbox{\hyperlink{classvital_1_1_smooth_multiply_a94d462c812e8d5ec665cc3ed013a2964a620b7d45054c2e451c24a554735dc2f4}{kReset}}));}
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ delta\_multiply\ =\ (\mbox{\hyperlink{classvital_1_1_smooth_multiply_ac5e19134fbef715ec9ffb1b92c93a7bf}{multiply\_}}\ -\/\ current\_multiply)\ *\ (1.0f\ /\ num\_samples);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ current\_multiply\ +=\ delta\_multiply;}
\DoxyCodeLine{00153\ \ \ \ \ \ \ audio\_out[i]\ =\ audio\_in[i]\ *\ current\_multiply;}
\DoxyCodeLine{00154\ \ \ \ \ \}}
\DoxyCodeLine{00155\ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00161\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_smooth_volume_ac34b1425d1c2aeb7abc74db4ff01d43b}{SmoothVolume::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00162\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ db\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{utils::clamp}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_smooth_volume_af5d408b9af60f51bbaee2601386b659f}{kDb}})-\/>at(0),\ \mbox{\hyperlink{classvital_1_1_smooth_volume_aacdef046d2b3c189d7069f4cef8313df}{kMinDb}},\ max\_db\_);}
\DoxyCodeLine{00163\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ zero\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_acfab69a5f0e722bf24bfa241669954fd}{poly\_float::lessThanOrEqual}}(db,\ \mbox{\hyperlink{classvital_1_1_smooth_volume_aacdef046d2b3c189d7069f4cef8313df}{kMinDb}});}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ amplitude\ =\ \mbox{\hyperlink{namespacevital_1_1futils_aeb7b7646b5c704ad5c1e23d4cb1a75f4}{futils::dbToMagnitude}}(db);}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//\ If\ dB\ is\ at\ or\ below\ kMinDb,\ amplitude\ becomes\ 0}}
\DoxyCodeLine{00167\ \ \ \ \ amplitude\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(amplitude,\ 0.0f,\ zero\_mask);}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_smooth_multiply_aa5505f773df10545477d9b6fda72b76f}{processMultiply}}(num\_samples,\ amplitude);}
\DoxyCodeLine{00170\ \ \ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00176\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_interpolate_a4723405fe4ce045580046ce2dcc10d63}{Interpolate::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(\mbox{\hyperlink{classvital_1_1_interpolate_add257094ad0641a8d9e916483ca9934aaa2176883d6211fc937022b11b77d764e}{kFrom}}));}
\DoxyCodeLine{00178\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(\mbox{\hyperlink{classvital_1_1_interpolate_add257094ad0641a8d9e916483ca9934aa76337bb9de6999067bfe9b6aeb9ca6d7}{kTo}}));}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ from\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_interpolate_add257094ad0641a8d9e916483ca9934aaa2176883d6211fc937022b11b77d764e}{kFrom}})-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ to\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_interpolate_add257094ad0641a8d9e916483ca9934aa76337bb9de6999067bfe9b6aeb9ca6d7}{kTo}})-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ fractional\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_interpolate_add257094ad0641a8d9e916483ca9934aad9bafddfbe1de01e012d44876422332b}{kFractional}})-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{comment}{//\ If\ fractional\ is\ control\ rate,\ we\ smooth\ it\ over\ the\ block}}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_interpolate_add257094ad0641a8d9e916483ca9934aad9bafddfbe1de01e012d44876422332b}{kFractional}})-\/>source-\/>isControlRate())\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ current\_fraction\ =\ fraction\_;}
\DoxyCodeLine{00188\ \ \ \ \ \ \ fraction\_\ =\ fractional[0];}
\DoxyCodeLine{00189\ \ \ \ \ \ \ current\_fraction\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(current\_fraction,\ fraction\_,\ \mbox{\hyperlink{classvital_1_1_processor_a7fed5dc3ae95e104c71f7ce7f570fab4}{getResetMask}}(\mbox{\hyperlink{classvital_1_1_interpolate_add257094ad0641a8d9e916483ca9934aa1d2daf63e4a39517b16d07b6aad190a5}{kReset}}));}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ delta\_fraction\ =\ (fraction\_\ -\/\ current\_fraction)\ *\ (1.0f\ /\ num\_samples);}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ current\_fraction\ +=\ delta\_fraction;}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ dest[i]\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{utils::interpolate}}(from[i],\ to[i],\ current\_fraction);}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00196\ \ \ \ \ \}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \textcolor{comment}{//\ Fractional\ is\ audio-\/rate\ or\ per-\/sample}}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ dest[i]\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{utils::interpolate}}(from[i],\ to[i],\ fractional[i]);}
\DoxyCodeLine{00201\ \ \ \ \ \}}
\DoxyCodeLine{00202\ \ \ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00208\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_bilinear_interpolate_ac5b4a1967a6808f0d149b25197d4b49a}{BilinearInterpolate::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kMaxOffset\ =\ 1.0f;}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(\mbox{\hyperlink{classvital_1_1_bilinear_interpolate_aa303bbad16b760eff628c731c488f060a900b6bb7b9eaf087953aac4431dc369d}{kXPosition}}));}
\DoxyCodeLine{00212\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(\mbox{\hyperlink{classvital_1_1_bilinear_interpolate_aa303bbad16b760eff628c731c488f060a67f7c7becf8c4534da9f95faa0f57374}{kYPosition}}));}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ top\_left\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_bilinear_interpolate_aa303bbad16b760eff628c731c488f060af0c0702527d9e19537425ab585fd5e45}{kTopLeft}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0);}
\DoxyCodeLine{00215\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ top\_right\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_bilinear_interpolate_aa303bbad16b760eff628c731c488f060a3fbf36d91069cef5db86228d38f03fc3}{kTopRight}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0);}
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ bottom\_left\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_bilinear_interpolate_aa303bbad16b760eff628c731c488f060a75d791a535e7d9a94d8b906aac714b9d}{kBottomLeft}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0);}
\DoxyCodeLine{00217\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ bottom\_right\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_bilinear_interpolate_aa303bbad16b760eff628c731c488f060a6c5b141de47ce48076b6fc1e82501d25}{kBottomRight}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0);}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ x\_position\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_bilinear_interpolate_aa303bbad16b760eff628c731c488f060a900b6bb7b9eaf087953aac4431dc369d}{kXPosition}})-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ y\_position\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_bilinear_interpolate_aa303bbad16b760eff628c731c488f060a67f7c7becf8c4534da9f95faa0f57374}{kYPosition}})-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ x\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{utils::clamp}}(x\_position[i],\ -\/kMaxOffset,\ 1.0f\ +\ kMaxOffset);}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ y\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{utils::clamp}}(y\_position[i],\ -\/kMaxOffset,\ 1.0f\ +\ kMaxOffset);}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ top\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{utils::interpolate}}(top\_left,\ top\_right,\ x);}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ bottom\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{utils::interpolate}}(bottom\_left,\ bottom\_right,\ x);}
\DoxyCodeLine{00228\ \ \ \ \ \ \ dest[i]\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{utils::interpolate}}(top,\ bottom,\ y);}
\DoxyCodeLine{00229\ \ \ \ \ \}}
\DoxyCodeLine{00230\ \ \ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00236\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_variable_add_ac56b7d119ddb17951e40aa39cacc7911}{VariableAdd::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\#if\ DEBUG}}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{comment}{//\ Verify\ each\ input\ buffer\ size\ matches}}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classvital_1_1_processor_a8a68011df2f062b0a13c62b3381da521}{inputs\_}}-\/>size();\ ++i)}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(i));}
\DoxyCodeLine{00241\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_inputs\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classvital_1_1_processor_a8a68011df2f062b0a13c62b3381da521}{inputs\_}}-\/>size());}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvital_1_1_processor_a7c412df809f6c84fe54bdd977681fd9a}{isControlRate}}())\ \{}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \textcolor{comment}{//\ Summation\ for\ single-\/sample\ control-\/rate}}
\DoxyCodeLine{00248\ \ \ \ \ \ \ dest[0]\ =\ 0.0f;}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_inputs;\ ++i)}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ dest[0]\ +=\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0);}
\DoxyCodeLine{00251\ \ \ \ \ \}}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \textcolor{comment}{//\ Summation\ for\ audio-\/rate}}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a23be57085c57f535eb29b1de54525373}{utils::zeroBuffer}}(dest,\ num\_samples);}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_inputs;\ ++i)\ \{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>source\ !=\ \&\mbox{\hyperlink{classvital_1_1_processor_a813191fdb6729bffcf2bb1cab0b028fe}{Processor::null\_source\_}})\ \{}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ s\ =\ 0;\ s\ <\ num\_samples;\ ++s)}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ dest[s]\ +=\ source[s];}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00263\ \ \ \ \ \}}
\DoxyCodeLine{00264\ \ \ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00270\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_modulation_sum_a7149cf1fd9d86c1327b9b5d70c75fe12}{ModulationSum::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00271\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>buffer\_size\ >=\ num\_samples);}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_inputs\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classvital_1_1_processor_a8a68011df2f062b0a13c62b3381da521}{inputs\_}}-\/>size());}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{comment}{//\ Smooth\ control-\/rate\ inputs}}
\DoxyCodeLine{00277\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ current\_control\_value\ =\ control\_value\_;}
\DoxyCodeLine{00278\ \ \ \ \ control\_value\_\ =\ 0.0f;}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ \mbox{\hyperlink{classvital_1_1_modulation_sum_aac52fcf1d260f26533a4829abd19dc85a6870d1b1efb23d10d735577a4a0cd271}{kNumStaticInputs}};\ i\ <\ num\_inputs;\ ++i)\ \{}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>source\ !=\ \&\mbox{\hyperlink{classvital_1_1_processor_a813191fdb6729bffcf2bb1cab0b028fe}{Processor::null\_source\_}}\ \&\&\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>source-\/>owner-\/>isControlRate())}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ control\_value\_\ +=\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}}[0];}
\DoxyCodeLine{00283\ \ \ \ \ \}}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{comment}{//\ Smoothing\ the\ control\ value}}
\DoxyCodeLine{00286\ \ \ \ \ current\_control\_value\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(current\_control\_value,\ control\_value\_,\ \mbox{\hyperlink{classvital_1_1_processor_a7fed5dc3ae95e104c71f7ce7f570fab4}{getResetMask}}(\mbox{\hyperlink{classvital_1_1_modulation_sum_aac52fcf1d260f26533a4829abd19dc85ac4b5b225a45766282f6964705cff9cd3}{kReset}}));}
\DoxyCodeLine{00287\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ delta\_control\_value\ =\ (control\_value\_\ -\/\ current\_control\_value)\ *\ (1.0f\ /\ num\_samples);}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ s\ =\ 0;\ s\ <\ num\_samples;\ ++s)\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ current\_control\_value\ +=\ delta\_control\_value;}
\DoxyCodeLine{00291\ \ \ \ \ \ \ dest[s]\ =\ current\_control\_value;}
\DoxyCodeLine{00292\ \ \ \ \ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{comment}{//\ Add\ audio-\/rate\ inputs}}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ \mbox{\hyperlink{classvital_1_1_modulation_sum_aac52fcf1d260f26533a4829abd19dc85a6870d1b1efb23d10d735577a4a0cd271}{kNumStaticInputs}};\ i\ <\ num\_inputs;\ ++i)\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>source\ !=\ \&\mbox{\hyperlink{classvital_1_1_processor_a813191fdb6729bffcf2bb1cab0b028fe}{Processor::null\_source\_}}\ \&\&\ !\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>source-\/>owner-\/>isControlRate())\ \{}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}(i));}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(i)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ s\ =\ 0;\ s\ <\ num\_samples;\ ++s)\ \{}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ dest[s]\ +=\ source[s];}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00304\ \ \ \ \ \}}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_add4bada660da96ee68e1645aaefc9f46}{trigger\_value}}\ =\ dest[0];}
\DoxyCodeLine{00307\ \ \ \}}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00313\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_and_hold_buffer_a462da7064828eb9e6f0198e08cde9ea1}{SampleAndHoldBuffer::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00314\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}()-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}}[0];}
\DoxyCodeLine{00315\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{comment}{//\ If\ value\ is\ already\ the\ same,\ no\ change\ needed}}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacevital_1_1utils_ab485b6f004b79eacf3799c21734856ea}{utils::equal}}(value,\ dest[0]))}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)}
\DoxyCodeLine{00322\ \ \ \ \ \ \ dest[i]\ =\ value;}
\DoxyCodeLine{00323\ \ \ \}}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00329\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_stereo_encoder_af764afac73b9028693d8432249625053}{StereoEncoder::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_stereo_encoder_a62491f320edf6c76320bb04fa7d445fca1b161dda005087e4087c368d8c203423}{kMode}})-\/>at(0)[0])}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a91fb1e32804a8301b61feddb2e5f56ad}{processRotate}}(num\_samples);}
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_stereo_encoder_af2624e2a808e35e9ddefd3609ea09199}{processCenter}}(num\_samples);}
\DoxyCodeLine{00334\ \ \ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00340\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a91fb1e32804a8301b61feddb2e5f56ad}{StereoEncoder::processRotate}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00341\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kSign(1.0f,\ -\/1.0f);}
\DoxyCodeLine{00342\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}());}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ current\_cos\_mult\ =\ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a0b5d566d16b2804b27ed4a937016ce51}{cos\_mult\_}};}
\DoxyCodeLine{00345\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ current\_sin\_mult\ =\ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a9849be72cc95f4228412bc600cfd6d93}{sin\_mult\_}};}
\DoxyCodeLine{00346\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ encoding\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{utils::clamp}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_stereo_encoder_a62491f320edf6c76320bb04fa7d445fca383ff14c249c07f8ead13effb23b8e2d}{kEncodingValue}})-\/>at(0),\ 0.0f,\ 1.0f)}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\ \mbox{\hyperlink{classvital_1_1_stereo_encoder_ae05f4c45e555ed3b27336894c1b1c126}{decoding\_mult\_}}\ *\ (2.0f\ *\ \mbox{\hyperlink{namespacevital_a8915682aaf0a65ead04759d4e6b8f727}{kPi}});}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{comment}{//\ Compute\ target\ cos/sin}}
\DoxyCodeLine{00350\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a0b5d566d16b2804b27ed4a937016ce51}{cos\_mult\_}}\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a087b0896db47de58b698d92829794d19}{utils::cos}}(encoding);}
\DoxyCodeLine{00351\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a9849be72cc95f4228412bc600cfd6d93}{sin\_mult\_}}\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ad8fc18346f5d17f12f8131e5efa6e5e6}{utils::sin}}(encoding);}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ delta\_tick\ =\ 1.0f\ /\ num\_samples;}
\DoxyCodeLine{00354\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ delta\_cos\ =\ (\mbox{\hyperlink{classvital_1_1_stereo_encoder_a0b5d566d16b2804b27ed4a937016ce51}{cos\_mult\_}}\ -\/\ current\_cos\_mult)\ *\ delta\_tick;}
\DoxyCodeLine{00355\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ delta\_sin\ =\ (\mbox{\hyperlink{classvital_1_1_stereo_encoder_a9849be72cc95f4228412bc600cfd6d93}{sin\_mult\_}}\ -\/\ current\_sin\_mult)\ *\ delta\_tick;}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}()-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00358\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00361\ \ \ \ \ \ \ current\_cos\_mult\ +=\ delta\_cos;}
\DoxyCodeLine{00362\ \ \ \ \ \ \ current\_sin\_mult\ +=\ delta\_sin;}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \textcolor{comment}{//\ swapStereo\ swaps\ L\ and\ R,\ then\ multiply\ by\ (1,\ -\/1)\ for\ sign\ inversion}}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ swap\ =\ kSign\ *\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{utils::swapStereo}}(source[i]);}
\DoxyCodeLine{00365\ \ \ \ \ \ \ dest[i]\ =\ source[i]\ *\ current\_cos\_mult\ +\ swap\ *\ current\_sin\_mult;}
\DoxyCodeLine{00366\ \ \ \ \ \}}
\DoxyCodeLine{00367\ \ \ \}}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00373\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_stereo_encoder_af2624e2a808e35e9ddefd3609ea09199}{StereoEncoder::processCenter}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00374\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ current\_cos\_mult\ =\ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a0b5d566d16b2804b27ed4a937016ce51}{cos\_mult\_}};}
\DoxyCodeLine{00375\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ current\_sin\_mult\ =\ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a9849be72cc95f4228412bc600cfd6d93}{sin\_mult\_}};}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{comment}{//\ encoding\ ∈\ [0..1],\ mapped\ to\ an\ angle\ in\ [π/4..0].}}
\DoxyCodeLine{00377\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ encoding\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{utils::clamp}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_stereo_encoder_a62491f320edf6c76320bb04fa7d445fca383ff14c249c07f8ead13effb23b8e2d}{kEncodingValue}})-\/>at(0),\ 0.0f,\ 1.0f);}
\DoxyCodeLine{00378\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ phase\ =\ (\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}(1.0f)\ -\/\ encoding)\ *\ (0.25f\ *\ \mbox{\hyperlink{namespacevital_a8915682aaf0a65ead04759d4e6b8f727}{kPi}});}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a0b5d566d16b2804b27ed4a937016ce51}{cos\_mult\_}}\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a087b0896db47de58b698d92829794d19}{utils::cos}}(phase);}
\DoxyCodeLine{00381\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_stereo_encoder_a9849be72cc95f4228412bc600cfd6d93}{sin\_mult\_}}\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ad8fc18346f5d17f12f8131e5efa6e5e6}{utils::sin}}(phase);}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ delta\_tick\ =\ 1.0f\ /\ num\_samples;}
\DoxyCodeLine{00384\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ delta\_cos\ =\ (\mbox{\hyperlink{classvital_1_1_stereo_encoder_a0b5d566d16b2804b27ed4a937016ce51}{cos\_mult\_}}\ -\/\ current\_cos\_mult)\ *\ delta\_tick;}
\DoxyCodeLine{00385\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ delta\_sin\ =\ (\mbox{\hyperlink{classvital_1_1_stereo_encoder_a9849be72cc95f4228412bc600cfd6d93}{sin\_mult\_}}\ -\/\ current\_sin\_mult)\ *\ delta\_tick;}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}()-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00388\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00391\ \ \ \ \ \ \ current\_cos\_mult\ +=\ delta\_cos;}
\DoxyCodeLine{00392\ \ \ \ \ \ \ current\_sin\_mult\ +=\ delta\_sin;}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ swap\ =\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{utils::swapStereo}}(source[i]);}
\DoxyCodeLine{00394\ \ \ \ \ \ \ dest[i]\ =\ source[i]\ *\ current\_cos\_mult\ +\ swap\ *\ current\_sin\_mult;}
\DoxyCodeLine{00395\ \ \ \ \ \}}
\DoxyCodeLine{00396\ \ \ \}}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00402\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_tempo_chooser_ac425ad4bfda5807d782b013cf955804b}{TempoChooser::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ dotted\_ratio\ =\ 2.0f\ /\ 3.0f;}
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ triplet\_ratio\ =\ 3.0f\ /\ 2.0f;}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ tempo\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{utils::clamp}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_tempo_chooser_a4038d2617789ba57db077bd00d94f8eca42e2f967c25d7a54ef0fb8c3d95045a9}{kTempoIndex}})-\/>at(0),\ 0.0f,\ \mbox{\hyperlink{namespacevital_1_1constants_a71a5c9ba3e9f750fe7a83471d792b58e}{constants::kNumSyncedFrequencyRatios}}\ -\/\ 1);}
\DoxyCodeLine{00407\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ tempo\_index\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ad78f0e7d254bdef79f99ff199f8cbd9f}{utils::toInt}}(tempo\ +\ 0.3f);}
\DoxyCodeLine{00408\ }
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{comment}{//\ Retrieve\ the\ base\ ratio\ from\ the\ frequency\ table}}
\DoxyCodeLine{00410\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ tempo\_value\ =\ 0.0f;}
\DoxyCodeLine{00411\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ poly\_float::kSize;\ ++i)}
\DoxyCodeLine{00412\ \ \ \ \ \ \ tempo\_value.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ \mbox{\hyperlink{namespacevital_1_1constants_a70c46ec031ee465b9fc2ffeabfdaf739}{constants::kSyncedFrequencyRatios}}[tempo\_index[i]]);}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ beats\_per\_second\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_tempo_chooser_a4038d2617789ba57db077bd00d94f8ecaf2dedaabb4271dea578502bcfc9dc04d}{kBeatsPerSecond}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0);}
\DoxyCodeLine{00415\ \ \ \ \ tempo\_value\ *=\ beats\_per\_second;}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00417\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ sync\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_tempo_chooser_a4038d2617789ba57db077bd00d94f8eca7e024a469e93f179ff47415cf0e2bae3}{kSync}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0);}
\DoxyCodeLine{00418\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ triplet\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_a62737c049e0fe6348bd3f5d2fe4bf02a}{poly\_float::equal}}(sync,\ \mbox{\hyperlink{classvital_1_1_tempo_chooser_a564c9c6503772c203a60878511243d2ea58d0b836c594ae75d2211943e6061406}{kTripletMode}});}
\DoxyCodeLine{00419\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ dotted\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_a62737c049e0fe6348bd3f5d2fe4bf02a}{poly\_float::equal}}(sync,\ \mbox{\hyperlink{classvital_1_1_tempo_chooser_a564c9c6503772c203a60878511243d2ead651cfce52b502eb880b95194268f275}{kDottedMode}})\ \&\ \string~triplet\_mask;}
\DoxyCodeLine{00420\ }
\DoxyCodeLine{00421\ \ \ \ \ \textcolor{comment}{//\ Apply\ triplet\ or\ dotted\ multipliers}}
\DoxyCodeLine{00422\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ triplet\_mult\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(1.0f,\ triplet\_ratio,\ triplet\_mask);}
\DoxyCodeLine{00423\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ dotted\_mult\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(1.0f,\ dotted\_ratio,\ dotted\_mask);}
\DoxyCodeLine{00424\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ tempo\_adjusted\ =\ triplet\_mult\ *\ dotted\_mult\ *\ tempo\_value;}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ frequency\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_a62737c049e0fe6348bd3f5d2fe4bf02a}{poly\_float::equal}}(sync,\ \mbox{\hyperlink{classvital_1_1_tempo_chooser_a564c9c6503772c203a60878511243d2ea6906b584bcef0d27e5fffc618e25ca78}{kFrequencyMode}});}
\DoxyCodeLine{00427\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ keytrack\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_a62737c049e0fe6348bd3f5d2fe4bf02a}{poly\_float::equal}}(sync,\ \mbox{\hyperlink{classvital_1_1_tempo_chooser_a564c9c6503772c203a60878511243d2ead60c63abe6f75676bf71d5370b327ee5}{kKeytrack}});}
\DoxyCodeLine{00428\ }
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{comment}{//\ Keytrack\ uses\ MIDI\ to\ produce\ a\ frequency}}
\DoxyCodeLine{00430\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ midi\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_tempo_chooser_a4038d2617789ba57db077bd00d94f8ecac1a6b55b8f0e25ea67f2e06079ba0d79}{kKeytrackTranspose}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0)}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_tempo_chooser_a4038d2617789ba57db077bd00d94f8ecaa9aca0eae28067739901aae3c60c8f88}{kKeytrackTune}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0)}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_tempo_chooser_a4038d2617789ba57db077bd00d94f8ecaca0c89be5364ea40193e3b75c272debe}{kMidi}})-\/>\mbox{\hyperlink{structvital_1_1_input_a8b744f4bd880c0262465eceb8d63d268}{at}}(0);}
\DoxyCodeLine{00433\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ keytrack\_frequency\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ad576b73366d625ca0b47c8b92b81f7a4}{utils::midiNoteToFrequency}}(midi);}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{comment}{//\ If\ in\ frequency\ mode,\ just\ return\ frequency.\ Otherwise,\ use\ tempo-\/based\ calculation.}}
\DoxyCodeLine{00436\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ result\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(tempo\_adjusted,\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_tempo_chooser_a4038d2617789ba57db077bd00d94f8ecac87b0457e6e2290a0a2103d99aeb9b4f}{kFrequency}})-\/>at(0),\ frequency\_mask);}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \ \ \textcolor{comment}{//\ If\ in\ keytrack\ mode,\ override\ with\ keytrack\ frequency}}
\DoxyCodeLine{00439\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}()-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}}[0]\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(result,\ keytrack\_frequency,\ keytrack\_mask);}
\DoxyCodeLine{00440\ \ \ \}}
\DoxyCodeLine{00441\ }
\DoxyCodeLine{00442\ \}\ \textcolor{comment}{//\ namespace\ vital}}

\end{DoxyCode}
