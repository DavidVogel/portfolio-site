\doxysection{reverb\+\_\+module.\+cpp}
\hypertarget{reverb__module_8cpp_source}{}\label{reverb__module_8cpp_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/modules/reverb\_module.cpp@{/Users/davidvogel/repos/VitalHelp/src/synthesis/modules/reverb\_module.cpp}}
\mbox{\hyperlink{reverb__module_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{reverb__module_8h}{reverb\_module.h}}"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{reverb_8h}{reverb.h}}"{}}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00011\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_ac9d1221648569601e76cf504b412f825}{ReverbModule::ReverbModule}}()\ :\ \mbox{\hyperlink{classvital_1_1_synth_module}{SynthModule}}(0,\ 1),\ reverb\_(nullptr)\ \{\ \}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00016\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_af0ae72732f7435192825e7010f68e13d}{ReverbModule::\string~ReverbModule}}()\ \{}
\DoxyCodeLine{00017\ \ \ \ \ \}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_reverb_module_a39d295e72df014e1558028cf4379b1cc}{ReverbModule::init}}()\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classvital_1_1_reverb}{Reverb}}();}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a4ab8d1bebcc9b45ae4eefb1f0ea20d77}{useOutput}}(\mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}());}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_router_a8bc90b699c1ec299b060ed0df32f476c}{addIdleProcessor}}(\mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}});}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ controls\ for\ reverb\ parameters.}}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_decay\_time\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_decay\_time"{}});}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_pre\_low\_cutoff\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_pre\_low\_cutoff"{}});}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_pre\_high\_cutoff\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_pre\_high\_cutoff"{}});}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_low\_shelf\_cutoff\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_low\_shelf\_cutoff"{}});}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_low\_shelf\_gain\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_low\_shelf\_gain"{}});}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_high\_shelf\_cutoff\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_high\_shelf\_cutoff"{}});}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_high\_shelf\_gain\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_high\_shelf\_gain"{}});}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_chorus\_amount\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_chorus\_amount"{}});}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_chorus\_frequency\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_chorus\_frequency"{}});}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_size\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_size"{}});}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_delay\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_delay"{}});}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ reverb\_wet\ =\ \mbox{\hyperlink{classvital_1_1_synth_module_ae5eccb22cca0d1f82d4c2273a91b0cad}{createMonoModControl}}(\textcolor{stringliteral}{"{}reverb\_dry\_wet"{}});}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Connect\ parameter\ controls\ to\ the\ Reverb\ processor.}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_decay\_time,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499ad26fcd6119ed6d43feac1c9ab9d21832}{Reverb::kDecayTime}});}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_pre\_low\_cutoff,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499a85f4ccae881463abc36aaf1f9dc41135}{Reverb::kPreLowCutoff}});}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_pre\_high\_cutoff,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499a38412c0a208daf58cc6089cb6b264b6d}{Reverb::kPreHighCutoff}});}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_low\_shelf\_cutoff,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499acfd0a533dbeeca277de1cd9c81d10d5f}{Reverb::kLowCutoff}});}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_low\_shelf\_gain,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499ad3230fb58c2bdec51bf88af878b06a81}{Reverb::kLowGain}});}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_high\_shelf\_cutoff,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499ab5cdc3e3b7d378d4bbb85ceba3c4a8f0}{Reverb::kHighCutoff}});}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_high\_shelf\_gain,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499a638cd041b33885130e23991377fdea92}{Reverb::kHighGain}});}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_chorus\_amount,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499a48d604ff536f01bf6b604f4956f88f6d}{Reverb::kChorusAmount}});}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_chorus\_frequency,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499a20a205e07a6bc6d619a4feda56742868}{Reverb::kChorusFrequency}});}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_delay,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499a64c4b9ae88ba1fc4c00db9cc1c6d4323}{Reverb::kDelay}});}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_size,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499a4654024fb43efaa68230663b92f99353}{Reverb::kSize}});}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a99005e6f52c7289c548a51065582e3ac}{plug}}(reverb\_wet,\ \mbox{\hyperlink{classvital_1_1_reverb_a968b20e43de6171f30dcc24008406499af0cf3d7e68e827c2431b6f53937be6bc}{Reverb::kWet}});}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_adb6eaa40b95275a42029ed4c0c4bcba4}{SynthModule::init}}();}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_reverb_module_a8c6a107469757ae71d82fd43b91c4059}{ReverbModule::hardReset}}()\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_reverb_a066c3df579fa1ae9553d3710ad75aa3b}{hardReset}}();}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_reverb_module_a355271d9780ad15c321600b04049a40b}{ReverbModule::enable}}(\textcolor{keywordtype}{bool}\ enable)\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_synth_module_ad4f615773fab56c5a41aa4229bd26089}{SynthModule::enable}}(\mbox{\hyperlink{classvital_1_1_reverb_module_a355271d9780ad15c321600b04049a40b}{enable}});}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_router_aeb03f0b2e5c2249dd065f26b8b3f1866}{process}}(1);\ \ \textcolor{comment}{//\ Process\ a\ single\ sample\ to\ update\ state\ if\ enabling}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classvital_1_1_reverb_module_a355271d9780ad15c321600b04049a40b}{enable}})}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_reverb_a066c3df579fa1ae9553d3710ad75aa3b}{hardReset}}();}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_reverb_module_aa3a09c2f34806e0410cdd869544a3b5f}{ReverbModule::setSampleRate}}(\textcolor{keywordtype}{int}\ sample\_rate)\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_ac778f37e9b9e3c1c05fca568e8f8664c}{SynthModule::setSampleRate}}(sample\_rate);}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_reverb_a07c78049284fc6502de333012022ffa4}{setSampleRate}}(sample\_rate);}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_reverb_module_a519ad58fb31e147687b9cfe0445e5ffc}{ReverbModule::processWithInput}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ audio\_in,\ \textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_aa88622055da34fca35bb4192d524dd9d}{SynthModule::process}}(num\_samples);}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_reverb_module_a803303c6a09eaba1e52b8e6a4ffe1097}{reverb\_}}-\/>\mbox{\hyperlink{classvital_1_1_reverb_ae6b9ee4fc9c0d49ae2c01aa0cbd1ea6c}{processWithInput}}(audio\_in,\ num\_samples);}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ \}\ \textcolor{comment}{//\ namespace\ vital}}

\end{DoxyCode}
