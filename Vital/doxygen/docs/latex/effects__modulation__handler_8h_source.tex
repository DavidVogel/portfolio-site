\doxysection{effects\+\_\+modulation\+\_\+handler.\+h}
\hypertarget{effects__modulation__handler_8h_source}{}\label{effects__modulation__handler_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/effects\_engine/effects\_modulation\_handler.h@{/Users/davidvogel/repos/VitalHelp/src/synthesis/effects\_engine/effects\_modulation\_handler.h}}
\mbox{\hyperlink{effects__modulation__handler_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__module_8h}{synth\_module.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{producers__module_8h}{producers\_module.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{voice__handler_8h}{voice\_handler.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{wavetable_8h}{wavetable.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__types_8h}{synth\_types.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{line__generator_8h}{line\_generator.h}}"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \ \ \textcolor{comment}{//\ Forward\ declarations}}
\DoxyCodeLine{00015\ \ \ \textcolor{keyword}{class\ }AudioRateEnvelope;}
\DoxyCodeLine{00016\ \ \ \textcolor{keyword}{class\ }FiltersModule;}
\DoxyCodeLine{00017\ \ \ \textcolor{keyword}{class\ }LegatoFilter;}
\DoxyCodeLine{00018\ \ \ \textcolor{keyword}{class\ }LineMap;}
\DoxyCodeLine{00019\ \ \ \textcolor{keyword}{class\ }LfoModule;}
\DoxyCodeLine{00020\ \ \ \textcolor{keyword}{class\ }EnvelopeModule;}
\DoxyCodeLine{00021\ \ \ \textcolor{keyword}{class\ }RandomLfoModule;}
\DoxyCodeLine{00022\ \ \ \textcolor{keyword}{class\ }TriggerRandom;}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00033\ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classvital_1_1_effects_modulation_handler}{EffectsModulationHandler}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classvital_1_1_voice_handler}{VoiceHandler}}\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_aaa45a246686c3fc592bf6663f00d392d}{EffectsModulationHandler}}(\mbox{\hyperlink{structvital_1_1_output}{Output}}*\ beats\_per\_second);}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00043\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a7f8908fc7231470f13b893b6ca6108c1}{\string~EffectsModulationHandler}}()\ \{\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classvital_1_1_processor}{Processor}}*\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a9b5e0340b7f83f6d1ce2acf272ad1eb8}{clone}}()\textcolor{keyword}{\ const\ override\ }\{\ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\textcolor{keyword}{false});\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00057\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_aa43af5cc3a7d4501b8f98dbc93c01efc}{init}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a4e68356c6b113989babd1185c6b62613}{prepareDestroy}}();}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_af7a098978c3a57d927f651ea5d0a7885}{process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_af65ffd61d42db7fa02470b7cfaf76aac}{noteOn}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_voice_handler_a146223bc6aa55e38b70365f2b30198b0}{note}},\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_voice_handler_a0864b01c35b14dd08f928d9a860c88a0}{velocity}},\ \textcolor{keywordtype}{int}\ sample,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_voice_handler_a431b6edf05e8de9363bd26dc0ac649f1}{channel}})\ \textcolor{keyword}{override};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_aced57b2ed9b092a3e3872086cd6db1f3}{noteOff}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_voice_handler_a146223bc6aa55e38b70365f2b30198b0}{note}},\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_voice_handler_ad144feadb03921b4e7e1efef2c7fa0e9}{lift}},\ \textcolor{keywordtype}{int}\ sample,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_voice_handler_a431b6edf05e8de9363bd26dc0ac649f1}{channel}})\ \textcolor{keyword}{override};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_aa44e9e78c31298184dd19cc7bbff0f30}{shouldAccumulate}}(\mbox{\hyperlink{structvital_1_1_output}{Output}}*\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}})\textcolor{keyword}{\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a3110144707096e9dbb6b7e2d7e54ce4a}{correctToTime}}(\textcolor{keywordtype}{double}\ seconds)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00118\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a3464c6c36c736b312170d2e664170de4}{disableUnnecessaryModSources}}();}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a9fd92845e81fbfc7eea70282b929185c}{disableModSource}}(\textcolor{keyword}{const}\ std::string\&\ source);}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_a4f29d888b099153b9d0980a73fdc89aa}{output\_map}}\&\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a79046267758a675186d08dac3676a048}{getPolyModulations}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{ModulationConnectionBank}}\&\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a19da6b52ecf1606712a5a443059a3a55}{getModulationBank}}()\ \{\ \textcolor{keywordflow}{return}\ modulation\_bank\_;\ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00147\ \ \ \ \ \ \ \mbox{\hyperlink{class_line_generator}{LineGenerator}}*\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a033ec53eccc169cdc2d5fea4ca9231a9}{getLfoSource}}(\textcolor{keywordtype}{int}\ index)\ \{\ \textcolor{keywordflow}{return}\ \&lfo\_sources\_[index];\ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_a8270251eb622aaf482a06106f498ff4f}{getDirectOutput}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_voice_handler_a92047d76691ceeb37f21ce427ea807f3}{getAccumulatedOutput}}(sub\_direct\_output\_-\/>\mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}());\ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00161\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_ad5e93ab8fd22d74a14a2a1264fa6d173}{note\_retrigger}}()\ \{\ \textcolor{keywordflow}{return}\ \&note\_retriggered\_;\ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00168\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ \mbox{\hyperlink{classvital_1_1_effects_modulation_handler_aa8861f9a8854397d63fc604ab3b9727c}{midi\_offset\_output}}()\ \{\ \textcolor{keywordflow}{return}\ midi\_offset\_output\_;\ \}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ createArticulation();}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ createModulators();}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ createFilters(\mbox{\hyperlink{structvital_1_1_output}{Output}}*\ keytrack);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ setupPolyModulationReadouts();}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{ModulationConnectionBank}}\ modulation\_bank\_;}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ beats\_per\_second\_;}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor}{Processor}}*\ note\_from\_reference\_;}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ midi\_offset\_output\_;}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor}{Processor}}*\ bent\_midi\_;}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00221\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor}{Processor}}*\ current\_midi\_note\_;}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00226\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_filters_module}{FiltersModule}}*\ filters\_module\_;}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00231\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_lfo_module}{LfoModule}}*\ lfos\_[\mbox{\hyperlink{namespacevital_aba56646bec643d6d416700b782ed978b}{kNumLfos}}];}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00236\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_envelope_module}{EnvelopeModule}}*\ envelopes\_[\mbox{\hyperlink{namespacevital_a9acbf7e6b849148921f335c101e02fe6}{kNumEnvelopes}}];}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00241\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_output}{Output}}\ note\_retriggered\_;}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00246\ \ \ \ \ \ \ \mbox{\hyperlink{class_line_generator}{LineGenerator}}\ lfo\_sources\_[\mbox{\hyperlink{namespacevital_aba56646bec643d6d416700b782ed978b}{kNumLfos}}];}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00251\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_trigger_random}{TriggerRandom}}*\ random\_;}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00256\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_random_lfo_module}{RandomLfoModule}}*\ random\_lfos\_[\mbox{\hyperlink{namespacevital_a685d103a6454a0b6e8e370cb574c21b5}{kNumRandomLfos}}];}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00261\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_line_map}{LineMap}}*\ note\_mapping\_;}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_line_map}{LineMap}}*\ velocity\_mapping\_;}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_line_map}{LineMap}}*\ aftertouch\_mapping\_;}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_line_map}{LineMap}}*\ slide\_mapping\_;}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_line_map}{LineMap}}*\ lift\_mapping\_;}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_line_map}{LineMap}}*\ mod\_wheel\_mapping\_;}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_line_map}{LineMap}}*\ pitch\_wheel\_mapping\_;}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00272\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1cr_1_1_value}{cr::Value}}*\ stereo\_;}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00277\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1cr_1_1_multiply}{cr::Multiply}}*\ note\_percentage\_;}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00282\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_multiply}{Multiply}}*\ output\_;}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_multiply}{Multiply}}*\ sub\_direct\_output\_;}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00288\ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_a4f29d888b099153b9d0980a73fdc89aa}{output\_map}}\ poly\_readouts\_;}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \ \ \ \ \ \ JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR(\mbox{\hyperlink{classvital_1_1_effects_modulation_handler}{EffectsModulationHandler}})}
\DoxyCodeLine{00291\ \ \ \};}
\DoxyCodeLine{00292\ \}\ \textcolor{comment}{//\ namespace\ vital}}

\end{DoxyCode}
