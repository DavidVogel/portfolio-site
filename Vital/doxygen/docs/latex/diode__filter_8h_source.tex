\doxysection{diode\+\_\+filter.\+h}
\hypertarget{diode__filter_8h_source}{}\label{diode__filter_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/filters/diode\_filter.h@{/Users/davidvogel/repos/VitalHelp/src/synthesis/filters/diode\_filter.h}}
\mbox{\hyperlink{diode__filter_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{processor_8h}{processor.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__filter_8h}{synth\_filter.h}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{futils_8h}{futils.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{one__pole__filter_8h}{one\_pole\_filter.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00020\ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classvital_1_1_diode_filter}{DiodeFilter}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classvital_1_1_processor}{Processor}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classvital_1_1_synth_filter}{SynthFilter}}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a40905f238f505b41cec093c8d6ebf178}{kMinResonance}}\ =\ 0.7f;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_diode_filter_af979908c06fa7f264e402e299c404989}{kMaxResonance}}\ =\ 17.0f;}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a20da5e22a64584c3e3859a08467251f8}{kMinCutoff}}\ =\ 1.0f;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_diode_filter_adaf15654438d34375a1b42a149b4221e}{kHighPassFrequency}}\ =\ 20.0f;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_diode_filter_abb92f3514309f06e3719fffda3ba3e23}{DiodeFilter}}();}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a09ece9d87cd879da04797268f55394ca}{\string~DiodeFilter}}()\ \{\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classvital_1_1_processor}{Processor}}*\ \mbox{\hyperlink{classvital_1_1_diode_filter_ae6a13e635699cf20f9b9528782edd6dc}{clone}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classvital_1_1_diode_filter_abb92f3514309f06e3719fffda3ba3e23}{DiodeFilter}}(*\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_diode_filter_abbb38891aa1e08d8d3c7bbc9fa479227}{process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00075\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a4114f8efe55cf05ca3e795944c0ae20e}{setupFilter}}(\textcolor{keyword}{const}\ FilterState\&\ filter\_state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a088fcee82b4e8b7291647fbe9b303115}{tick}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ audio\_in,}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ coefficient,}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ high\_pass\_ratio,}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ high\_pass\_amount,}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ high\_pass\_feedback\_coefficient,}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{formant__filter_8cpp_a763370db72febfa675aff8c7645edb85}{resonance}},}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ drive);}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a0cd2ac99feb0bc3d0531139a210dbfa0}{reset}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ reset\_mask)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00113\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a04464104a956bfa12dce2740628421fe}{hardReset}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a31917df3a5a31594e60ef05ed5443d6b}{getResonance}}()\ \{\ \textcolor{keywordflow}{return}\ resonance\_;\ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{classvital_1_1_diode_filter_ab66da508d7f238662956a284bcb18381}{getDrive}}()\ \{\ \textcolor{keywordflow}{return}\ drive\_;\ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00131\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a23e9508f4fdb14f7be44aafe764e0632}{getHighPassRatio}}()\ \{\ \textcolor{keywordflow}{return}\ high\_pass\_ratio\_;\ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{classvital_1_1_diode_filter_a20b9eec5740b8e6a3f0b8f94ca77556e}{getHighPassAmount}}()\ \{\ \textcolor{keywordflow}{return}\ high\_pass\_amount\_;\ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ resonance\_;}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ drive\_;}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00153\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ post\_multiply\_;}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ high\_pass\_ratio\_;}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00163\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ high\_pass\_amount\_;}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00168\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ feedback\_high\_pass\_coefficient\_;}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00175\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ saturate(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1futils_aaa18c3550a61c113926ceb8b62ac7b46}{futils::tanh}}(value);}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ poly\_float\ saturate2(poly\_float\ value)\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{utils::clamp}}(value,\ -\/1.0f,\ 1.0f);}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ OnePoleFilter<>\ high\_pass\_1\_;\ \ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ OnePoleFilter<>\ high\_pass\_2\_;\ \ }
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ OnePoleFilter<>\ high\_pass\_feedback\_;\ \ \ \ }
\DoxyCodeLine{00198\ \ \ \ \ \ \ OnePoleFilter<saturate>\ stage1\_;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ OnePoleFilter<>\ stage2\_;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00200\ \ \ \ \ \ \ OnePoleFilter<>\ stage3\_;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ OnePoleFilter<saturate2>\ stage4\_;\ \ \ \ \ \ \ }
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \ \ JUCE\_LEAK\_DETECTOR(\mbox{\hyperlink{classvital_1_1_diode_filter_abb92f3514309f06e3719fffda3ba3e23}{DiodeFilter}})}
\DoxyCodeLine{00204\ \ \ \};}
\DoxyCodeLine{00205\ \}\ \textcolor{comment}{//\ namespace\ vital}}

\end{DoxyCode}
