\doxysection{vital\+::Sample Class Reference}
\hypertarget{classvital_1_1_sample}{}\label{classvital_1_1_sample}\index{vital::Sample@{vital::Sample}}


Holds and manages a single sampled waveform, including stereo or mono data and multiple band-\/limited versions for different playback rates.  




{\ttfamily \#include $<$sample\+\_\+source.\+h$>$}

\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{Sample\+Data}}
\begin{DoxyCompactList}\small\item\em Holds the actual audio buffers (left/right) for multiple band-\/limited versions (both looped and non-\/looped), and associated metadata like length and sample rate. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classvital_1_1_sample_a4e6e8af954b7dffea0b0cb5739d021a0}{Sample}} ()
\begin{DoxyCompactList}\small\item\em Default constructor. Initializes the sample with default noise data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvital_1_1_sample_aa60dfd27a15600a8448ce35d69b33732}{load\+Sample}} (const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classvital_1_1_sample_a4886daf3cc105124f52abf8427c8db41}{buffer}}, int size, int sample\+\_\+rate)
\begin{DoxyCompactList}\small\item\em Loads a mono sample from raw float data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvital_1_1_sample_abeda37ce0b3915f3b228c7c355a39305}{load\+Sample}} (const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*}left\+\_\+buffer, const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*}right\+\_\+buffer, int size, int sample\+\_\+rate)
\begin{DoxyCompactList}\small\item\em Loads a stereo sample from two float arrays (left/right). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvital_1_1_sample_ac5163f984b2a37a7796510984055feba}{set\+Name}} (const std\+::string \&name)
\begin{DoxyCompactList}\small\item\em Sets the user-\/facing name of the sample. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classvital_1_1_sample_a2aa27424150264b7af1e5f049eb6e797}{get\+Name}} () const
\begin{DoxyCompactList}\small\item\em Returns the user-\/facing name of the sample. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvital_1_1_sample_a40044d99934375f1de0a0beaddccb5dc}{set\+Last\+Browsed\+File}} (const std\+::string \&path)
\begin{DoxyCompactList}\small\item\em Sets the last browsed file path (if applicable). \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classvital_1_1_sample_a91f247f982ceda7bb4e8c1e9fd1f6a90}{get\+Last\+Browsed\+File}} () const
\begin{DoxyCompactList}\small\item\em Returns the last browsed file path. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int \mbox{\hyperlink{classvital_1_1_sample_af1a730277115645f0c1ffce37820fbb9}{original\+Length}} () const
\begin{DoxyCompactList}\small\item\em Returns the length of the originally loaded sample in frames. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int \mbox{\hyperlink{classvital_1_1_sample_a8d056af6d0190a3f2504be8267f76fee}{upsample\+Length}} ()
\begin{DoxyCompactList}\small\item\em Returns the length of the upsampled data (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} k\+Upsample\+Times). \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int \mbox{\hyperlink{classvital_1_1_sample_a33761de890d7c5dc56e5635be7ac27a4}{sample\+Rate}} () const
\begin{DoxyCompactList}\small\item\em Returns the sample rate of the originally loaded data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int \mbox{\hyperlink{classvital_1_1_sample_a3729dc92cb1c7f4ffa4ab86febf4f917}{active\+Length}} () const
\begin{DoxyCompactList}\small\item\em Returns the active (currently used) sample length in frames, taking into account upsample factor and possibly another data set. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int \mbox{\hyperlink{classvital_1_1_sample_a46cd6edf4a08661f80da75549503a8f1}{active\+Sample\+Rate}} () const
\begin{DoxyCompactList}\small\item\em Returns the sample rate of the currently active sample data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classvital_1_1_sample_a4886daf3cc105124f52abf8427c8db41}{buffer}} () const
\begin{DoxyCompactList}\small\item\em Returns a pointer to the (current) left channel buffer at the base upsample level. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvital_1_1_sample_ac76e9e54031e820bdec74508e5844edd}{init}} ()
\begin{DoxyCompactList}\small\item\em Generates default data for the sample (e.\+g., random noise). \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classvital_1_1_sample_a7304696101e6a0016fb1a6c2b599a4c2}{get\+Active\+Index}} (\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} delta)
\begin{DoxyCompactList}\small\item\em Determines which band-\/limited buffer index should be used for a given pitch delta. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classvital_1_1_sample_adcbd6c0e182fb142bd15dae6c796f698}{get\+Active\+Left\+Buffer}} (int index)
\begin{DoxyCompactList}\small\item\em Retrieves a pointer to the active left channel buffer at a specific band-\/limited index. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classvital_1_1_sample_a24300baa983539e38879a58c29520390}{get\+Active\+Left\+Loop\+Buffer}} (int index)
\begin{DoxyCompactList}\small\item\em Retrieves a pointer to the active left loop buffer at a specific band-\/limited index. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classvital_1_1_sample_a58d3d06610686107f4dfc9032a43745e}{get\+Active\+Right\+Buffer}} (int index)
\begin{DoxyCompactList}\small\item\em Retrieves a pointer to the active right channel buffer at a band-\/limited index. If the sample is mono, it returns the left buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classvital_1_1_sample_af938b0d48f451d12b6bbe217884954b4}{get\+Active\+Right\+Loop\+Buffer}} (int index)
\begin{DoxyCompactList}\small\item\em Retrieves a pointer to the active right loop buffer at a band-\/limited index. If the sample is mono, returns the left loop buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} void \mbox{\hyperlink{classvital_1_1_sample_a921ac47635a147c37ddcb8857653bd9a}{mark\+Used}} ()
\begin{DoxyCompactList}\small\item\em Marks this sample as "{}in use"{} by updating the active\+\_\+audio\+\_\+data\+\_\+ pointer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} void \mbox{\hyperlink{classvital_1_1_sample_a239669ba76a1bb790f22db2202dc1aec}{mark\+Unused}} ()
\begin{DoxyCompactList}\small\item\em Marks this sample as "{}not in use,"{} clearing the active\+\_\+audio\+\_\+data\+\_\+ pointer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}} \mbox{\hyperlink{classvital_1_1_sample_af2d827463b88d098b216360b4c99e5f8}{state\+To\+Json}} ()
\begin{DoxyCompactList}\small\item\em Exports the sample state (metadata and sample data) to a JSON object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvital_1_1_sample_aedba9fcd7fc8c4ff5415246ec7536733}{json\+To\+State}} (\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}} data)
\begin{DoxyCompactList}\small\item\em Restores the sample\textquotesingle{}s state from a JSON object (including audio data). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr int \mbox{\hyperlink{classvital_1_1_sample_a7acb3e299da4ecda247e9939ae19a585}{k\+Default\+Sample\+Length}} = 44100
\begin{DoxyCompactList}\small\item\em Default length for a newly created (noise) sample if none is provided. \end{DoxyCompactList}\item 
static constexpr int \mbox{\hyperlink{classvital_1_1_sample_a9e4628609f1b9c854eed895b0123771f}{k\+Upsample\+Times}} = 1
\begin{DoxyCompactList}\small\item\em Upsampling factor exponent (i.\+e., 1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} k\+Upsample\+Times). \end{DoxyCompactList}\item 
static constexpr int \mbox{\hyperlink{classvital_1_1_sample_a927907a251c0b0944f17a7e72993fa20}{k\+Buffer\+Samples}} = 4
\begin{DoxyCompactList}\small\item\em Extra buffer samples at start and end to avoid interpolation issues. \end{DoxyCompactList}\item 
static constexpr int \mbox{\hyperlink{classvital_1_1_sample_a2e3f8b3eac27024c752da318436f307c}{k\+Min\+Size}} = 4
\begin{DoxyCompactList}\small\item\em Minimum sample size for further downsampling. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classvital_1_1_sample_ae7a50a990f7a3967e87b63233311f960}{name\+\_\+}}
\begin{DoxyCompactList}\small\item\em The user-\/facing name of the sample. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classvital_1_1_sample_a506dfd30e6dadd13163ac3517410ad1a}{last\+\_\+browsed\+\_\+file\+\_\+}}
\begin{DoxyCompactList}\small\item\em The last browsed file path for this sample (if any). \end{DoxyCompactList}\item 
\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{Sample\+Data}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classvital_1_1_sample_a4d54cfdb64d604167de5f1660cb43a28}{current\+\_\+data\+\_\+}}
\begin{DoxyCompactList}\small\item\em Pointer to the currently loaded data. \end{DoxyCompactList}\item 
std\+::atomic$<$ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{Sample\+Data}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\+\_\+audio\+\_\+data\+\_\+}}
\begin{DoxyCompactList}\small\item\em Atomic pointer to data in active use. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{Sample\+Data}} $>$ \mbox{\hyperlink{classvital_1_1_sample_aceae219090ba6e9036d119720db27942}{data\+\_\+}}
\begin{DoxyCompactList}\small\item\em Owned sample data for this sample. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Holds and manages a single sampled waveform, including stereo or mono data and multiple band-\/limited versions for different playback rates. 

The \doxylink{classvital_1_1_sample}{Sample} class can load samples from raw float buffers or from a stereo pair. It also supports generating default content (e.\+g., noise) and can produce a JSON representation for saving/loading states. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classvital_1_1_sample_a4e6e8af954b7dffea0b0cb5739d021a0}\index{vital::Sample@{vital::Sample}!Sample@{Sample}}
\index{Sample@{Sample}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{Sample()}{Sample()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a4e6e8af954b7dffea0b0cb5739d021a0} 
vital\+::\+Sample\+::\+Sample (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Default constructor. Initializes the sample with default noise data. 



\doxysubsection{Member Function Documentation}
\Hypertarget{classvital_1_1_sample_a3729dc92cb1c7f4ffa4ab86febf4f917}\index{vital::Sample@{vital::Sample}!activeLength@{activeLength}}
\index{activeLength@{activeLength}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{activeLength()}{activeLength()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a3729dc92cb1c7f4ffa4ab86febf4f917} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int vital\+::\+Sample\+::active\+Length (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the active (currently used) sample length in frames, taking into account upsample factor and possibly another data set. 

\Hypertarget{classvital_1_1_sample_a46cd6edf4a08661f80da75549503a8f1}\index{vital::Sample@{vital::Sample}!activeSampleRate@{activeSampleRate}}
\index{activeSampleRate@{activeSampleRate}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{activeSampleRate()}{activeSampleRate()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a46cd6edf4a08661f80da75549503a8f1} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int vital\+::\+Sample\+::active\+Sample\+Rate (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the sample rate of the currently active sample data. 

\Hypertarget{classvital_1_1_sample_a4886daf3cc105124f52abf8427c8db41}\index{vital::Sample@{vital::Sample}!buffer@{buffer}}
\index{buffer@{buffer}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{buffer()}{buffer()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a4886daf3cc105124f52abf8427c8db41} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} vital\+::\+Sample\+::buffer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns a pointer to the (current) left channel buffer at the base upsample level. 

This is primarily for quick access to the default buffer, offset by k\+Buffer\+Samples. \Hypertarget{classvital_1_1_sample_a7304696101e6a0016fb1a6c2b599a4c2}\index{vital::Sample@{vital::Sample}!getActiveIndex@{getActiveIndex}}
\index{getActiveIndex@{getActiveIndex}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{getActiveIndex()}{getActiveIndex()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a7304696101e6a0016fb1a6c2b599a4c2} 
int vital\+::\+Sample\+::get\+Active\+Index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}}}]{delta}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Determines which band-\/limited buffer index should be used for a given pitch delta. 


\begin{DoxyParams}{Parameters}
{\em delta} & Frequency ratio or pitch factor to find appropriate band-\/limited buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The index within the active\+\_\+audio\+\_\+data\+\_\+ arrays. 
\end{DoxyReturn}
\Hypertarget{classvital_1_1_sample_adcbd6c0e182fb142bd15dae6c796f698}\index{vital::Sample@{vital::Sample}!getActiveLeftBuffer@{getActiveLeftBuffer}}
\index{getActiveLeftBuffer@{getActiveLeftBuffer}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{getActiveLeftBuffer()}{getActiveLeftBuffer()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_adcbd6c0e182fb142bd15dae6c796f698} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} vital\+::\+Sample\+::get\+Active\+Left\+Buffer (\begin{DoxyParamCaption}\item[{int}]{index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Retrieves a pointer to the active left channel buffer at a specific band-\/limited index. 


\begin{DoxyParams}{Parameters}
{\em index} & The band-\/limited index, computed from \doxylink{classvital_1_1_sample_a7304696101e6a0016fb1a6c2b599a4c2}{get\+Active\+Index()}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the float array for that band-\/limited buffer. 
\end{DoxyReturn}
\Hypertarget{classvital_1_1_sample_a24300baa983539e38879a58c29520390}\index{vital::Sample@{vital::Sample}!getActiveLeftLoopBuffer@{getActiveLeftLoopBuffer}}
\index{getActiveLeftLoopBuffer@{getActiveLeftLoopBuffer}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{getActiveLeftLoopBuffer()}{getActiveLeftLoopBuffer()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a24300baa983539e38879a58c29520390} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} vital\+::\+Sample\+::get\+Active\+Left\+Loop\+Buffer (\begin{DoxyParamCaption}\item[{int}]{index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Retrieves a pointer to the active left loop buffer at a specific band-\/limited index. 

\Hypertarget{classvital_1_1_sample_a58d3d06610686107f4dfc9032a43745e}\index{vital::Sample@{vital::Sample}!getActiveRightBuffer@{getActiveRightBuffer}}
\index{getActiveRightBuffer@{getActiveRightBuffer}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{getActiveRightBuffer()}{getActiveRightBuffer()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a58d3d06610686107f4dfc9032a43745e} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} vital\+::\+Sample\+::get\+Active\+Right\+Buffer (\begin{DoxyParamCaption}\item[{int}]{index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Retrieves a pointer to the active right channel buffer at a band-\/limited index. If the sample is mono, it returns the left buffer. 

\Hypertarget{classvital_1_1_sample_af938b0d48f451d12b6bbe217884954b4}\index{vital::Sample@{vital::Sample}!getActiveRightLoopBuffer@{getActiveRightLoopBuffer}}
\index{getActiveRightLoopBuffer@{getActiveRightLoopBuffer}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{getActiveRightLoopBuffer()}{getActiveRightLoopBuffer()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_af938b0d48f451d12b6bbe217884954b4} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*} vital\+::\+Sample\+::get\+Active\+Right\+Loop\+Buffer (\begin{DoxyParamCaption}\item[{int}]{index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Retrieves a pointer to the active right loop buffer at a band-\/limited index. If the sample is mono, returns the left loop buffer. 

\Hypertarget{classvital_1_1_sample_a91f247f982ceda7bb4e8c1e9fd1f6a90}\index{vital::Sample@{vital::Sample}!getLastBrowsedFile@{getLastBrowsedFile}}
\index{getLastBrowsedFile@{getLastBrowsedFile}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{getLastBrowsedFile()}{getLastBrowsedFile()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a91f247f982ceda7bb4e8c1e9fd1f6a90} 
std\+::string vital\+::\+Sample\+::get\+Last\+Browsed\+File (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the last browsed file path. 

\Hypertarget{classvital_1_1_sample_a2aa27424150264b7af1e5f049eb6e797}\index{vital::Sample@{vital::Sample}!getName@{getName}}
\index{getName@{getName}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{getName()}{getName()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a2aa27424150264b7af1e5f049eb6e797} 
std\+::string vital\+::\+Sample\+::get\+Name (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the user-\/facing name of the sample. 

\Hypertarget{classvital_1_1_sample_ac76e9e54031e820bdec74508e5844edd}\index{vital::Sample@{vital::Sample}!init@{init}}
\index{init@{init}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_ac76e9e54031e820bdec74508e5844edd} 
void vital\+::\+Sample\+::init (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Generates default data for the sample (e.\+g., random noise). 

\Hypertarget{classvital_1_1_sample_aedba9fcd7fc8c4ff5415246ec7536733}\index{vital::Sample@{vital::Sample}!jsonToState@{jsonToState}}
\index{jsonToState@{jsonToState}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{jsonToState()}{jsonToState()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_aedba9fcd7fc8c4ff5415246ec7536733} 
void vital\+::\+Sample\+::json\+To\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}}]{data}{}\end{DoxyParamCaption})}



Restores the sample\textquotesingle{}s state from a JSON object (including audio data). 


\begin{DoxyParams}{Parameters}
{\em data} & A JSON object containing sample data. \\
\hline
\end{DoxyParams}
\Hypertarget{classvital_1_1_sample_aa60dfd27a15600a8448ce35d69b33732}\index{vital::Sample@{vital::Sample}!loadSample@{loadSample}}
\index{loadSample@{loadSample}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{loadSample()}{loadSample()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_aa60dfd27a15600a8448ce35d69b33732} 
void vital\+::\+Sample\+::load\+Sample (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{int}]{size}{, }\item[{int}]{sample\+\_\+rate}{}\end{DoxyParamCaption})}



Loads a mono sample from raw float data. 


\begin{DoxyParams}{Parameters}
{\em buffer} & Pointer to the float array containing sample data. \\
\hline
{\em size} & Number of frames in the buffer. \\
\hline
{\em sample\+\_\+rate} & The sample rate of the data. \\
\hline
\end{DoxyParams}
\Hypertarget{classvital_1_1_sample_abeda37ce0b3915f3b228c7c355a39305}\index{vital::Sample@{vital::Sample}!loadSample@{loadSample}}
\index{loadSample@{loadSample}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{loadSample()}{loadSample()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_abeda37ce0b3915f3b228c7c355a39305} 
void vital\+::\+Sample\+::load\+Sample (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*}}]{left\+\_\+buffer}{, }\item[{const \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\+\_\+float}} \texorpdfstring{$\ast$}{*}}]{right\+\_\+buffer}{, }\item[{int}]{size}{, }\item[{int}]{sample\+\_\+rate}{}\end{DoxyParamCaption})}



Loads a stereo sample from two float arrays (left/right). 


\begin{DoxyParams}{Parameters}
{\em left\+\_\+buffer} & Pointer to float array for the left channel. \\
\hline
{\em right\+\_\+buffer} & Pointer to float array for the right channel. \\
\hline
{\em size} & Number of frames in each buffer. \\
\hline
{\em sample\+\_\+rate} & The sample rate of the data. \\
\hline
\end{DoxyParams}
\Hypertarget{classvital_1_1_sample_a239669ba76a1bb790f22db2202dc1aec}\index{vital::Sample@{vital::Sample}!markUnused@{markUnused}}
\index{markUnused@{markUnused}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{markUnused()}{markUnused()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a239669ba76a1bb790f22db2202dc1aec} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} void vital\+::\+Sample\+::mark\+Unused (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Marks this sample as "{}not in use,"{} clearing the active\+\_\+audio\+\_\+data\+\_\+ pointer. 

\Hypertarget{classvital_1_1_sample_a921ac47635a147c37ddcb8857653bd9a}\index{vital::Sample@{vital::Sample}!markUsed@{markUsed}}
\index{markUsed@{markUsed}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{markUsed()}{markUsed()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a921ac47635a147c37ddcb8857653bd9a} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} void vital\+::\+Sample\+::mark\+Used (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Marks this sample as "{}in use"{} by updating the active\+\_\+audio\+\_\+data\+\_\+ pointer. 

\Hypertarget{classvital_1_1_sample_af1a730277115645f0c1ffce37820fbb9}\index{vital::Sample@{vital::Sample}!originalLength@{originalLength}}
\index{originalLength@{originalLength}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{originalLength()}{originalLength()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_af1a730277115645f0c1ffce37820fbb9} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int vital\+::\+Sample\+::original\+Length (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the length of the originally loaded sample in frames. 

\Hypertarget{classvital_1_1_sample_a33761de890d7c5dc56e5635be7ac27a4}\index{vital::Sample@{vital::Sample}!sampleRate@{sampleRate}}
\index{sampleRate@{sampleRate}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{sampleRate()}{sampleRate()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a33761de890d7c5dc56e5635be7ac27a4} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int vital\+::\+Sample\+::sample\+Rate (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the sample rate of the originally loaded data. 

\Hypertarget{classvital_1_1_sample_a40044d99934375f1de0a0beaddccb5dc}\index{vital::Sample@{vital::Sample}!setLastBrowsedFile@{setLastBrowsedFile}}
\index{setLastBrowsedFile@{setLastBrowsedFile}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{setLastBrowsedFile()}{setLastBrowsedFile()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a40044d99934375f1de0a0beaddccb5dc} 
void vital\+::\+Sample\+::set\+Last\+Browsed\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{path}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the last browsed file path (if applicable). 

\Hypertarget{classvital_1_1_sample_ac5163f984b2a37a7796510984055feba}\index{vital::Sample@{vital::Sample}!setName@{setName}}
\index{setName@{setName}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{setName()}{setName()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_ac5163f984b2a37a7796510984055feba} 
void vital\+::\+Sample\+::set\+Name (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the user-\/facing name of the sample. 

\Hypertarget{classvital_1_1_sample_af2d827463b88d098b216360b4c99e5f8}\index{vital::Sample@{vital::Sample}!stateToJson@{stateToJson}}
\index{stateToJson@{stateToJson}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{stateToJson()}{stateToJson()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_af2d827463b88d098b216360b4c99e5f8} 
\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}} vital\+::\+Sample\+::state\+To\+Json (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Exports the sample state (metadata and sample data) to a JSON object. 

\begin{DoxyReturn}{Returns}
A JSON object containing the sample\textquotesingle{}s state. 
\end{DoxyReturn}
\Hypertarget{classvital_1_1_sample_a8d056af6d0190a3f2504be8267f76fee}\index{vital::Sample@{vital::Sample}!upsampleLength@{upsampleLength}}
\index{upsampleLength@{upsampleLength}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{upsampleLength()}{upsampleLength()}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a8d056af6d0190a3f2504be8267f76fee} 
\mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\+\_\+inline}} int vital\+::\+Sample\+::upsample\+Length (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns the length of the upsampled data (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} k\+Upsample\+Times). 



\doxysubsection{Member Data Documentation}
\Hypertarget{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}\index{vital::Sample@{vital::Sample}!active\_audio\_data\_@{active\_audio\_data\_}}
\index{active\_audio\_data\_@{active\_audio\_data\_}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{active\_audio\_data\_}{active\_audio\_data\_}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d} 
std\+::atomic$<$\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{Sample\+Data}}\texorpdfstring{$\ast$}{*}$>$ vital\+::\+Sample\+::active\+\_\+audio\+\_\+data\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Atomic pointer to data in active use. 

\Hypertarget{classvital_1_1_sample_a4d54cfdb64d604167de5f1660cb43a28}\index{vital::Sample@{vital::Sample}!current\_data\_@{current\_data\_}}
\index{current\_data\_@{current\_data\_}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{current\_data\_}{current\_data\_}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a4d54cfdb64d604167de5f1660cb43a28} 
\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{Sample\+Data}}\texorpdfstring{$\ast$}{*} vital\+::\+Sample\+::current\+\_\+data\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Pointer to the currently loaded data. 

\Hypertarget{classvital_1_1_sample_aceae219090ba6e9036d119720db27942}\index{vital::Sample@{vital::Sample}!data\_@{data\_}}
\index{data\_@{data\_}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{data\_}{data\_}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_aceae219090ba6e9036d119720db27942} 
std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{Sample\+Data}}$>$ vital\+::\+Sample\+::data\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Owned sample data for this sample. 

\Hypertarget{classvital_1_1_sample_a927907a251c0b0944f17a7e72993fa20}\index{vital::Sample@{vital::Sample}!kBufferSamples@{kBufferSamples}}
\index{kBufferSamples@{kBufferSamples}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{kBufferSamples}{kBufferSamples}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a927907a251c0b0944f17a7e72993fa20} 
int vital\+::\+Sample\+::k\+Buffer\+Samples = 4\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Extra buffer samples at start and end to avoid interpolation issues. 

\Hypertarget{classvital_1_1_sample_a7acb3e299da4ecda247e9939ae19a585}\index{vital::Sample@{vital::Sample}!kDefaultSampleLength@{kDefaultSampleLength}}
\index{kDefaultSampleLength@{kDefaultSampleLength}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{kDefaultSampleLength}{kDefaultSampleLength}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a7acb3e299da4ecda247e9939ae19a585} 
int vital\+::\+Sample\+::k\+Default\+Sample\+Length = 44100\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Default length for a newly created (noise) sample if none is provided. 

\Hypertarget{classvital_1_1_sample_a2e3f8b3eac27024c752da318436f307c}\index{vital::Sample@{vital::Sample}!kMinSize@{kMinSize}}
\index{kMinSize@{kMinSize}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{kMinSize}{kMinSize}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a2e3f8b3eac27024c752da318436f307c} 
int vital\+::\+Sample\+::k\+Min\+Size = 4\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Minimum sample size for further downsampling. 

\Hypertarget{classvital_1_1_sample_a9e4628609f1b9c854eed895b0123771f}\index{vital::Sample@{vital::Sample}!kUpsampleTimes@{kUpsampleTimes}}
\index{kUpsampleTimes@{kUpsampleTimes}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{kUpsampleTimes}{kUpsampleTimes}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a9e4628609f1b9c854eed895b0123771f} 
int vital\+::\+Sample\+::k\+Upsample\+Times = 1\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Upsampling factor exponent (i.\+e., 1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} k\+Upsample\+Times). 

\Hypertarget{classvital_1_1_sample_a506dfd30e6dadd13163ac3517410ad1a}\index{vital::Sample@{vital::Sample}!last\_browsed\_file\_@{last\_browsed\_file\_}}
\index{last\_browsed\_file\_@{last\_browsed\_file\_}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{last\_browsed\_file\_}{last\_browsed\_file\_}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_a506dfd30e6dadd13163ac3517410ad1a} 
std\+::string vital\+::\+Sample\+::last\+\_\+browsed\+\_\+file\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



The last browsed file path for this sample (if any). 

\Hypertarget{classvital_1_1_sample_ae7a50a990f7a3967e87b63233311f960}\index{vital::Sample@{vital::Sample}!name\_@{name\_}}
\index{name\_@{name\_}!vital::Sample@{vital::Sample}}
\doxysubsubsection{\texorpdfstring{name\_}{name\_}}
{\footnotesize\ttfamily \label{classvital_1_1_sample_ae7a50a990f7a3967e87b63233311f960} 
std\+::string vital\+::\+Sample\+::name\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



The user-\/facing name of the sample. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/davidvogel/repos/\+Vital\+Help/src/synthesis/producers/\mbox{\hyperlink{sample__source_8h}{sample\+\_\+source.\+h}}\item 
/\+Users/davidvogel/repos/\+Vital\+Help/src/synthesis/producers/\mbox{\hyperlink{sample__source_8cpp}{sample\+\_\+source.\+cpp}}\end{DoxyCompactItemize}
