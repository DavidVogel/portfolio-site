\doxysection{poly\+\_\+utils.\+h}
\hypertarget{poly__utils_8h_source}{}\label{poly__utils_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/framework/poly\_utils.h@{/Users/davidvogel/repos/VitalHelp/src/synthesis/framework/poly\_utils.h}}
\mbox{\hyperlink{poly__utils_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{matrix_8h}{matrix.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{utils_8h}{utils.h}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00017\ \ \ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceutils}{utils}}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a645f7befb1befeb617d50668876ae02a}{kPhaseEncodingMultiplier}}\ =\ 0.9f;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacevital_1_1utils_a279c9022482750262762d3493b312c79}{kNotePressedMask}}\ =\ 0xf;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1constants_ae65c1de0dcd4794af7cb527948bb10a3}{kStereoSplit}}(1.0f,\ -\/1.0f);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kLagrangeOne(0.0f,\ 1.0f,\ 0.0f,\ 0.0f);}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kLagrangeTwo(-\/1.0f,\ -\/1.0f,\ 1.0f,\ 1.0f);}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kLagrangeThree(-\/2.0f,\ -\/2.0f,\ -\/2.0f,\ -\/1.0f);}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kLagrangeMult(-\/1.0f\ /\ 6.0f,\ 1.0f\ /\ 2.0f,\ -\/1.0f\ /\ 2.0f,\ 1.0f\ /\ 6.0f);}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kOptimalOne(0.00224072707074864375f,\ 0.20184198969656244725f,}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0.59244492420272312725f,\ 0.20345744715566445625f);}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kOptimalTwo(-\/0.0059513775678254975f,\ -\/0.456633315206820491f,}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/0.035736698832993691f,\ 0.4982319203618311775f);}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kOptimalThree(0.093515484757265265f,\ 0.294278871937834749f,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/0.786648885977648931f,\ 0.398765058036740415f);}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ kOptimalFour(-\/0.10174985775982505f,\ 0.36030925263849456f,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/0.36030925263849456f,\ 0.10174985775982505f);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a35863713535365219778ac997a789cf3}{mulAdd}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ a,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ b,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ c)\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_ad7abd2a606f9fb3e67162447f2f97057}{poly\_float::mulAdd}}(a,\ b,\ c);}
\DoxyCodeLine{00063\ \ \ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_afdde2f6a01239f8750e961822028d222}{mulSub}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ a,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ b,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ c)\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_a42b5a0220d4392e2a388ec17c176c8ef}{poly\_float::mulSub}}(a,\ b,\ c);}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keyword}{template}<mono\_\textcolor{keywordtype}{float}(*func)(mono\_\textcolor{keywordtype}{float})>}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ result;}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ poly\_float::kSize;\ ++i)}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ func(value[i]));}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_afd0bada91647d8693465a96c6fad108e}{centsToRatio}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<centsToRatio>}}(value);}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_adde4ad6a121307213b04a6ce8a307e0b}{noteOffsetToRatio}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<noteOffsetToRatio>}}(value);}
\DoxyCodeLine{00104\ \ \ \ \ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_aafcfea1a9e704d0f480de5e63fe36cc7}{ratioToMidiTranspose}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<ratioToMidiTranspose>}}(value);}
\DoxyCodeLine{00111\ \ \ \ \ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ae7684d26d729bed6e7fe8fadbe1e3424}{midiCentsToFrequency}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<midiCentsToFrequency>}}(value);}
\DoxyCodeLine{00118\ \ \ \ \ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ad576b73366d625ca0b47c8b92b81f7a4}{midiNoteToFrequency}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<midiNoteToFrequency>}}(value);}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a9865f59f6cbc94b414d68dd16d7dbd95}{frequencyToMidiNote}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<frequencyToMidiNote>}}(value);}
\DoxyCodeLine{00132\ \ \ \ \ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ae4390e06a9ec06890bc52922b6795dcd}{frequencyToMidiCents}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<frequencyToMidiCents>}}(value);}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a72fe86e55abbffc96cbc376ba0f12dcc}{magnitudeToDb}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<magnitudeToDb>}}(value);\ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_aa6239058f964f32989cc761a8784d799}{dbToMagnitude}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<dbToMagnitude>}}(value);\ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00154\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a59dceb6f3adc1281c8d41f59834cc4a7}{tan}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<tanf>}}(value);\ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00159\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ad8fc18346f5d17f12f8131e5efa6e5e6}{sin}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<sinf>}}(value);\ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a087b0896db47de58b698d92829794d19}{cos}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<cosf>}}(value);\ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00169\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ad7de0d300e948eb5cd8ec313c331fa0e}{sqrt}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_sqrt\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_sqrt\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00174\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_abbdeeed103db9525c236e765d4608a4f}{map<sqrtf>}}(value);}
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00177\ \ \ \ \ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00182\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{interpolate}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ from,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ to,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ t)\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a35863713535365219778ac997a789cf3}{mulAdd}}(from,\ to\ -\/\ from,\ t);}
\DoxyCodeLine{00184\ \ \ \ \ \}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a8b14e80b8a172e33d89787e4a1fd31b2}{getCubicInterpolationValues}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ mono\_t)\ \{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t\ =\ mono\_t;}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ kLagrangeMult\ *\ (t\ +\ kLagrangeOne)\ *\ (t\ +\ kLagrangeTwo)\ *\ (t\ +\ kLagrangeThree);}
\DoxyCodeLine{00192\ \ \ \ \ \}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00197\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a8764807b26b4c41a11052aab2be6e93d}{getOptimalInterpolationValues}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ mono\_t)\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t\ =\ mono\_t;}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((kOptimalFour\ *\ t\ +\ kOptimalThree)\ *\ t\ +\ kOptimalTwo)\ *\ t\ +\ kOptimalOne;}
\DoxyCodeLine{00200\ \ \ \ \ \}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}\ \mbox{\hyperlink{namespacevital_1_1utils_a72052df2c021a50c70d7c835d1fe0fa3}{getPolynomialInterpolationMatrix}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t\_from)\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ kMultPrev\ =\ -\/1.0f\ /\ 6.0f;}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ kMultFrom\ =\ 1.0f\ /\ 2.0f;}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ kMultTo\ =\ -\/1.0f\ /\ 2.0f;}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ kMultNext\ =\ 1.0f\ /\ 6.0f;}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t\_prev\ =\ t\_from\ +\ 1.0f;}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t\_to\ =\ t\_from\ -\/\ 1.0f;}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t\_next\ =\ t\_from\ -\/\ 2.0f;}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t\_prev\_from\ =\ t\_prev\ *\ t\_from;}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t\_to\_next\ =\ t\_to\ *\ t\_next;}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}(t\_from\ *\ t\_to\_next\ *\ kMultPrev,}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\_prev\ *\ t\_to\_next\ *\ kMultFrom,}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\_prev\_from\ *\ t\_next\ *\ kMultTo,}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\_prev\_from\ *\ t\_to\ *\ kMultNext);}
\DoxyCodeLine{00222\ \ \ \ \ \}}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00227\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}\ \mbox{\hyperlink{namespacevital_1_1utils_abe27d3b36055d0b33464451f55da3e4c}{getCatmullInterpolationMatrix}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t)\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ half\_t\ =\ t\ *\ 0.5f;}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ half\_t2\ =\ t\ *\ half\_t;}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ half\_t3\ =\ half\_t2\ *\ t;}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ half\_three\_t3\ =\ half\_t3\ *\ 3.0f;}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}(half\_t2\ *\ 2.0f\ -\/\ half\_t3\ -\/\ half\_t,}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_afdde2f6a01239f8750e961822028d222}{mulSub}}(half\_three\_t3,\ half\_t2,\ 5.0f)\ +\ 1.0f,}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a35863713535365219778ac997a789cf3}{mulAdd}}(half\_t,\ half\_t2,\ 4.0f)\ -\/\ half\_three\_t3,}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ half\_t3\ -\/\ half\_t2);}
\DoxyCodeLine{00237\ \ \ \ \ \}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00242\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}\ \mbox{\hyperlink{namespacevital_1_1utils_a8f180e5d62da83e42606cd510391a317}{getLinearInterpolationMatrix}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t)\ \{}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}(0.0f,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}(1.0f)\ -\/\ t,\ t,\ 0.0f);}
\DoxyCodeLine{00244\ \ \ \ \ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00249\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ unaligned)\ \{}
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_loadu\_ps(unaligned);}
\DoxyCodeLine{00252\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_loadu\_ps(unaligned);}
\DoxyCodeLine{00254\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vld1q\_f32(unaligned);}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00257\ \ \ \ \ \}}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00262\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}\ \mbox{\hyperlink{namespacevital_1_1utils_ac395090a16e639959e02aa2ff9527202}{getValueMatrix}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ buffer,\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ indices)\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}(\mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(buffer\ +\ indices[0]),}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(buffer\ +\ indices[1]),}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(buffer\ +\ indices[2]),}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(buffer\ +\ indices[3]));}
\DoxyCodeLine{00267\ \ \ \ \ \}}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00272\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}\ \mbox{\hyperlink{namespacevital_1_1utils_ac395090a16e639959e02aa2ff9527202}{getValueMatrix}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \textcolor{keyword}{const}*\ buffers,\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ indices)\ \{}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1matrix}{matrix}}(\mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(buffers[0]\ +\ indices[0]),}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(buffers[1]\ +\ indices[1]),}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(buffers[2]\ +\ indices[2]),}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a8679ac0a7286cd2a18ffa8ccb3ec3f53}{toPolyFloatFromUnaligned}}(buffers[3]\ +\ indices[3]));}
\DoxyCodeLine{00277\ \ \ \ \ \}}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00282\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{interpolate}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ from,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ to,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t)\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a35863713535365219778ac997a789cf3}{mulAdd}}(from,\ to\ -\/\ from,\ t);}
\DoxyCodeLine{00284\ \ \ \ \ \}}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00289\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{interpolate}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ from,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ to,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t)\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a35863713535365219778ac997a789cf3}{mulAdd}}(from,\ to\ -\/\ from,\ t);}
\DoxyCodeLine{00291\ \ \ \ \ \}}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00296\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_aef78600cea7a146003b3e66d5c26947e}{perlinInterpolate}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ from,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ to,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t)\ \{}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ interpolate\_from\ =\ from\ *\ t;}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ interpolate\_to\ =\ to\ *\ (t\ -\/\ 1.0f);}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ interpolate\_t\ =\ t\ *\ t\ *\ (t\ *\ -\/2.0f\ +\ 3.0f);}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{interpolate}}(interpolate\_from,\ interpolate\_to,\ interpolate\_t)\ *\ 2.0f;}
\DoxyCodeLine{00301\ \ \ \ \ \}}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00306\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{clamp}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}},\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}})\ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_abf9c15f1a8da916c8a2103d8cfd51c14}{poly\_float::max}}(\mbox{\hyperlink{structvital_1_1poly__float_a85b413f04cc079c3041454acaff61a15}{poly\_float::min}}(value,\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}}),\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}});}
\DoxyCodeLine{00308\ \ \ \ \ \}}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00313\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{clamp}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}},\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}})\ \{}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_abf9c15f1a8da916c8a2103d8cfd51c14}{poly\_float::max}}(\mbox{\hyperlink{structvital_1_1poly__float_a85b413f04cc079c3041454acaff61a15}{poly\_float::min}}(value,\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}}),\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}});}
\DoxyCodeLine{00315\ \ \ \ \ \}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00320\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{clamp}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ value,\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}},\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}})\ \{}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__int_a2acb4fe9ba2b63e32043e459be437f49}{poly\_int::max}}(\mbox{\hyperlink{structvital_1_1poly__int_aa37d83e861e960ab2efaa366fdc8768d}{poly\_int::min}}(value,\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}}),\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}});}
\DoxyCodeLine{00322\ \ \ \ \ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00327\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ left,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ right)\ \{}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_abf9c15f1a8da916c8a2103d8cfd51c14}{poly\_float::max}}(left,\ right);}
\DoxyCodeLine{00329\ \ \ \ \ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00334\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ left,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ right)\ \{}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_a85b413f04cc079c3041454acaff61a15}{poly\_float::min}}(left,\ right);}
\DoxyCodeLine{00336\ \ \ \ \ \}}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00341\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_ab485b6f004b79eacf3799c21734856ea}{equal}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ left,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ right)\ \{}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_ad58ea0499df6b4f55868db8213a12c98}{poly\_float::notEqual}}(left,\ right).sum()\ ==\ 0;}
\DoxyCodeLine{00343\ \ \ \ \ \}}
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00351\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{maskLoad}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ zero\_value,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ one\_value,\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ reset\_mask)\ \{}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ old\_values\ =\ zero\_value\ \&\ \string~reset\_mask;}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ new\_values\ =\ one\_value\ \&\ reset\_mask;}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ old\_values\ +\ new\_values;}
\DoxyCodeLine{00356\ \ \ \ \ \}}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00361\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{maskLoad}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ zero\_value,\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ one\_value,\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ reset\_mask)\ \{}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ old\_values\ =\ zero\_value\ \&\ \string~reset\_mask;}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ new\_values\ =\ one\_value\ \&\ reset\_mask;}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ old\_values\ |\ new\_values;}
\DoxyCodeLine{00366\ \ \ \ \ \}}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00372\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a3d79907b9d4cf6df7d5e5c7f968099c4}{modOnce}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ less\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_a6d8428e12c1d3e637bbb4da39e8a5a86}{poly\_float::lessThan}}(value,\ 1.0f);}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ lower\ =\ value\ -\/\ 1.0f;}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{maskLoad}}(lower,\ value,\ less\_mask);}
\DoxyCodeLine{00376\ \ \ \ \ \}}
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00381\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ \mbox{\hyperlink{namespacevital_1_1utils_a671da99491ae05f834bb526ebbe49ea7}{closeToZeroMask}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_a6d8428e12c1d3e637bbb4da39e8a5a86}{poly\_float::lessThan}}(\mbox{\hyperlink{structvital_1_1poly__float_ac682406ecd547c6e897f3d09ac549105}{poly\_float::abs}}(value),\ \mbox{\hyperlink{namespacevital_adca117b1ab8f89057d58c27e1645ecb6}{kEpsilon}});}
\DoxyCodeLine{00383\ \ \ \ \ \}}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00388\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a90c332e24e543d2c988396aa1f6596c7}{pow}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ base,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ exponent)\ \{}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ result;}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ size\ =\ poly\_float::kSize;}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ powf(base[i],\ exponent[i]));}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00394\ \ \ \ \ \}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00399\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ \mbox{\hyperlink{namespacevital_1_1utils_a7c3a3140ec6a17fe00dd92a2181f753e}{getSilentMask}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ buffer,\ \textcolor{keywordtype}{int}\ length)\ \{}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ silent\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_a62737c049e0fe6348bd3f5d2fe4bf02a}{poly\_float::equal}}(0.0f,\ 0.0f);}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ length;\ ++i)\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ zero\_mask\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a671da99491ae05f834bb526ebbe49ea7}{closeToZeroMask}}(buffer[i]);}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ silent\_mask\ \&=\ zero\_mask;}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ silent\_mask;}
\DoxyCodeLine{00406\ \ \ \ \ \}}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00411\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{swapStereo}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00412\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_shuffle\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(2,\ 3,\ 0,\ 1));}
\DoxyCodeLine{00414\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_shuffle\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(2,\ 3,\ 0,\ 1));}
\DoxyCodeLine{00416\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vrev64q\_f32(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00418\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00419\ \ \ \ \ \}}
\DoxyCodeLine{00420\ }
\DoxyCodeLine{00424\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{swapStereo}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ value)\ \{}
\DoxyCodeLine{00425\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_shuffle\_epi32(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ \_MM\_SHUFFLE(2,\ 3,\ 0,\ 1));}
\DoxyCodeLine{00427\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_shuffle\_epi32(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ \_MM\_SHUFFLE(2,\ 3,\ 0,\ 1));}
\DoxyCodeLine{00429\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vrev64q\_u32(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}});}
\DoxyCodeLine{00431\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00432\ \ \ \ \ \}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00437\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab69168d986d091e670bdf79c53abe7f6}{swapVoices}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00438\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_shuffle\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(1,\ 0,\ 3,\ 2));}
\DoxyCodeLine{00440\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_shuffle\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(1,\ 0,\ 3,\ 2));}
\DoxyCodeLine{00442\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vextq\_f32(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ 2);}
\DoxyCodeLine{00444\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00445\ \ \ \ \ \}}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00450\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab69168d986d091e670bdf79c53abe7f6}{swapVoices}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ value)\ \{}
\DoxyCodeLine{00451\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_shuffle\_epi32(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ \_MM\_SHUFFLE(1,\ 0,\ 3,\ 2));}
\DoxyCodeLine{00453\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_shuffle\_epi32(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ \_MM\_SHUFFLE(1,\ 0,\ 3,\ 2));}
\DoxyCodeLine{00455\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vextq\_u32(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ 2);}
\DoxyCodeLine{00457\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00458\ \ \ \ \ \}}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00463\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a5350cd9b0385ef24318597dcb9329e74}{swapInner}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00464\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_shuffle\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(3,\ 1,\ 2,\ 0));}
\DoxyCodeLine{00466\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_shuffle\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(3,\ 1,\ 2,\ 0));}
\DoxyCodeLine{00468\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00469\ \ \ \ \ \ \ float32x4\_t\ rotated\ =\ vextq\_f32(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ 2);}
\DoxyCodeLine{00470\ \ \ \ \ \ \ float32x4x2\_t\ zipped\ =\ vzipq\_f32(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ rotated);}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ zipped.val[0];}
\DoxyCodeLine{00472\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00473\ \ \ \ \ \}}
\DoxyCodeLine{00474\ }
\DoxyCodeLine{00478\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_af27a0ca537111476414071f32e8d7370}{reverse}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00479\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_shuffle\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(0,\ 1,\ 2,\ 3));}
\DoxyCodeLine{00481\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_shuffle\_ps(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(0,\ 1,\ 2,\ 3));}
\DoxyCodeLine{00483\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_ab69168d986d091e670bdf79c53abe7f6}{swapVoices}}(\mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{swapStereo}}(value));}
\DoxyCodeLine{00485\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00486\ \ \ \ \ \}}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00491\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a1db075d94389e5c680770e9a5be70da2}{consolidateAudio}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ one,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ two)\ \{}
\DoxyCodeLine{00492\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_unpacklo\_ps(one.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ two.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00494\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_unpacklo\_ps(one.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ two.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00496\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vzipq\_f32(one.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ two.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}}).val[0];}
\DoxyCodeLine{00498\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00499\ \ \ \ \ \}}
\DoxyCodeLine{00500\ }
\DoxyCodeLine{00504\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_aed1167a3c203ef1d3077180b2dc66738}{compactFirstVoices}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ one,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ two)\ \{}
\DoxyCodeLine{00505\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_shuffle\_ps(one.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ two.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(1,\ 0,\ 1,\ 0));}
\DoxyCodeLine{00507\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_shuffle\_ps(one.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ two.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}},\ \_MM\_SHUFFLE(1,\ 0,\ 1,\ 0));}
\DoxyCodeLine{00509\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vcombine\_f32(vget\_low\_f32(one.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}}),\ vget\_low\_f32(two.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}}));}
\DoxyCodeLine{00511\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00512\ \ \ \ \ \}}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00517\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ac208f18bb6c575757e806be4458b6dfb}{sumSplitAudio}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ sum)\ \{}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ totals\ =\ sum\ +\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{utils::swapStereo}}(sum);}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a5350cd9b0385ef24318597dcb9329e74}{utils::swapInner}}(totals);}
\DoxyCodeLine{00520\ \ \ \ \ \}}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00525\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab67997a6c708e0a3793d560203ffcf28}{maxFloat}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ values)\ \{}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ swap\_voices\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ab69168d986d091e670bdf79c53abe7f6}{swapVoices}}(values);}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ max\_voice\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{utils::max}}(values,\ swap\_voices);}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{utils::max}}(max\_voice,\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{utils::swapStereo}}(max\_voice))[0];}
\DoxyCodeLine{00529\ \ \ \ \ \}}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00534\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab54f78b85cee61e53b9d2ad61a2f7c21}{minFloat}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ values)\ \{}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ swap\_voices\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ab69168d986d091e670bdf79c53abe7f6}{swapVoices}}(values);}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ min\_voice\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{utils::min}}(values,\ swap\_voices);}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{utils::min}}(min\_voice,\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{utils::swapStereo}}(min\_voice))[0];}
\DoxyCodeLine{00538\ \ \ \ \ \}}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00543\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a322aba63e884b788d853d0b6da59ba54}{encodeMidSide}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (value\ +\ \mbox{\hyperlink{namespacevital_1_1constants_ae65c1de0dcd4794af7cb527948bb10a3}{kStereoSplit}}\ *\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{swapStereo}}(value))\ *\ 0.5f;}
\DoxyCodeLine{00545\ \ \ \ \ \}}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00550\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a32f69bde5507900f695da922c7871309}{decodeMidSide}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (value\ +\ \mbox{\hyperlink{namespacevital_1_1utils_af5c60a9d57eb9105808c85d03cc6ae71}{swapStereo}}(\mbox{\hyperlink{namespacevital_1_1constants_ae65c1de0dcd4794af7cb527948bb10a3}{kStereoSplit}}\ *\ value));}
\DoxyCodeLine{00552\ \ \ \ \ \}}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00557\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a32aafffbf175f9afa65eb570e724ecaa}{peak}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ buffer,\ \textcolor{keywordtype}{int}\ num,\ \textcolor{keywordtype}{int}\ skip\ =\ 1)\ \{}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a32aafffbf175f9afa65eb570e724ecaa}{peak}}\ =\ 0.0f;}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num;\ i\ +=\ skip)\ \{}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a32aafffbf175f9afa65eb570e724ecaa}{peak}}\ =\ \mbox{\hyperlink{structvital_1_1poly__float_abf9c15f1a8da916c8a2103d8cfd51c14}{poly\_float::max}}(\mbox{\hyperlink{namespacevital_1_1utils_a32aafffbf175f9afa65eb570e724ecaa}{peak}},\ buffer[i]);}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_1_1utils_a32aafffbf175f9afa65eb570e724ecaa}{peak}}\ =\ \mbox{\hyperlink{structvital_1_1poly__float_abf9c15f1a8da916c8a2103d8cfd51c14}{poly\_float::max}}(\mbox{\hyperlink{namespacevital_1_1utils_a32aafffbf175f9afa65eb570e724ecaa}{peak}},\ -\/buffer[i]);}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00563\ }
\DoxyCodeLine{00564\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a32aafffbf175f9afa65eb570e724ecaa}{peak}};}
\DoxyCodeLine{00565\ \ \ \ \ \}}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00570\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevital_1_1utils_a23be57085c57f535eb29b1de54525373}{zeroBuffer}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ buffer,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ buffer[i]\ =\ 0.0f;}
\DoxyCodeLine{00573\ \ \ \ \ \}}
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00578\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevital_1_1utils_a23be57085c57f535eb29b1de54525373}{zeroBuffer}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ buffer,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ buffer[i]\ =\ 0.0f;}
\DoxyCodeLine{00581\ \ \ \ \ \}}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00586\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevital_1_1utils_ace66114ab674022cfe117519c0de26ab}{copyBuffer}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ dest,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ source,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ dest[i]\ =\ source[i];}
\DoxyCodeLine{00589\ \ \ \ \ \}}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00594\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevital_1_1utils_ace66114ab674022cfe117519c0de26ab}{copyBuffer}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ source,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ dest[i]\ =\ source[i];}
\DoxyCodeLine{00597\ \ \ \ \ \}}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00602\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevital_1_1utils_a0fdb6a8a17e0c7bac4a7f314563a643c}{addBuffers}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ dest,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ b1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ b2,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ dest[i]\ =\ b1[i]\ +\ b2[i];}
\DoxyCodeLine{00605\ \ \ \ \ \}}
\DoxyCodeLine{00606\ }
\DoxyCodeLine{00610\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_a221874465932464f6c5fe9e187f0eb14}{isFinite}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ poly\_float::kSize;\ ++i)\ \{}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ val\ =\ value[i];}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!std::isfinite(val))}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00617\ \ \ \ \ \}}
\DoxyCodeLine{00618\ }
\DoxyCodeLine{00622\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_a71b48e6cbe6edf8d58993805956a78dd}{isInRange}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}},\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}})\ \{}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ greater\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_afe451ece04ecb9be82648c49c4e27e7b}{poly\_float::greaterThan}}(value,\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}});}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ less\_than\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_afe451ece04ecb9be82648c49c4e27e7b}{poly\_float::greaterThan}}(\mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}},\ value);}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (greater\_mask.\mbox{\hyperlink{structvital_1_1poly__int_a3b380522ce405dcfc4800ff807a96d61}{sum}}()\ +\ less\_than\_mask.\mbox{\hyperlink{structvital_1_1poly__int_a3b380522ce405dcfc4800ff807a96d61}{sum}}())\ ==\ 0;}
\DoxyCodeLine{00626\ \ \ \ \ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00631\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_a80ba548455cae89a92de477250c013c5}{isContained}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ kRange\ =\ 8000.0f;}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a71b48e6cbe6edf8d58993805956a78dd}{isInRange}}(value,\ -\/kRange,\ kRange);}
\DoxyCodeLine{00634\ \ \ \ \ \}}
\DoxyCodeLine{00635\ }
\DoxyCodeLine{00639\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_a221874465932464f6c5fe9e187f0eb14}{isFinite}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ buffer,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)\ \{}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacevital_1_1utils_a221874465932464f6c5fe9e187f0eb14}{isFinite}}(buffer[i]))}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00645\ \ \ \ \ \}}
\DoxyCodeLine{00646\ }
\DoxyCodeLine{00650\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_a71b48e6cbe6edf8d58993805956a78dd}{isInRange}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ buffer,\ \textcolor{keywordtype}{int}\ size,\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}},\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}})\ \{}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)\ \{}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacevital_1_1utils_a71b48e6cbe6edf8d58993805956a78dd}{isInRange}}(buffer[i],\ \mbox{\hyperlink{namespacevital_1_1utils_a5b6ee09220fec012fc1597235e4c50e3}{min}},\ \mbox{\hyperlink{namespacevital_1_1utils_ab453d9dff7b875976c8c8e22047a8558}{max}}))}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00656\ \ \ \ \ \}}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00661\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_a80ba548455cae89a92de477250c013c5}{isContained}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ buffer,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ kRange\ =\ 8000.0f;}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a71b48e6cbe6edf8d58993805956a78dd}{isInRange}}(buffer,\ size,\ -\/kRange,\ kRange);}
\DoxyCodeLine{00664\ \ \ \ \ \}}
\DoxyCodeLine{00665\ }
\DoxyCodeLine{00669\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_a147b151158ef4e807ba4b065ee4bcefe}{isSilent}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ buffer,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ mono\_buffer\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\textcolor{keyword}{>}(buffer);}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a147b151158ef4e807ba4b065ee4bcefe}{isSilent}}(mono\_buffer,\ size\ *\ poly\_float::kSize);}
\DoxyCodeLine{00672\ \ \ \ \ \}}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00677\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_afc06e8b0164d4cad059ee85088c9c720}{gather}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ buffer,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\&\ indices)\ \{}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ result;}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ poly\_float::kSize;\ ++i)\ \{}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ indices[i];}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ buffer[index]);}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00684\ \ \ \ \ \}}
\DoxyCodeLine{00685\ }
\DoxyCodeLine{00689\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevital_1_1utils_aea05ffed69c7a615fb35af077b4c31e4}{adjacentGather}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ buffer,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\&\ indices,}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\&\ value,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\&\ next)\ \{}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ poly\_float::kSize;\ ++i)\ \{}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ indices[i];}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ value.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ buffer[index]);}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ next.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ buffer[index\ +\ 1]);}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00696\ \ \ \ \ \}}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00701\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ac3ebf6c1fcae3677dc5dbe16b0c510cc}{gatherSeparate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \textcolor{keyword}{const}*\ buffers,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\&\ indices)\ \{}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ result;}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ poly\_float::kSize;\ ++i)\ \{}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ indices[i];}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ buffers[i][index]);}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00708\ \ \ \ \ \}}
\DoxyCodeLine{00709\ }
\DoxyCodeLine{00713\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevital_1_1utils_a1c988d0cadc358b746c753140d0e18f0}{adjacentGatherSeparate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \textcolor{keyword}{const}*\ buffers,}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\&\ indices,}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\&\ value,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\&\ next)\ \{}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ poly\_float::kSize;\ ++i)\ \{}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ indices[i];}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ value.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ buffers[i][index]);}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ next.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ buffers[i][index\ +\ 1]);}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00721\ \ \ \ \ \}}
\DoxyCodeLine{00722\ }
\DoxyCodeLine{00726\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_acb767502ac4d24a0ac47ce63be01d457}{fltScale}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ power)\ \{}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ power\ *\ value\ /\ ((power\ -\/\ 1.0f)\ *\ value\ +\ 1.0f);}
\DoxyCodeLine{00728\ \ \ \ \ \}}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00733\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a29ec8af38789c39515d4b43ee42e9de6}{toFloat}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ integers)\ \{}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(poly\_float::kSize\ ==\ poly\_int::kSize);}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_cvtepi32\_ps(integers.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}});}
\DoxyCodeLine{00738\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_cvtepi32\_ps(integers.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}});}
\DoxyCodeLine{00740\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vcvtq\_f32\_s32(vreinterpretq\_s32\_u32(integers.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}}));}
\DoxyCodeLine{00742\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00743\ \ \ \ \ \}}
\DoxyCodeLine{00744\ }
\DoxyCodeLine{00748\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_ad78f0e7d254bdef79f99ff199f8cbd9f}{toInt}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ floats)\ \{}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(poly\_float::kSize\ ==\ poly\_int::kSize);}
\DoxyCodeLine{00750\ }
\DoxyCodeLine{00751\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_cvtps\_epi32(floats.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00753\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_cvtps\_epi32(floats.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00755\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vreinterpretq\_u32\_s32(vcvtq\_s32\_f32(floats.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}}));}
\DoxyCodeLine{00757\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00758\ \ \ \ \ \}}
\DoxyCodeLine{00759\ }
\DoxyCodeLine{00763\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_ada3c701c7057b9c2e9e9440b6175de61}{truncToInt}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_ad78f0e7d254bdef79f99ff199f8cbd9f}{toInt}}(value);}
\DoxyCodeLine{00765\ \ \ \ \ \}}
\DoxyCodeLine{00766\ }
\DoxyCodeLine{00770\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a1638aa9be759a3dac5b6a31dc778587f}{trunc}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a29ec8af38789c39515d4b43ee42e9de6}{toFloat}}(\mbox{\hyperlink{namespacevital_1_1utils_ada3c701c7057b9c2e9e9440b6175de61}{truncToInt}}(value));}
\DoxyCodeLine{00772\ \ \ \ \ \}}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00777\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a4eb599d3b993166f53c0f769b0b1acd9}{floor}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ truncated\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a1638aa9be759a3dac5b6a31dc778587f}{trunc}}(value);}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ truncated\ +\ (\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}(-\/1.0f)\ \&\ \mbox{\hyperlink{structvital_1_1poly__float_afe451ece04ecb9be82648c49c4e27e7b}{poly\_float::greaterThan}}(truncated,\ value));}
\DoxyCodeLine{00780\ \ \ \ \ \}}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00785\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_acde287b8b24767b9615ec28f052393c2}{floorToInt}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00786\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_ad78f0e7d254bdef79f99ff199f8cbd9f}{toInt}}(\mbox{\hyperlink{namespacevital_1_1utils_a4eb599d3b993166f53c0f769b0b1acd9}{floor}}(value));}
\DoxyCodeLine{00787\ \ \ \ \ \}}
\DoxyCodeLine{00788\ }
\DoxyCodeLine{00792\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_a4d84d37be8f005668f7d305e6391714a}{roundToInt}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_acde287b8b24767b9615ec28f052393c2}{floorToInt}}(value\ +\ 0.5f);}
\DoxyCodeLine{00794\ \ \ \ \ \}}
\DoxyCodeLine{00795\ }
\DoxyCodeLine{00799\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_af479ab648455a2280e53b8da6a905989}{ceil}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ truncated\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a1638aa9be759a3dac5b6a31dc778587f}{trunc}}(value);}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ truncated\ +\ (\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}(1.0f)\ \&\ \mbox{\hyperlink{structvital_1_1poly__float_a6d8428e12c1d3e637bbb4da39e8a5a86}{poly\_float::lessThan}}(truncated,\ value));}
\DoxyCodeLine{00802\ \ \ \ \ \}}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00807\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a36d02fe07e4e7b1ceb94761084bf7b17}{round}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a4eb599d3b993166f53c0f769b0b1acd9}{floor}}(value\ +\ 0.5f);}
\DoxyCodeLine{00809\ \ \ \ \ \}}
\DoxyCodeLine{00810\ }
\DoxyCodeLine{00814\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a02cebee05a6ccafbce870a1a18ae0d04}{mod}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ value\ -\/\ \mbox{\hyperlink{namespacevital_1_1utils_a4eb599d3b993166f53c0f769b0b1acd9}{floor}}(value);}
\DoxyCodeLine{00816\ \ \ \ \ \}}
\DoxyCodeLine{00817\ }
\DoxyCodeLine{00821\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a2c43dc2d8e225543c88fec4c80d9cbf5}{reinterpretToFloat}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ value)\ \{}
\DoxyCodeLine{00822\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00823\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_castsi256\_ps(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}});}
\DoxyCodeLine{00824\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_castsi128\_ps(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}});}
\DoxyCodeLine{00826\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vreinterpretq\_f32\_u32(value.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}});}
\DoxyCodeLine{00828\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00829\ \ \ \ \ \}}
\DoxyCodeLine{00830\ }
\DoxyCodeLine{00834\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_a106449b782d5738e4943188574092bab}{reinterpretToInt}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ value)\ \{}
\DoxyCodeLine{00835\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_castps\_si256(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00837\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00838\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_castps\_si128(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00839\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vreinterpretq\_u32\_f32(value.\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}});}
\DoxyCodeLine{00841\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00842\ \ \ \ \ \}}
\DoxyCodeLine{00843\ }
\DoxyCodeLine{00844\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ shift>}
\DoxyCodeLine{00845\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_a8beb30dbb9faf5ed1359c9e447c3a11b}{shiftRight}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ integer)\ \{}
\DoxyCodeLine{00846\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_srli\_epi32(integers.value,\ shift);}
\DoxyCodeLine{00848\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_srli\_epi32(integer.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ shift);}
\DoxyCodeLine{00850\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00851\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vshrq\_n\_u32(integer.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ shift);}
\DoxyCodeLine{00852\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00853\ \ \ \ \ \}}
\DoxyCodeLine{00854\ }
\DoxyCodeLine{00855\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ shift>}
\DoxyCodeLine{00856\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ \mbox{\hyperlink{namespacevital_1_1utils_a9ef92c2e7529590d2414546c37550802}{shiftLeft}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ integer)\ \{}
\DoxyCodeLine{00857\ \textcolor{preprocessor}{\ \ \ \ \#if\ VITAL\_AVX2}}
\DoxyCodeLine{00858\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm256\_slli\_epi32(integers.value,\ shift);}
\DoxyCodeLine{00859\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_SSE2}}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_slli\_epi32(integer.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ shift);}
\DoxyCodeLine{00861\ \textcolor{preprocessor}{\ \ \ \ \#elif\ VITAL\_NEON}}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vshlq\_n\_u32(integer.\mbox{\hyperlink{structvital_1_1poly__int_a0788dec226807cd3313376f20fe17bc0}{value}},\ shift);}
\DoxyCodeLine{00863\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00864\ \ \ \ \ \}}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a085b28f5532124e173d5516fadc2c956}{pow2ToFloat}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}\ value)\ \{}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a2c43dc2d8e225543c88fec4c80d9cbf5}{reinterpretToFloat}}(\mbox{\hyperlink{namespacevital_1_1utils_a9ef92c2e7529590d2414546c37550802}{shiftLeft<23>}}(value\ +\ 127));}
\DoxyCodeLine{00868\ \ \ \ \ \}}
\DoxyCodeLine{00869\ }
\DoxyCodeLine{00873\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a19f215cf180a7c8307f1d431f41c6dd5}{triangleWave}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ t)\ \{}
\DoxyCodeLine{00874\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ adjust\ =\ t\ +\ 0.75f;}
\DoxyCodeLine{00875\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ range\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a02cebee05a6ccafbce870a1a18ae0d04}{utils::mod}}(adjust);}
\DoxyCodeLine{00876\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvital_1_1poly__float_ac682406ecd547c6e897f3d09ac549105}{poly\_float::abs}}(\mbox{\hyperlink{namespacevital_1_1utils_a35863713535365219778ac997a789cf3}{mulAdd}}(-\/1.0f,\ range,\ 2.0f));}
\DoxyCodeLine{00877\ \ \ \ \ \}}
\DoxyCodeLine{00878\ }
\DoxyCodeLine{00885\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a70d1632b7ff25265d67a5b886c5c7410}{getCycleOffsetFromSeconds}}(\textcolor{keywordtype}{double}\ seconds,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ frequency)\ \{}
\DoxyCodeLine{00886\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ offset;}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ poly\_float::kSize;\ ++i)\ \{}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ freq\ =\ frequency[i];}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cycles\ =\ freq\ *\ seconds;}
\DoxyCodeLine{00890\ \ \ \ \ \ \ \ \ offset.\mbox{\hyperlink{structvital_1_1poly__float_ae81ddd53c0cc124931d1a82d6ecf90c6}{set}}(i,\ cycles\ -\/\ \mbox{\hyperlink{namespacevital_1_1utils_a4eb599d3b993166f53c0f769b0b1acd9}{::floor}}(cycles));}
\DoxyCodeLine{00891\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00892\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ offset;}
\DoxyCodeLine{00893\ \ \ \ \ \}}
\DoxyCodeLine{00894\ }
\DoxyCodeLine{00898\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a6a739da6ed13f211c8d4046ea74fb750}{getCycleOffsetFromSamples}}(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ samples,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ frequency,}
\DoxyCodeLine{00899\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ sample\_rate,\ \textcolor{keywordtype}{int}\ oversample\_amount)\ \{}
\DoxyCodeLine{00900\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ tick\_time\ =\ (1.0\ *\ oversample\_amount)\ /\ sample\_rate;}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ seconds\_passed\ =\ tick\_time\ *\ samples;}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a70d1632b7ff25265d67a5b886c5c7410}{getCycleOffsetFromSeconds}}(seconds\_passed,\ frequency);}
\DoxyCodeLine{00903\ \ \ \ \ \}}
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00908\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_ac3df04bc349891aae550af53d0f080d0}{snapTranspose}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ transpose,\ \textcolor{keywordtype}{int}\ quantize)\ \{}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ octave\_floored\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a4eb599d3b993166f53c0f769b0b1acd9}{utils::floor}}(transpose\ *\ (1.0f\ /\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}}))\ *\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}};}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ tranpose\_from\_octave\ =\ transpose\ -\/\ octave\_floored;}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ min\_distance\ =\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}};}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ transpose\_in\_octave\ =\ tranpose\_from\_octave;}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <=\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}};\ ++i)\ \{}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((quantize\ >>\ (i\ \%\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}}))\ \&\ 1)\ \{}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ distance\ =\ \mbox{\hyperlink{structvital_1_1poly__float_ac682406ecd547c6e897f3d09ac549105}{poly\_float::abs}}(tranpose\_from\_octave\ -\/\ i);}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ best\_mask\ =\ \mbox{\hyperlink{structvital_1_1poly__float_a6d8428e12c1d3e637bbb4da39e8a5a86}{poly\_float::lessThan}}(distance,\ min\_distance);}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \ \ min\_distance\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(min\_distance,\ distance,\ best\_mask);}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \ \ transpose\_in\_octave\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ace9619cc7eac91b3abdcd77011b1ecb3}{utils::maskLoad}}(transpose\_in\_octave,\ i,\ best\_mask);}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00921\ }
\DoxyCodeLine{00922\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ octave\_floored\ +\ transpose\_in\_octave;}
\DoxyCodeLine{00923\ \ \ \ \ \}}
\DoxyCodeLine{00924\ }
\DoxyCodeLine{00928\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevital_1_1utils_a2ea2756e4e7e4bab1865230c0ebccc3a}{fillSnapBuffer}}(\textcolor{keywordtype}{int}\ transpose\_quantize,\ \textcolor{keywordtype}{float}*\ snap\_buffer)\ \{}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ min\_snap\ =\ 0.0f;}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ max\_snap\ =\ 0.0f;}
\DoxyCodeLine{00931\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}};\ ++i)\ \{}
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((transpose\_quantize\ >>\ i)\ \&\ 1)\ \{}
\DoxyCodeLine{00933\ \ \ \ \ \ \ \ \ \ \ max\_snap\ =\ i;}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (min\_snap\ ==\ 0.0f)}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \ \ \ \ min\_snap\ =\ i;}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00938\ }
\DoxyCodeLine{00939\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ offset\ =\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}}\ -\/\ max\_snap;}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <=\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}};\ ++i)\ \{}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((transpose\_quantize\ >>\ (i\ \%\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}}))\ \&\ 1)}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \ \ offset\ =\ 0.0f;}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ \ \ \ \ \ \ \ \ snap\_buffer[i]\ =\ offset;}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ offset\ +=\ 1.0f;}
\DoxyCodeLine{00946\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00947\ \ \ \ \ \ \ offset\ =\ min\_snap;}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}};\ i\ >=\ 0;\ -\/-\/i)\ \{}
\DoxyCodeLine{00949\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (offset\ <\ snap\_buffer[i])}
\DoxyCodeLine{00950\ \ \ \ \ \ \ \ \ \ \ snap\_buffer[i]\ =\ i\ +\ offset;}
\DoxyCodeLine{00951\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (snap\_buffer[i]\ !=\ 0.0f)}
\DoxyCodeLine{00952\ \ \ \ \ \ \ \ \ \ \ snap\_buffer[i]\ =\ i\ -\/\ snap\_buffer[i];}
\DoxyCodeLine{00953\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00954\ \ \ \ \ \ \ \ \ \ \ snap\_buffer[i]\ =\ i;}
\DoxyCodeLine{00955\ \ \ \ \ \ \ \ \ \ \ offset\ =\ 0.0f;}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \ \ offset\ +=\ 1.0f;}
\DoxyCodeLine{00958\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00959\ \ \ \ \ \}}
\DoxyCodeLine{00960\ }
\DoxyCodeLine{00964\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_a2a8735ffd047ed901edf08018e5f08c8}{isTransposeQuantizeGlobal}}(\textcolor{keywordtype}{int}\ quantize)\ \{}
\DoxyCodeLine{00965\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ quantize\ >>\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}};}
\DoxyCodeLine{00966\ \ \ \ \ \}}
\DoxyCodeLine{00967\ }
\DoxyCodeLine{00971\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacevital_1_1utils_aecfdb029169b37d7d8fe0066dc8fc762}{isTransposeSnapping}}(\textcolor{keywordtype}{int}\ quantize)\ \{}
\DoxyCodeLine{00972\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kTransposeMask\ =\ (1\ <<\ \mbox{\hyperlink{namespacevital_a536eae8e1b7eab087dc163b9911bca6e}{kNotesPerOctave}})\ -\/\ 1;}
\DoxyCodeLine{00973\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ quantize\ \&\ kTransposeMask;}
\DoxyCodeLine{00974\ \ \ \ \ \}}
\DoxyCodeLine{00975\ }
\DoxyCodeLine{00979\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ \mbox{\hyperlink{namespacevital_1_1utils_a2a2de508f71ee1a987ec75a77b7129b0}{encodePhaseAndVoice}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ phase,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ voice)\ \{}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ voice\_float\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a29ec8af38789c39515d4b43ee42e9de6}{toFloat}}((\mbox{\hyperlink{namespacevital_1_1utils_ad78f0e7d254bdef79f99ff199f8cbd9f}{toInt}}(voice)\ \&\ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_int}}(\mbox{\hyperlink{namespacevital_1_1utils_a279c9022482750262762d3493b312c79}{kNotePressedMask}}))\ +\ 1);}
\DoxyCodeLine{00981\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ voice\_float\ +\ phase\ *\ \mbox{\hyperlink{namespacevital_1_1utils_a645f7befb1befeb617d50668876ae02a}{kPhaseEncodingMultiplier}};}
\DoxyCodeLine{00982\ \ \ \ \ \}}
\DoxyCodeLine{00983\ }
\DoxyCodeLine{00987\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ std::pair<poly\_float,\ poly\_float>\ \mbox{\hyperlink{namespacevital_1_1utils_af9e790a10bedc9b9dd5279b689298de8}{decodePhaseAndVoice}}(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ encoded)\ \{}
\DoxyCodeLine{00988\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ modulo\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a02cebee05a6ccafbce870a1a18ae0d04}{mod}}(encoded);}
\DoxyCodeLine{00989\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ voice\ =\ encoded\ -\/\ modulo;}
\DoxyCodeLine{00990\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ phase\ =\ modulo\ *\ (1.0f\ /\ \mbox{\hyperlink{namespacevital_1_1utils_a645f7befb1befeb617d50668876ae02a}{kPhaseEncodingMultiplier}});}
\DoxyCodeLine{00991\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\ phase,\ voice\ \};}
\DoxyCodeLine{00992\ \ \ \ \ \}}
\DoxyCodeLine{00993\ \ \ \}\ \textcolor{comment}{//\ namespace\ utils}}
\DoxyCodeLine{00994\ \}\ \textcolor{comment}{//\ namespace\ vital}}
\DoxyCodeLine{00995\ }

\end{DoxyCode}
