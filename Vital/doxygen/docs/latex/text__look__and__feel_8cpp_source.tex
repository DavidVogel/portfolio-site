\doxysection{text\+\_\+look\+\_\+and\+\_\+feel.\+cpp}
\hypertarget{text__look__and__feel_8cpp_source}{}\label{text__look__and__feel_8cpp_source}\index{/Users/davidvogel/repos/VitalHelp/src/interface/look\_and\_feel/text\_look\_and\_feel.cpp@{/Users/davidvogel/repos/VitalHelp/src/interface/look\_and\_feel/text\_look\_and\_feel.cpp}}
\mbox{\hyperlink{text__look__and__feel_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{text__look__and__feel_8h}{text\_look\_and\_feel.h}}"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{skin_8h}{skin.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{fonts_8h}{fonts.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__button_8h}{synth\_button.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__section_8h}{synth\_section.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__slider_8h}{synth\_slider.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ TextLookAndFeel::TextLookAndFeel()\ \{\ \}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_text_look_and_feel_a7c27a5e0f3003cafe89702be5e14aca4}{TextLookAndFeel::drawRotarySlider}}(Graphics\&\ g,\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y,\ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{int}\ height,}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ slider\_t,\ \textcolor{keywordtype}{float}\ start\_angle,\ \textcolor{keywordtype}{float}\ end\_angle,}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Slider\&\ slider)\ \{}
\DoxyCodeLine{00014\ \ \ \textcolor{comment}{//\ Draws\ text\ in\ place\ of\ a\ rotary\ arc,\ showing\ value\ as\ text}}
\DoxyCodeLine{00015\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kTextPercentage\ =\ 0.5f;}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ s\_slider\ =\ \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\textcolor{keyword}{>}(\&slider);}
\DoxyCodeLine{00018\ \ \ \textcolor{keywordtype}{float}\ text\_percentage\ =\ kTextPercentage;}
\DoxyCodeLine{00019\ \ \ \textcolor{keywordtype}{bool}\ active\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00020\ \ \ String\ text\ =\ slider.getTextFromValue(slider.getValue());}
\DoxyCodeLine{00021\ \ \ \textcolor{keywordtype}{float}\ offset\ =\ 0.0f;}
\DoxyCodeLine{00022\ \ \ \textcolor{keywordtype}{float}\ font\_size\ =\ slider.getHeight()\ *\ text\_percentage;}
\DoxyCodeLine{00023\ \ \ \textcolor{keywordflow}{if}\ (s\_slider)\ \{}
\DoxyCodeLine{00024\ \ \ \ \ text\_percentage\ =\ s\_slider-\/>\mbox{\hyperlink{class_synth_slider_a65569527dbad815e6c0dba90e462e641}{getTextHeightPercentage}}();}
\DoxyCodeLine{00025\ \ \ \ \ font\_size\ =\ slider.getHeight()\ *\ text\_percentage;}
\DoxyCodeLine{00026\ \ \ \ \ active\ =\ s\_slider-\/>\mbox{\hyperlink{class_open_gl_slider_afb98992928c2b58b61d96cadfaa8cb8c}{isActive}}();}
\DoxyCodeLine{00027\ \ \ \ \ text\ =\ s\_slider-\/>\mbox{\hyperlink{class_synth_slider_a7e4e275235086acefff5fbf023ce4520}{getSliderTextFromValue}}(slider.getValue());}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ offset\ =\ s\_slider-\/>\mbox{\hyperlink{class_synth_slider_a6ae11745343c02eecfc10c7701b07e83}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180a4deb269c17a1601618e3f360c243ee1e}{Skin::kTextComponentOffset}});}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{if}\ (text\_percentage\ ==\ 0.0f)}
\DoxyCodeLine{00031\ \ \ \ \ \ \ font\_size\ =\ s\_slider-\/>\mbox{\hyperlink{class_synth_slider_a6ae11745343c02eecfc10c7701b07e83}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180a3a111fa6770cfc738add0135e68a2db0}{Skin::kTextComponentFontSize}});}
\DoxyCodeLine{00032\ \ \ \}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ Colour\ text\_color\ =\ slider.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127cadac6e8c347bdd796337e3ca3d7ca3457}{Skin::kTextComponentText}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{if}\ (!active)}
\DoxyCodeLine{00036\ \ \ \ \ text\_color\ =\ text\_color.withMultipliedAlpha(0.5f);}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ g.setColour(text\_color);}
\DoxyCodeLine{00039\ \ \ g.setFont(\mbox{\hyperlink{class_fonts_ae7669a3eeb9db437c7d34feff9e99707}{Fonts::instance}}()-\/>proportional\_light().withPointHeight(font\_size));}
\DoxyCodeLine{00040\ \ \ g.drawText(text,\ x,\ y\ +\ std::round(offset),\ width,\ height,\ Justification::centred,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00041\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_text_look_and_feel_a03117267697a3bfc0f21c2613d9f8597}{TextLookAndFeel::drawToggleButton}}(Graphics\&\ g,\ ToggleButton\&\ button,\ \textcolor{keywordtype}{bool}\ hover,\ \textcolor{keywordtype}{bool}\ is\_down)\ \{}
\DoxyCodeLine{00044\ \ \ \textcolor{comment}{//\ Draws\ a\ text-\/based\ toggle\ button}}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kTextPercentage\ =\ 0.7f;}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kTextShrinkage\ =\ 0.98f;}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \textcolor{keywordtype}{bool}\ toggled\ =\ button.getToggleState();}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{class_synth_button}{SynthButton}}*\ s\_button\ =\ \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_synth_button}{SynthButton}}*\textcolor{keyword}{>}(\&button);}
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{const}\ std::string*\ string\_lookup\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{if}\ (s\_button)\ \{}
\DoxyCodeLine{00052\ \ \ \ \ string\_lookup\ =\ s\_button-\/>\mbox{\hyperlink{class_synth_button_ab88a283910c9972671dc9afbbb4b6eae}{getStringLookup}}();}
\DoxyCodeLine{00053\ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ Color\ based\ on\ state}}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{if}\ (toggled\ \&\&\ string\_lookup\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_down)}
\DoxyCodeLine{00058\ \ \ \ \ \ \ g.setColour(button.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127caaee9452450b74f99a440e9100dd75aeb}{Skin::kIconButtonOnPressed}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (hover)}
\DoxyCodeLine{00060\ \ \ \ \ \ \ g.setColour(button.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127cadeb3b4ccfc0d24284d12ad996de76bcf}{Skin::kIconButtonOnHover}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ g.setColour(button.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca1cbd1a1b363c079b2b253cd365b680b2}{Skin::kIconButtonOn}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00063\ \ \ \}}
\DoxyCodeLine{00064\ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_down)}
\DoxyCodeLine{00066\ \ \ \ \ \ \ g.setColour(button.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca97e032e6be4f09423edb65e8de9402ff}{Skin::kIconButtonOffPressed}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (hover)}
\DoxyCodeLine{00068\ \ \ \ \ \ \ g.setColour(button.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca58c296ac4e742eb41f3f13d439f2c816}{Skin::kIconButtonOffHover}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ g.setColour(button.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca0dad7b1ec93aeffd7b9098f05a065b99}{Skin::kIconButtonOff}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00071\ \ \ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ String\ text\ =\ button.getButtonText();}
\DoxyCodeLine{00074\ \ \ \textcolor{keywordflow}{if}\ (string\_lookup)\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ toggled\ ?\ 1\ :\ 0;}
\DoxyCodeLine{00076\ \ \ \ \ text\ =\ string\_lookup[index];}
\DoxyCodeLine{00077\ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{keywordtype}{int}\ rounding\ =\ 0;}
\DoxyCodeLine{00080\ \ \ \textcolor{keywordtype}{float}\ text\_percentage\ =\ kTextPercentage;}
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{if}\ (is\_down)}
\DoxyCodeLine{00082\ \ \ \ \ text\_percentage\ *=\ kTextShrinkage;}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{keywordtype}{float}\ font\_size\ =\ button.getHeight()\ *\ text\_percentage;}
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{class_synth_section}{SynthSection}}*\ section\ =\ button.findParentComponentOfClass<\mbox{\hyperlink{class_synth_section}{SynthSection}}>();}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordflow}{if}\ (section)\ \{}
\DoxyCodeLine{00087\ \ \ \ \ font\_size\ =\ section-\/>\mbox{\hyperlink{class_synth_section_aa01a2cf1cb512707d217490aa89a8b2f}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180a234939d128d26573319d5f0ba8261268}{Skin::kButtonFontSize}});}
\DoxyCodeLine{00088\ \ \ \ \ rounding\ =\ section-\/>\mbox{\hyperlink{class_synth_section_aa01a2cf1cb512707d217490aa89a8b2f}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180ab3cb761113ca34ffe06c8ed64a7df2f1}{Skin::kWidgetRoundedCorner}});}
\DoxyCodeLine{00089\ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{keywordflow}{if}\ (text.isEmpty())}
\DoxyCodeLine{00092\ \ \ \ \ g.fillRoundedRectangle(button.getLocalBounds().toFloat(),\ rounding);}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00094\ \ \ \ \ g.setFont(\mbox{\hyperlink{class_fonts_ae7669a3eeb9db437c7d34feff9e99707}{Fonts::instance}}()-\/>monospace().withPointHeight(font\_size));}
\DoxyCodeLine{00095\ \ \ \ \ g.drawText(text,\ 0,\ 0,\ button.getWidth(),\ button.getHeight(),\ Justification::centred);}
\DoxyCodeLine{00096\ \ \ \}}
\DoxyCodeLine{00097\ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_text_look_and_feel_ac66b0d6c74fa66c5d7eed81b6bf67261}{TextLookAndFeel::drawTickBox}}(Graphics\&\ g,\ Component\&\ component,}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ x,\ \textcolor{keywordtype}{float}\ y,\ \textcolor{keywordtype}{float}\ w,\ \textcolor{keywordtype}{float}\ h,\ \textcolor{keywordtype}{bool}\ ticked,}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ enabled,\ \textcolor{keywordtype}{bool}\ mouse\_over,\ \textcolor{keywordtype}{bool}\ button\_down)\ \{}
\DoxyCodeLine{00102\ \ \ \textcolor{comment}{//\ Minimal\ checkbox\ drawing:\ if\ ticked,\ draw\ a\ small\ red\ fill\ inside}}
\DoxyCodeLine{00103\ \ \ \textcolor{keywordtype}{float}\ border\_width\ =\ 1.5f;}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordflow}{if}\ (ticked)\ \{}
\DoxyCodeLine{00105\ \ \ \ \ g.setColour(Colours::red);}
\DoxyCodeLine{00106\ \ \ \ \ g.fillRect(x\ +\ 3\ *\ border\_width,\ y\ +\ 3\ *\ border\_width,}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ -\/\ 6\ *\ border\_width,\ h\ -\/\ 6\ *\ border\_width);}
\DoxyCodeLine{00108\ \ \ \}}
\DoxyCodeLine{00109\ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_text_look_and_feel_a02db8e6aedff7b3c560844bcb3f8e8ea}{TextLookAndFeel::drawLabel}}(Graphics\&\ g,\ Label\&\ label)\ \{}
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{//\ Set\ label\ text\ color\ to\ body\ text}}
\DoxyCodeLine{00113\ \ \ Colour\ text\ =\ label.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca5d5c4928f6b3eebfc770c24400efb04e}{Skin::kBodyText}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00114\ \ \ label.setColour(Label::textColourId,\ text);}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ DefaultLookAndFeel::drawLabel(g,\ label);}
\DoxyCodeLine{00117\ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_text_look_and_feel_a71ef6a354586efc07600c4965163ea57}{TextLookAndFeel::drawComboBox}}(Graphics\&\ g,\ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{int}\ height,\ \textcolor{keywordtype}{bool}\ is\_down,}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ button\_x,\ \textcolor{keywordtype}{int}\ button\_y,\ \textcolor{keywordtype}{int}\ button\_w,\ \textcolor{keywordtype}{int}\ button\_h,\ ComboBox\&\ box)\ \{}
\DoxyCodeLine{00121\ \ \ \textcolor{comment}{//\ ComboBox\ with\ text\ styling}}
\DoxyCodeLine{00122\ \ \ Colour\ background\ =\ box.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127cabd65945ec11172a49e96665d40361f05}{Skin::kTextComponentBackground}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00123\ \ \ Colour\ text\ =\ box.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca5d5c4928f6b3eebfc770c24400efb04e}{Skin::kBodyText}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00124\ \ \ Colour\ caret\ =\ box.findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127caf4bb4fdf63337ceb6bb167959fb9f919}{Skin::kTextEditorCaret}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ box.setColour(ComboBox::backgroundColourId,\ background);}
\DoxyCodeLine{00127\ \ \ box.setColour(ComboBox::arrowColourId,\ caret);}
\DoxyCodeLine{00128\ \ \ box.setColour(ComboBox::outlineColourId,\ Colours::transparentBlack);}
\DoxyCodeLine{00129\ \ \ box.setColour(ComboBox::textColourId,\ text);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \mbox{\hyperlink{class_default_look_and_feel_aafd52f208732bf00859624fd0dc0903e}{DefaultLookAndFeel::drawComboBox}}(g,\ width,\ height,\ is\_down,\ button\_x,\ button\_y,\ button\_w,\ button\_h,\ box);}
\DoxyCodeLine{00132\ \}}

\end{DoxyCode}
