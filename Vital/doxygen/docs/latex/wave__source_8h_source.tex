\doxysection{wave\+\_\+source.\+h}
\hypertarget{wave__source_8h_source}{}\label{wave__source_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/common/wavetable/wave\_source.h@{/Users/davidvogel/repos/VitalHelp/src/common/wavetable/wave\_source.h}}
\mbox{\hyperlink{wave__source_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{Summary:}}
\DoxyCodeLine{00003\ \textcolor{comment}{WaveSource\ and\ WaveSourceKeyframe\ provide\ a\ direct\ representation\ of\ wavetables\ via\ WaveFrames.\ By\ storing\ entire\ waveforms\ and\ supporting\ time\ or\ frequency\ domain\ interpolation\ (including\ cubic\ methods\ for\ smoothness),\ they\ enable\ flexible\ and\ sophisticated\ transitions\ between\ keyframes.\ This\ results\ in\ dynamic\ and\ evolving\ sounds\ that\ can\ be\ tailored\ by\ controlling\ interpolation\ modes\ and\ parameters.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}JuceHeader.h"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{wavetable__component_8h}{wavetable\_component.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{wave__frame_8h}{wave\_frame.h}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_wave_source_keyframe}{WaveSourceKeyframe}};}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_wave_source}{WaveSource}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_wavetable_component}{WavetableComponent}}\ \{}
\DoxyCodeLine{00026\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90}{InterpolationMode}}\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90a3f08f7d0a764f2af68d8314d8d723197}{kTime}},\ \ \ \ \ \ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90a8ff2606e13b37e886ce6ae1568450739}{kFrequency}}\ \ }
\DoxyCodeLine{00034\ \ \ \ \ \};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{class_wave_source_ae555f5a13f70e98bd1f64d6ace194648}{WaveSource}}();}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_wave_source_a17c8638d956e4de07f99f8b2215c9d44}{\string~WaveSource}}();}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ \mbox{\hyperlink{class_wave_source_a9bdbe4a5e4d1cacfdb38a856abd08104}{createKeyframe}}(\textcolor{keywordtype}{int}\ position)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_a7015bd634946b71148bf58f4279c34fe}{render}}(\mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ wave\_frame,\ \textcolor{keywordtype}{float}\ position)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{class_wavetable_component_factory_a22042886b7b3acd718509949040238bd}{WavetableComponentFactory::ComponentType}}\ \mbox{\hyperlink{class_wave_source_ae6fed21b5af63d52515f7f956f40116e}{getType}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ \mbox{\hyperlink{class_wave_source_a04562d7646704ac5dab012c05358fe11}{stateToJson}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_a4e5bab83a373220e2dbe774a75d29e2d}{jsonToState}}(\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ data)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ \mbox{\hyperlink{class_wave_source_a63ed7a33886879e253bb602143b026d5}{getWaveFrame}}(\textcolor{keywordtype}{int}\ index);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{class_wave_source_keyframe}{WaveSourceKeyframe}}*\ \mbox{\hyperlink{class_wave_source_a715a55593b9018c4a380be67c5b948f9}{getKeyframe}}(\textcolor{keywordtype}{int}\ index);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_a40d5e47c6b99f8c5382dfe6981134c48}{setInterpolationMode}}(\mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90}{InterpolationMode}}\ mode)\ \{\ \mbox{\hyperlink{class_wave_source_a4664e91a2660a56e2a721b6c10726955}{interpolation\_mode\_}}\ =\ mode;\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90}{InterpolationMode}}\ \mbox{\hyperlink{class_wave_source_a72aa4e037fb5c4c26b919dd92d87244d}{getInterpolationMode}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_wave_source_a4664e91a2660a56e2a721b6c10726955}{interpolation\_mode\_}};\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00079\ \ \ \ \ std::unique\_ptr<WaveSourceKeyframe>\ \mbox{\hyperlink{class_wave_source_a11755dbac312e2988927c173e4c8e30e}{compute\_frame\_}};\ }
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90}{InterpolationMode}}\ \mbox{\hyperlink{class_wave_source_a4664e91a2660a56e2a721b6c10726955}{interpolation\_mode\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR(\mbox{\hyperlink{class_wave_source}{WaveSource}})}
\DoxyCodeLine{00083\ \};}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00092\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_wave_source_keyframe}{WaveSourceKeyframe}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}\ \{}
\DoxyCodeLine{00093\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00097\ \ \ \ \ \mbox{\hyperlink{class_wave_source_keyframe_a08ad24c8881dca8633822d67aee5e814}{WaveSourceKeyframe}}()\ :\ \mbox{\hyperlink{class_wave_source_keyframe_a1594ee99df6e7bf5145f2eca3e383f25}{interpolation\_mode\_}}(\mbox{\hyperlink{class_wave_source}{WaveSource}}::kFrequency)\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_wave_source_keyframe_a99884fc97dc01f240686506e0eaea4f6}{wave\_frame\_}}\ =\ std::make\_unique<vital::WaveFrame>();}
\DoxyCodeLine{00099\ \ \ \ \ \}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_wave_source_keyframe_a20e8709a6eebf60a629e7148a6a17b4e}{\string~WaveSourceKeyframe}}()\ \{\ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ \mbox{\hyperlink{class_wave_source_keyframe_ac2f19ba59f1866a789cdeb38fef24e12}{wave\_frame}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_wave_source_keyframe_a99884fc97dc01f240686506e0eaea4f6}{wave\_frame\_}}.get();\ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_a1b574fe8cd5c6549bad0c0e161caa9ee}{copy}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ keyframe)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_a91a03b2129322973ebe9cb8c72ba7b50}{linearTimeInterpolate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ from,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ to,\ \textcolor{keywordtype}{float}\ t);}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_a21b939df52c0df8a8d01dbf8aec1ffcd}{cubicTimeInterpolate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ prev,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ from,}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ to,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ next,}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ range\_prev,\ \textcolor{keywordtype}{float}\ range,\ \textcolor{keywordtype}{float}\ range\_next,\ \textcolor{keywordtype}{float}\ t);}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_a25bf945cc7e05f3e24785e2c18f1ddf5}{linearFrequencyInterpolate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ from,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ to,\ \textcolor{keywordtype}{float}\ t);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_ae736aa8a1e0efb5162022d4cae795729}{cubicFrequencyInterpolate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ prev,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ from,}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ to,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ next,}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ range\_prev,\ \textcolor{keywordtype}{float}\ range,\ \textcolor{keywordtype}{float}\ range\_next,\ \textcolor{keywordtype}{float}\ t);}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_aefa83b8a0623b6becd80c462236e014a}{interpolate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ from\_keyframe,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ to\_keyframe,\ \textcolor{keywordtype}{float}\ t)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_a1d98f2353ed1314db13fe28782cce7f3}{smoothInterpolate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ prev\_keyframe,}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ from\_keyframe,}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ to\_keyframe,}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_wavetable_keyframe}{WavetableKeyframe}}*\ next\_keyframe,\ \textcolor{keywordtype}{float}\ t)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_aec40b4510ca9e7092b06d6b204a8d116}{render}}(\mbox{\hyperlink{classvital_1_1_wave_frame}{vital::WaveFrame}}*\ \mbox{\hyperlink{class_wave_source_keyframe_ac2f19ba59f1866a789cdeb38fef24e12}{wave\_frame}})\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_wave_source_keyframe_ac2f19ba59f1866a789cdeb38fef24e12}{wave\_frame}}-\/>\mbox{\hyperlink{classvital_1_1_wave_frame_a097b35df7e1e30b50991550a21d4927b}{copy}}(\mbox{\hyperlink{class_wave_source_keyframe_a99884fc97dc01f240686506e0eaea4f6}{wave\_frame\_}}.get());}
\DoxyCodeLine{00178\ \ \ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ \mbox{\hyperlink{class_wave_source_keyframe_a42bb1c4473019173e7b0435aae21ea1a}{stateToJson}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_a90a5537b7612e577b7697443e9fc2025}{jsonToState}}(\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ data)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_wave_source_keyframe_a8375d5c3ffe9ecaaa9d3cffae9c1c649}{setInterpolationMode}}(\mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90}{WaveSource::InterpolationMode}}\ mode)\ \{\ \mbox{\hyperlink{class_wave_source_keyframe_a1594ee99df6e7bf5145f2eca3e383f25}{interpolation\_mode\_}}\ =\ mode;\ \}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00195\ \ \ \ \ \mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90}{WaveSource::InterpolationMode}}\ \mbox{\hyperlink{class_wave_source_keyframe_abe40cbf2fed06da3acd9e2b1da1ba4bf}{getInterpolationMode}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_wave_source_keyframe_a1594ee99df6e7bf5145f2eca3e383f25}{interpolation\_mode\_}};\ \}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00198\ \ \ \ \ std::unique\_ptr<vital::WaveFrame>\ \mbox{\hyperlink{class_wave_source_keyframe_a99884fc97dc01f240686506e0eaea4f6}{wave\_frame\_}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00199\ \ \ \ \ \mbox{\hyperlink{class_wave_source_add4f921a9aaac5d27e4ae82704779d90}{WaveSource::InterpolationMode}}\ \mbox{\hyperlink{class_wave_source_keyframe_a1594ee99df6e7bf5145f2eca3e383f25}{interpolation\_mode\_}};\ \ \ \ \ }
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR(\mbox{\hyperlink{class_wave_source_keyframe}{WaveSourceKeyframe}})}
\DoxyCodeLine{00202\ \};}

\end{DoxyCode}
