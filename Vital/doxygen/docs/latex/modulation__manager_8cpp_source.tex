\doxysection{modulation\+\_\+manager.\+cpp}
\hypertarget{modulation__manager_8cpp_source}{}\label{modulation__manager_8cpp_source}\index{/Users/davidvogel/repos/VitalHelp/src/interface/editor\_sections/modulation\_manager.cpp@{/Users/davidvogel/repos/VitalHelp/src/interface/editor\_sections/modulation\_manager.cpp}}
\mbox{\hyperlink{modulation__manager_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{modulation__manager_8h}{modulation\_manager.h}}"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bar__renderer_8h}{bar\_renderer.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{skin_8h}{skin.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{modulation__connection__processor_8h}{modulation\_connection\_processor.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{modulation__matrix_8h}{modulation\_matrix.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{modulation__meter_8h}{modulation\_meter.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{shaders_8h}{shaders.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__gui__interface_8h}{synth\_gui\_interface.h}}"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }\{}
\DoxyCodeLine{00012\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kDefaultModulationRatio\ =\ 0.25f;}
\DoxyCodeLine{00013\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kModSourceMeterWidth\ =\ 0.0018f;}
\DoxyCodeLine{00014\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kModSourceMeterBuffer\ =\ 0.002f;}
\DoxyCodeLine{00015\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kModSourceMinRadius\ =\ 0.005f;}
\DoxyCodeLine{00016\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kModSmoothDecay\ =\ 0.25f;}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \textcolor{keywordtype}{bool}\ showingInParents(Component*\ component)\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordflow}{if}\ (component\ ==\ \textcolor{keyword}{nullptr}\ ||\ component-\/>getParentComponent()\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordflow}{return}\ component-\/>isVisible()\ \&\&\ showingInParents(component-\/>getParentComponent());}
\DoxyCodeLine{00023\ \ \ \}}
\DoxyCodeLine{00024\ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_expand_modulation_button}{ExpandModulationButton}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_open_gl_toggle_button}{OpenGlToggleButton}}\ \{}
\DoxyCodeLine{00027\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{class_expand_modulation_button_a03958345f07b5ab05212350106602090}{ExpandModulationButton}}()\ :\ \mbox{\hyperlink{class_open_gl_toggle_button}{OpenGlToggleButton}}(\textcolor{stringliteral}{"{}expand\ modulation"{}}),}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_sliders\_(0),\ amount\_quad\_(\mbox{\hyperlink{class_shaders}{Shaders}}::kRingFragment)\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \mbox{\hyperlink{class_open_gl_toggle_button_aa587cf25bb079adfe5864e98a560466e}{setLightenButton}}();}
\DoxyCodeLine{00031\ \ \ \ \ \ \ setTriggeredOnMouseDown(\textcolor{keyword}{true});}
\DoxyCodeLine{00032\ \ \ \ \ \ \ setMouseClickGrabsKeyboardFocus(\textcolor{keyword}{false});}
\DoxyCodeLine{00033\ \ \ \ \ \ \ amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a400b44f0d176e32e9a3014be91816808}{setTargetComponent}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00034\ \ \ \ \ \ \ amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a0e0f55028083ff593df1457f746a173a}{setThickness}}(2.0f);}
\DoxyCodeLine{00035\ \ \ \ \ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_expand_modulation_button_a2b162bfd253e5fc888bae91121f858dc}{getNumColumns}}(\textcolor{keywordtype}{int}\ num\_sliders)\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ height\_width\_ratio\ =\ getHeight()\ *\ 1.0f\ /\ getWidth();}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ columns\ =\ 1;}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (columns\ *\ (\textcolor{keywordtype}{int})(height\_width\_ratio\ *\ columns)\ <\ num\_sliders)}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ columns++;}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ columns;}
\DoxyCodeLine{00044\ \ \ \ \ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_expand_modulation_button_aa300305fabb16ce663371472ff98e8a3}{setSliders}}(std::vector<ModulationAmountKnob*>\ sliders)\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ sliders\_\ =\ sliders;}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ sliders.size();\ ++i)}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ colors\_[i]\ =\ sliders\_[i]-\/>findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca8c4b65b04de5c483ef36c3e72fd06a5e}{Skin::kRotaryArc}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00050\ \ \ \ \ \ \ num\_sliders\_\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(sliders\_.size());}
\DoxyCodeLine{00051\ \ \ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ std::vector<ModulationAmountKnob*>\ \mbox{\hyperlink{class_expand_modulation_button_a453020aeb25fc850febb09303e77646e}{getSliders}}()\ \{\ \textcolor{keywordflow}{return}\ sliders\_;\ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_expand_modulation_button_a107f42e5fe037cfff10bde6673eb4e0e}{renderSliderQuads}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,\ \textcolor{keywordtype}{bool}\ animate)\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_sliders\ =\ num\_sliders\_;}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ width\ =\ getWidth();}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ height\ =\ getHeight();}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ columns\ =\ \mbox{\hyperlink{class_expand_modulation_button_a2b162bfd253e5fc888bae91121f858dc}{getNumColumns}}(num\_sliders);}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ cell\_width\ =\ width\ /\ columns;}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ rows\ =\ (num\_sliders\ +\ columns\ -\/\ 1)\ /\ columns;}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ y\_offset\ =\ (height\ -\/\ (rows\ *\ cell\_width))\ /\ 2;}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ gl\_width\ =\ 2.0f\ *\ cell\_width\ /\ width;}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ gl\_height\ =\ 2.0f\ *\ cell\_width\ /\ height;}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ row\ =\ 0;}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ column\ =\ 0;}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_sliders;\ ++i)\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ x\ =\ column\ *\ cell\_width;}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ y\ =\ height\ -\/\ y\_offset\ -\/\ (row\ +\ 1)\ *\ cell\_width;}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a706334ae3e0b28b38b729132dea195e2}{setColor}}(colors\_[i]);}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a46dfe42ce452467df0b7b2faeee64c03}{setAltColor}}(colors\_[i].withMultipliedAlpha(0.5f));}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a35c108ca44accfef5055ac8df84a579d}{setQuad}}(0,\ 2.0f\ *\ x\ /\ width\ -\/\ 1.0f,\ 1.0f\ -\/\ 2.0f\ *\ y\ /\ height\ -\/\ gl\_height,\ gl\_width,\ gl\_height);}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a4e30eb161abeeb1dbc07455fe390f8fa}{render}}(open\_gl,\ animate);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ column++;}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (column\ >=\ columns)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ row++;}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ column\ =\ 0;}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00088\ \ \ \ \ std::vector<ModulationAmountKnob*>\ sliders\_;}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_sliders\_;}
\DoxyCodeLine{00090\ \ \ \ \ Colour\ colors\_[\mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}}];}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{class_open_gl_quad}{OpenGlQuad}}\ amount\_quad\_;}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR(\mbox{\hyperlink{class_expand_modulation_button}{ExpandModulationButton}})}
\DoxyCodeLine{00095\ \};}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_modulation_destination}{ModulationDestination}}\ :\ \textcolor{keyword}{public}\ Component\ \{}
\DoxyCodeLine{00098\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{class_modulation_destination_aede0740166b8d907076cf97df836953d}{ModulationDestination}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ source)\ :\ destination\_slider\_(source),\ margin\_(0),\ index\_(0),}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ size\_multiple\_(1.0f),}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ active\_(false),\ rectangle\_(false),\ rotary\_(true)\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ setName(source-\/>getName());}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{class_modulation_destination_a509e6ed8e2bbb2e936aa0be350161760}{ModulationDestination}}()\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_modulation_destination_a7b8467a0c11777953d79bdbf57f5b485}{\string~ModulationDestination}}()\ \{\ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ \mbox{\hyperlink{class_modulation_destination_af80e09a0bdcb48ba4fd7ad4f75072b8d}{getDestinationSlider}}()\ \{\ \textcolor{keywordflow}{return}\ destination\_slider\_;\ \}}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_destination_a47061facea0265d2add91e2827f23e7b}{setActive}}(\textcolor{keywordtype}{bool}\ active)\ \{\ active\_\ =\ active;\ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_destination_acec3222aa7e6855ccf07ebcda7d04989}{setSizeMultiple}}(\textcolor{keywordtype}{float}\ multiple)\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ size\_multiple\_\ =\ multiple;}
\DoxyCodeLine{00113\ \ \ \ \ \ \ repaint();}
\DoxyCodeLine{00114\ \ \ \ \ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ Rectangle<float>\ \mbox{\hyperlink{class_modulation_destination_adb356eada8c6e8e8d682116d4673d13a}{getFillBounds}}()\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kBufferPercent\ =\ 0.4f;}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ width\ =\ getWidth();}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ height\ =\ getHeight();}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!rectangle\_\ \&\&\ rotary\_)\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ offset\ =\ destination\_slider\_-\/>\mbox{\hyperlink{class_synth_slider_a6ae11745343c02eecfc10c7701b07e83}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180a6392d6f78a5aa3da2960e4c95c14a7f2}{Skin::kKnobOffset}});}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ rotary\_width\ =\ size\_multiple\_\ *\ destination\_slider\_-\/>\mbox{\hyperlink{class_synth_slider_a6ae11745343c02eecfc10c7701b07e83}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180aa656625e6061cec142a00633a9bd77d8}{Skin::kKnobModMeterArcSize}});}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ x\ =\ (width\ -\/\ rotary\_width)\ /\ 2.0f;}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ y\ =\ offset\ +\ (height\ -\/\ rotary\_width)\ /\ 2.0f;}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Rectangle<float>(x,\ y,\ rotary\_width,\ rotary\_width);}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rectangle\_)}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ getLocalBounds().toFloat();}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (destination\_slider\_-\/>getSliderStyle()\ ==\ Slider::LinearBar)\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ y\ =\ height\ *\ 0.5f\ *\ (1.0f\ -\/\ \mbox{\hyperlink{class_synth_slider_a79449ab75aa1b19fcd34d8572a23f093}{SynthSlider::kLinearWidthPercent}});}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ glow\_height\ =\ height\ *\ \mbox{\hyperlink{class_synth_slider_a79449ab75aa1b19fcd34d8572a23f093}{SynthSlider::kLinearWidthPercent}};}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ y\ -\/=\ 2.0f\ *\ glow\_height\ *\ kBufferPercent;}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ glow\_height\ +=\ 4.0f\ *\ kBufferPercent\ *\ glow\_height;}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Rectangle<float>(margin\_,\ y,\ width\ -\/\ 2\ *\ margin\_,\ glow\_height);}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ x\ =\ width\ *\ 0.5f\ *\ (1.0f\ -\/\ \mbox{\hyperlink{class_synth_slider_a79449ab75aa1b19fcd34d8572a23f093}{SynthSlider::kLinearWidthPercent}});}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ glow\_width\ =\ width\ *\ \mbox{\hyperlink{class_synth_slider_a79449ab75aa1b19fcd34d8572a23f093}{SynthSlider::kLinearWidthPercent}};}
\DoxyCodeLine{00144\ \ \ \ \ \ \ x\ -\/=\ 2.0f\ *\ glow\_width\ *\ kBufferPercent;}
\DoxyCodeLine{00145\ \ \ \ \ \ \ glow\_width\ +=\ 4.0f\ *\ kBufferPercent\ *\ glow\_width;}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Rectangle<float>(x,\ margin\_,\ glow\_width,\ height\ -\/\ 2\ *\ margin\_);}
\DoxyCodeLine{00147\ \ \ \ \ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_destination_a2da6e335e98de77e9de1ff49262c83e6}{setRectangle}}(\textcolor{keywordtype}{bool}\ rectangle)\ \{\ rectangle\_\ =\ rectangle;\ \}}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_destination_a86e30021daf4e6f302821704a4c912db}{setRotary}}(\textcolor{keywordtype}{bool}\ rotary)\ \{\ rotary\_\ =\ rotary;\ \}}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_destination_a8c12f92a1d0e6f5c25b371ca3d6876a6}{setMargin}}(\textcolor{keywordtype}{int}\ margin)\ \{\ margin\_\ =\ margin;\ \}}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_destination_a1904f5da6e3a6a7b7bef1f6b51c83a96}{setIndex}}(\textcolor{keywordtype}{int}\ index)\ \{\ index\_\ =\ index;\ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_modulation_destination_a953330e707ee15850206db728e95e904}{hasExtraModulationTarget}}()\ \{\ \textcolor{keywordflow}{return}\ destination\_slider\_-\/>\mbox{\hyperlink{class_synth_slider_a963c4927ebb44f2e51565705b106c361}{getExtraModulationTarget}}()\ !=\ \textcolor{keyword}{nullptr};\ \}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_modulation_destination_ab923cb17860a357eab78c8c08b51141c}{isRotary}}()\ \{\ \textcolor{keywordflow}{return}\ !rectangle\_\ \&\&\ rotary\_;\ \}}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_modulation_destination_a0f6ed784dafe3995d9316ff915e6739d}{isActive}}()\ \{\ \textcolor{keywordflow}{return}\ active\_;\ \}}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_modulation_destination_aacb48928e4601e2f6b4246c71657b754}{getIndex}}()\ \{\ \textcolor{keywordflow}{return}\ index\_;\ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00160\ \ \ \ \ Component*\ viewport\_container\_;}
\DoxyCodeLine{00161\ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ destination\_slider\_;}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordtype}{int}\ margin\_;}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordtype}{int}\ index\_;}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordtype}{float}\ size\_multiple\_;}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordtype}{bool}\ active\_;}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{bool}\ rectangle\_;}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{bool}\ rotary\_;}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR(\mbox{\hyperlink{class_modulation_destination}{ModulationDestination}})}
\DoxyCodeLine{00170\ \};}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \mbox{\hyperlink{class_modulation_amount_knob_a962f2f746b8f69024eb5784a0bd4d500}{ModulationAmountKnob::ModulationAmountKnob}}(String\ name,\ \textcolor{keywordtype}{int}\ index)\ :\ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}(name),}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ color\_component\_(nullptr),\ index\_(index)\ \{}
\DoxyCodeLine{00174\ \ \ \mbox{\hyperlink{class_open_gl_slider_ae3f21a1fbcf8bbb12967df95ab708859}{setModulationKnob}}();}
\DoxyCodeLine{00175\ \ \ bypass\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00176\ \ \ stereo\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00177\ \ \ bipolar\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00178\ \ \ draw\_background\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00179\ \ \ name\_\ =\ name;}
\DoxyCodeLine{00180\ \ \ editing\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \mbox{\hyperlink{class_synth_slider_a014e8f22b0dd857b430a1beb5130fc7d}{setShowPopupOnHover}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00183\ \ \ \mbox{\hyperlink{class_synth_slider_a8dd31e74d721c9763c46b6d05a547c00}{setTextEntrySizePercent}}(2.0f,\ 1.0f);}
\DoxyCodeLine{00184\ \ \ setDoubleClickReturnValue(\textcolor{keyword}{false},\ 0.0f);}
\DoxyCodeLine{00185\ \ \ setWantsKeyboardFocus(\textcolor{keyword}{false});}
\DoxyCodeLine{00186\ \ \ showing\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00187\ \ \ hovering\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00188\ \ \ current\_modulator\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00189\ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_ab2ce803f7db64f4869dc491a47430826}{ModulationAmountKnob::mouseDown}}(\textcolor{keyword}{const}\ MouseEvent\&\ e)\ \{}
\DoxyCodeLine{00192\ \ \ \textcolor{keywordflow}{if}\ (e.mods.isMiddleButtonDown())}
\DoxyCodeLine{00193\ \ \ \ \ toggleBypass();}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \textcolor{keywordflow}{if}\ (e.mods.isPopupMenu())\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{class_synth_slider_a90c0ba03f8d319c2e1c4d2b9dda2e715}{SynthSlider::mouseExit}}(e);}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \mbox{\hyperlink{struct_popup_items}{PopupItems}}\ options;}
\DoxyCodeLine{00199\ \ \ \ \ options.\mbox{\hyperlink{struct_popup_items_a091b6aac3301c664924f0c520e32635a}{addItem}}(\mbox{\hyperlink{class_modulation_amount_knob_abd49d4d08421ea1ff78cba9f1a33d2a4a5dba3c21cc7e0c3443238429d0e8eb4d}{kDisconnect}},\ \textcolor{stringliteral}{"{}Remove"{}});}
\DoxyCodeLine{00200\ \ \ \ \ options.\mbox{\hyperlink{struct_popup_items_a091b6aac3301c664924f0c520e32635a}{addItem}}(\mbox{\hyperlink{class_modulation_amount_knob_abd49d4d08421ea1ff78cba9f1a33d2a4ac2d6b97311c68594b66c0b6bb47eea52}{kToggleBypass}},\ bypass\_\ ?\ \textcolor{stringliteral}{"{}Unbypass"{}}\ :\ \textcolor{stringliteral}{"{}Bypass"{}});}
\DoxyCodeLine{00201\ \ \ \ \ options.\mbox{\hyperlink{struct_popup_items_a091b6aac3301c664924f0c520e32635a}{addItem}}(\mbox{\hyperlink{class_modulation_amount_knob_abd49d4d08421ea1ff78cba9f1a33d2a4ac3206db978807222f7130ce5aba603a5}{kToggleBipolar}},\ bipolar\_\ ?\ \textcolor{stringliteral}{"{}Make\ Unipolar"{}}\ :\ \textcolor{stringliteral}{"{}Make\ Bipolar"{}});}
\DoxyCodeLine{00202\ \ \ \ \ options.\mbox{\hyperlink{struct_popup_items_a091b6aac3301c664924f0c520e32635a}{addItem}}(\mbox{\hyperlink{class_modulation_amount_knob_abd49d4d08421ea1ff78cba9f1a33d2a4adede8b620dc843e029083a17ab33cdff}{kToggleStereo}},\ stereo\_\ ?\ \textcolor{stringliteral}{"{}Make\ Mono"{}}\ :\ \textcolor{stringliteral}{"{}Make\ Stereo"{}});}
\DoxyCodeLine{00203\ \ \ \ \ options.\mbox{\hyperlink{struct_popup_items_a091b6aac3301c664924f0c520e32635a}{addItem}}(-\/1,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_slider_a2b816cc4c8136def7bde1948be80729e}{has\_parameter\_assignment\_}})}
\DoxyCodeLine{00206\ \ \ \ \ \ \ options.\mbox{\hyperlink{struct_popup_items_a091b6aac3301c664924f0c520e32635a}{addItem}}(\mbox{\hyperlink{class_synth_slider_ad7d2815695ed57b1b51b3dd3db8f6661ae74a7d2d9b551af8168197c930c49705}{kArmMidiLearn}},\ \textcolor{stringliteral}{"{}Learn\ MIDI\ Assignment"{}});}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_synth_slider_a2b816cc4c8136def7bde1948be80729e}{has\_parameter\_assignment\_}}\ \&\&\ \mbox{\hyperlink{class_synth_slider_aa501b87d0a6f198e4694998f1fcb9f20}{synth\_interface\_}}-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a1e7fe8c6a8de4eda90d599d36330ef31}{isMidiMapped}}(getName().toStdString()))}
\DoxyCodeLine{00209\ \ \ \ \ \ \ options.\mbox{\hyperlink{struct_popup_items_a091b6aac3301c664924f0c520e32635a}{addItem}}(\mbox{\hyperlink{class_synth_slider_ad7d2815695ed57b1b51b3dd3db8f6661a6ab95f5662ada04345d981134673be5c}{kClearMidiLearn}},\ \textcolor{stringliteral}{"{}Clear\ MIDI\ Assignment"{}});}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ options.\mbox{\hyperlink{struct_popup_items_a091b6aac3301c664924f0c520e32635a}{addItem}}(\mbox{\hyperlink{class_synth_slider_ad7d2815695ed57b1b51b3dd3db8f6661a6db09ca3763ba53db937a2d0b38be644}{kManualEntry}},\ \textcolor{stringliteral}{"{}Enter\ Value"{}});}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ hovering\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00214\ \ \ \ \ \mbox{\hyperlink{class_open_gl_slider_a906127f143b2b672e085c1067f382788}{redoImage}}();}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keyword}{auto}\ callback\ =\ [=](\textcolor{keywordtype}{int}\ selection)\ \{\ \mbox{\hyperlink{class_modulation_amount_knob_a4b2bda7898f91a819cf03691ba266d93}{handleModulationMenuCallback}}(selection);\ \};}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keyword}{auto}\ cancel\ =\ [=]()\ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_synth_slider_1_1_slider_listener}{SliderListener}}*\ listener\ :\ \mbox{\hyperlink{class_synth_slider_accda3e752d2f8171e6629166fefecc9e}{slider\_listeners\_}})}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ listener-\/>menuFinished(\textcolor{keyword}{this});}
\DoxyCodeLine{00220\ \ \ \ \ \};}
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{class_open_gl_slider_aea61e7800d6f07af94c096b93771b851}{parent\_}}-\/>\mbox{\hyperlink{class_synth_section_a9424df12646a0b756b1b58904b9be6ff}{showPopupSelector}}(\textcolor{keyword}{this},\ e.getPosition(),\ options,\ callback,\ cancel);}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_synth_slider_1_1_slider_listener}{SliderListener}}*\ listener\ :\ \mbox{\hyperlink{class_synth_slider_accda3e752d2f8171e6629166fefecc9e}{slider\_listeners\_}})}
\DoxyCodeLine{00224\ \ \ \ \ \ \ listener-\/>mouseDown(\textcolor{keyword}{this});}
\DoxyCodeLine{00225\ \ \ \}}
\DoxyCodeLine{00226\ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \mbox{\hyperlink{class_synth_slider_a58f4b45f56f48cb1ae386066c32ffc61}{SynthSlider::mouseDown}}(e);}
\DoxyCodeLine{00228\ \ \ \ \ MouseInputSource\ source\ =\ e.source;}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keywordflow}{if}\ (source.isMouse()\ \&\&\ source.canDoUnboundedMovement())\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ editing\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00232\ \ \ \ \ \ \ source.hideCursor();}
\DoxyCodeLine{00233\ \ \ \ \ \ \ source.enableUnboundedMouseMovement(\textcolor{keyword}{true});}
\DoxyCodeLine{00234\ \ \ \ \ \ \ mouse\_down\_position\_\ =\ e.getScreenPosition();}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_synth_slider_1_1_slider_listener}{SliderListener}}*\ listener\ :\ \mbox{\hyperlink{class_synth_slider_accda3e752d2f8171e6629166fefecc9e}{slider\_listeners\_}})}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ listener-\/>beginModulationEdit(\textcolor{keyword}{this});}
\DoxyCodeLine{00237\ \ \ \ \ \}}
\DoxyCodeLine{00238\ \ \ \}}
\DoxyCodeLine{00239\ \}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_ad0a5aba9873ade2b2010e89114261d5c}{ModulationAmountKnob::mouseUp}}(\textcolor{keyword}{const}\ MouseEvent\&\ e)\ \{}
\DoxyCodeLine{00242\ \ \ \textcolor{keywordflow}{if}\ (!e.mods.isPopupMenu())\ \{}
\DoxyCodeLine{00243\ \ \ \ \ \mbox{\hyperlink{class_synth_slider_a987ed615051dd6948c6aed66368c6c4c}{SynthSlider::mouseUp}}(e);}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ MouseInputSource\ source\ =\ e.source;}
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keywordflow}{if}\ (source.isMouse()\ \&\&\ source.canDoUnboundedMovement())\ \{}
\DoxyCodeLine{00247\ \ \ \ \ \ \ source.showMouseCursor(MouseCursor::NormalCursor);}
\DoxyCodeLine{00248\ \ \ \ \ \ \ source.enableUnboundedMouseMovement(\textcolor{keyword}{false});}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (getScreenBounds().contains(e.getScreenPosition()))}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ editing\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00251\ \ \ \ \ \ \ source.setScreenPosition(mouse\_down\_position\_.toFloat());}
\DoxyCodeLine{00252\ \ \ \ \ \}}
\DoxyCodeLine{00253\ \ \ \}}
\DoxyCodeLine{00254\ \}}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_aa7a63fa2c33bbff0a455ea13b3c5a9cc}{ModulationAmountKnob::mouseExit}}(\textcolor{keyword}{const}\ MouseEvent\&\ e)\ \{}
\DoxyCodeLine{00257\ \ \ \textcolor{keywordflow}{if}\ (!editing\_)\ \{}
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_synth_slider_1_1_slider_listener}{SliderListener}}*\ listener\ :\ \mbox{\hyperlink{class_synth_slider_accda3e752d2f8171e6629166fefecc9e}{slider\_listeners\_}})}
\DoxyCodeLine{00259\ \ \ \ \ \ \ listener-\/>endModulationEdit(\textcolor{keyword}{this});}
\DoxyCodeLine{00260\ \ \ \}}
\DoxyCodeLine{00261\ \ \ editing\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00262\ \ \ \mbox{\hyperlink{class_synth_slider_a90c0ba03f8d319c2e1c4d2b9dda2e715}{SynthSlider::mouseExit}}(e);}
\DoxyCodeLine{00263\ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \textcolor{keywordtype}{void}\ ModulationAmountKnob::toggleBypass()\ \{}
\DoxyCodeLine{00266\ \ \ bypass\_\ =\ !bypass\_;}
\DoxyCodeLine{00267\ \ \ \textcolor{keywordflow}{for}\ (Listener*\ listener\ :\ listeners\_)}
\DoxyCodeLine{00268\ \ \ \ \ listener-\/>setModulationBypass(\textcolor{keyword}{this},\ bypass\_);}
\DoxyCodeLine{00269\ \ \ \mbox{\hyperlink{class_open_gl_slider_a6dbe0f52d14567488fe304fc22ff264f}{setColors}}();}
\DoxyCodeLine{00270\ \}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_a4b2bda7898f91a819cf03691ba266d93}{ModulationAmountKnob::handleModulationMenuCallback}}(\textcolor{keywordtype}{int}\ result)\ \{}
\DoxyCodeLine{00273\ \ \ \textcolor{keywordflow}{if}\ (result\ ==\ \mbox{\hyperlink{class_modulation_amount_knob_abd49d4d08421ea1ff78cba9f1a33d2a4a5dba3c21cc7e0c3443238429d0e8eb4d}{kDisconnect}})\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_modulation_amount_knob_1_1_listener}{Listener}}*\ listener\ :\ listeners\_)}
\DoxyCodeLine{00275\ \ \ \ \ \ \ listener-\/>disconnectModulation(\textcolor{keyword}{this});}
\DoxyCodeLine{00276\ \ \ \}}
\DoxyCodeLine{00277\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (result\ ==\ \mbox{\hyperlink{class_modulation_amount_knob_abd49d4d08421ea1ff78cba9f1a33d2a4ac2d6b97311c68594b66c0b6bb47eea52}{kToggleBypass}})}
\DoxyCodeLine{00278\ \ \ \ \ toggleBypass();}
\DoxyCodeLine{00279\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (result\ ==\ \mbox{\hyperlink{class_modulation_amount_knob_abd49d4d08421ea1ff78cba9f1a33d2a4ac3206db978807222f7130ce5aba603a5}{kToggleBipolar}})\ \{}
\DoxyCodeLine{00280\ \ \ \ \ bipolar\_\ =\ !bipolar\_;}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_modulation_amount_knob_1_1_listener}{Listener}}*\ listener\ :\ listeners\_)}
\DoxyCodeLine{00282\ \ \ \ \ \ \ listener-\/>setModulationBipolar(\textcolor{keyword}{this},\ bipolar\_);}
\DoxyCodeLine{00283\ \ \ \}}
\DoxyCodeLine{00284\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (result\ ==\ \mbox{\hyperlink{class_modulation_amount_knob_abd49d4d08421ea1ff78cba9f1a33d2a4adede8b620dc843e029083a17ab33cdff}{kToggleStereo}})\ \{}
\DoxyCodeLine{00285\ \ \ \ \ stereo\_\ =\ !stereo\_;}
\DoxyCodeLine{00286\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_modulation_amount_knob_1_1_listener}{Listener}}*\ listener\ :\ listeners\_)}
\DoxyCodeLine{00287\ \ \ \ \ \ \ listener-\/>setModulationStereo(\textcolor{keyword}{this},\ stereo\_);}
\DoxyCodeLine{00288\ \ \ \}}
\DoxyCodeLine{00289\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00290\ \ \ \ \ \mbox{\hyperlink{class_synth_slider_a9182c679039559128442bca015d74339}{handlePopupResult}}(result);}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \ \ \textcolor{keywordflow}{if}\ (result\ !=\ \mbox{\hyperlink{class_synth_slider_ad7d2815695ed57b1b51b3dd3db8f6661a6db09ca3763ba53db937a2d0b38be644}{kManualEntry}})\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_synth_slider_1_1_slider_listener}{SliderListener}}*\ listener\ :\ \mbox{\hyperlink{class_synth_slider_accda3e752d2f8171e6629166fefecc9e}{slider\_listeners\_}})}
\DoxyCodeLine{00294\ \ \ \ \ \ \ listener-\/>menuFinished(\textcolor{keyword}{this});}
\DoxyCodeLine{00295\ \ \ \}}
\DoxyCodeLine{00296\ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_a4d82f1f24e2a90df0686481d6ec98030}{ModulationAmountKnob::makeVisible}}(\textcolor{keywordtype}{bool}\ visible)\ \{}
\DoxyCodeLine{00299\ \ \ \textcolor{keywordflow}{if}\ (visible\ ==\ showing\_)}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ showing\_\ =\ visible;}
\DoxyCodeLine{00303\ \ \ setVisible(visible);}
\DoxyCodeLine{00304\ \ \ \mbox{\hyperlink{class_open_gl_slider_aafc75923f57ecc2e58f7ddc7b9de471d}{setAlpha}}((showing\_\ ||\ hovering\_)\ ?\ 1.0f\ :\ 0.0f);}
\DoxyCodeLine{00305\ \}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_aa41064b6a689015ae9bd87420fca7d7c}{ModulationAmountKnob::hideImmediately}}()\ \{}
\DoxyCodeLine{00308\ \ \ \mbox{\hyperlink{class_open_gl_slider_aafc75923f57ecc2e58f7ddc7b9de471d}{setAlpha}}(0.0f,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00309\ \ \ showing\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00310\ \ \ hovering\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00311\ \ \ setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{00312\ \}}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_aa0bda86e79e2bd8f1974f50a153cf1cb}{ModulationAmountKnob::setCurrentModulator}}(\textcolor{keywordtype}{bool}\ current)\ \{}
\DoxyCodeLine{00315\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_\ ==\ current)}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ setColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca8c4b65b04de5c483ef36c3e72fd06a5e}{Skin::kRotaryArc}},\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca9fa127348a0275767e6dae9c85536779}{Skin::kModulationMeterControl}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00319\ \ \ current\_modulator\_\ =\ current;}
\DoxyCodeLine{00320\ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_a75364e3e6badb91231ab0fedb548d7cf}{ModulationAmountKnob::setDestinationComponent}}(Component*\ component,\ \textcolor{keyword}{const}\ std::string\&\ name)\ \{}
\DoxyCodeLine{00323\ \ \ color\_component\_\ =\ component;}
\DoxyCodeLine{00324\ \ \ \mbox{\hyperlink{class_synth_slider_a83420c088eed319f0e37a16fc170050b}{setPopupPrefix}}(\mbox{\hyperlink{classvital_1_1_parameters_aeee59af635b0a9c234b1821bd2623c77}{vital::Parameters::getDisplayName}}(name)\ +\ \textcolor{stringliteral}{"{}:\ "{}});}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \textcolor{keywordflow}{if}\ (color\_component\_)}
\DoxyCodeLine{00327\ \ \ \ \ setColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca8c4b65b04de5c483ef36c3e72fd06a5e}{Skin::kRotaryArc}},\ color\_component\_-\/>findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca8c4b65b04de5c483ef36c3e72fd06a5e}{Skin::kRotaryArc}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00328\ \}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ Colour\ \mbox{\hyperlink{class_modulation_amount_knob_aba20dfd4fe1774b4e02bfb6d693075aa}{ModulationAmountKnob::getInternalColor}}()\ \{}
\DoxyCodeLine{00331\ \ \ \textcolor{keywordflow}{if}\ (color\_component\_)}
\DoxyCodeLine{00332\ \ \ \ \ \ \textcolor{keywordflow}{return}\ color\_component\_-\/>findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca8c4b65b04de5c483ef36c3e72fd06a5e}{Skin::kRotaryArc}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00333\ \ \ \textcolor{keywordflow}{return}\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca9fa127348a0275767e6dae9c85536779}{Skin::kModulationMeterControl}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00334\ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_amount_knob_a8417935990595455b9466889e0c61008}{ModulationAmountKnob::setSource}}(\textcolor{keyword}{const}\ std::string\&\ name)\ \{}
\DoxyCodeLine{00337\ \ \ \mbox{\hyperlink{class_synth_slider_a83420c088eed319f0e37a16fc170050b}{setPopupPrefix}}(\mbox{\hyperlink{class_modulation_matrix_a8e9769beea50bae8d38c6b6b692cf8d6}{ModulationMatrix::getMenuSourceDisplayName}}(name)\ +\ \textcolor{stringliteral}{"{}:\ "{}});}
\DoxyCodeLine{00338\ \ \ repaint();}
\DoxyCodeLine{00339\ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \mbox{\hyperlink{class_modulation_manager_a3a1b5112db56d4858fef476b966024b9}{ModulationManager::ModulationManager}}(}
\DoxyCodeLine{00342\ \ \ \ \ std::map<std::string,\ ModulationButton*>\ modulation\_buttons,}
\DoxyCodeLine{00343\ \ \ \ \ std::map<std::string,\ SynthSlider*>\ sliders,}
\DoxyCodeLine{00344\ \ \ \ \ \mbox{\hyperlink{namespacevital_a4f29d888b099153b9d0980a73fdc89aa}{vital::output\_map}}\ mono\_modulations,}
\DoxyCodeLine{00345\ \ \ \ \ \mbox{\hyperlink{namespacevital_a4f29d888b099153b9d0980a73fdc89aa}{vital::output\_map}}\ poly\_modulations)\ :\ \mbox{\hyperlink{class_synth_section}{SynthSection}}(\textcolor{stringliteral}{"{}modulation\_manager"{}}),}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ drag\_quad\_(\mbox{\hyperlink{class_shaders}{Shaders}}::kRingFragment),}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ current\_modulator\_quad\_(\mbox{\hyperlink{class_shaders}{Shaders}}::kRoundedRectangleBorderFragment),}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ editing\_rotary\_amount\_quad\_(\mbox{\hyperlink{class_shaders}{Shaders}}::kRotaryModulationFragment),}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ editing\_linear\_amount\_quad\_(\mbox{\hyperlink{class_shaders}{Shaders}}::kLinearModulationFragment),}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ modifying\_(false),\ dragging\_(false),\ changing\_hover\_modulation\_(false),}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ current\_modulator\_(nullptr)\ \{}
\DoxyCodeLine{00352\ \ \ current\_modulator\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a35c108ca44accfef5055ac8df84a579d}{setQuad}}(0,\ -\/1.0f,\ -\/1.0f,\ 2.0f,\ 2.0f);}
\DoxyCodeLine{00353\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a400b44f0d176e32e9a3014be91816808}{setTargetComponent}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00354\ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a400b44f0d176e32e9a3014be91816808}{setTargetComponent}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00355\ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a11c7d32833ea8910f9301d6c98e4daff}{setActive}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00356\ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a35c108ca44accfef5055ac8df84a579d}{setQuad}}(0,\ -\/1.0f,\ -\/1.0f,\ 2.0f,\ 2.0f);}
\DoxyCodeLine{00357\ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a400b44f0d176e32e9a3014be91816808}{setTargetComponent}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00358\ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a11c7d32833ea8910f9301d6c98e4daff}{setActive}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00359\ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a35c108ca44accfef5055ac8df84a579d}{setQuad}}(0,\ -\/1.0f,\ -\/1.0f,\ 2.0f,\ 2.0f);}
\DoxyCodeLine{00360\ \ \ \mbox{\hyperlink{class_synth_section_ab9933100200451490f83536ded0ba9f7}{addOpenGlComponent}}(\&modulation\_expansion\_box\_);}
\DoxyCodeLine{00361\ \ \ modulation\_expansion\_box\_.setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{00362\ \ \ modulation\_expansion\_box\_.setWantsKeyboardFocus(\textcolor{keyword}{true});}
\DoxyCodeLine{00363\ \ \ modulation\_expansion\_box\_.\mbox{\hyperlink{class_modulation_expansion_box_ab237d5847dadef3778ba968f98a03705}{addListener}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00364\ \ \ modulation\_expansion\_box\_.setAlwaysOnTop(\textcolor{keyword}{true});}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \ \ \mbox{\hyperlink{class_synth_section_ae4b092420f64f8d195dd2fdb406bfccf}{setSkinOverride}}(\mbox{\hyperlink{class_skin_aad31f2acbd13c67945c35857d1627c96ad9950be3018298c833b2a04b798eb847}{Skin::kModulationDragDrop}});}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00368\ \ \ last\_milliseconds\_\ =\ Time::currentTimeMillis();}
\DoxyCodeLine{00369\ \ \ current\_source\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00370\ \ \ current\_expanded\_modulation\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00371\ \ \ temporarily\_set\_destination\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00372\ \ \ temporarily\_set\_synth\_slider\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00373\ \ \ temporarily\_set\_hover\_slider\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00374\ \ \ temporarily\_set\_bipolar\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00375\ \ \ num\_voices\_readout\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ modulation\_buttons\_\ =\ modulation\_buttons;}
\DoxyCodeLine{00378\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ modulation\_button\ :\ modulation\_buttons\_)\ \{}
\DoxyCodeLine{00379\ \ \ \ \ modulation\_button.second-\/>addListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \ \ \ \ modulation\_callout\_buttons\_[modulation\_button.first]\ =\ std::make\_unique<ExpandModulationButton>();}
\DoxyCodeLine{00382\ \ \ \ \ addChildComponent(modulation\_callout\_buttons\_[modulation\_button.first].get());}
\DoxyCodeLine{00383\ \ \ \ \ \mbox{\hyperlink{class_synth_section_ab9933100200451490f83536ded0ba9f7}{addOpenGlComponent}}(modulation\_callout\_buttons\_[modulation\_button.first]-\/>getGlComponent());}
\DoxyCodeLine{00384\ \ \ \ \ modulation\_callout\_buttons\_[modulation\_button.first]-\/>addListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00385\ \ \ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ modulation\_source\_meters\_\ =\ std::make\_unique<BarRenderer>(modulation\_buttons.size());}
\DoxyCodeLine{00388\ \ \ modulation\_source\_meters\_-\/>setBarWidth(0.0f);}
\DoxyCodeLine{00389\ \ \ addAndMakeVisible(modulation\_source\_meters\_.get());}
\DoxyCodeLine{00390\ \ \ modulation\_source\_meters\_-\/>setInterceptsMouseClicks(\textcolor{keyword}{false},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \ \ setInterceptsMouseClicks(\textcolor{keyword}{false},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \ \ modulation\_destinations\_\ =\ std::make\_unique<Component>();}
\DoxyCodeLine{00395\ \ \ modulation\_destinations\_-\/>setInterceptsMouseClicks(\textcolor{keyword}{false},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \ \ slider\_model\_lookup\_\ =\ sliders;}
\DoxyCodeLine{00398\ \ \ std::map<Viewport*,\ int>\ num\_rotary\_meters;}
\DoxyCodeLine{00399\ \ \ std::map<Viewport*,\ int>\ num\_linear\_meters;}
\DoxyCodeLine{00400\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ slider\ :\ slider\_model\_lookup\_)\ \{}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keywordflow}{if}\ (mono\_modulations[slider.first])\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ rotary\ =\ slider.second-\/>isRotary()\ \&\&\ !slider.second-\/>isTextOrCurve();}
\DoxyCodeLine{00403\ \ \ \ \ \ \ Viewport*\ viewport\ =\ slider.second-\/>findParentComponentOfClass<Viewport>();}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rotary)}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ num\_rotary\_meters[viewport]\ =\ num\_rotary\_meters[viewport]\ +\ 1;}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ num\_linear\_meters[viewport]\ =\ num\_linear\_meters[viewport]\ +\ 1;}
\DoxyCodeLine{00408\ \ \ \ \ \}}
\DoxyCodeLine{00409\ \ \ \}}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_meters\ :\ num\_rotary\_meters)\ \{}
\DoxyCodeLine{00412\ \ \ \ \ rotary\_destinations\_[rotary\_meters.first]\ =\ std::make\_unique<OpenGlMultiQuad>(rotary\_meters.second,}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_shaders_a5deb64ed93eaa2d451f5fa1a82c74b45aeab19c866d33f7b81d7bc366d49169d7}{Shaders::kCircleFragment}});}
\DoxyCodeLine{00414\ \ \ \ \ rotary\_destinations\_[rotary\_meters.first]-\/>setTargetComponent(\textcolor{keyword}{this});}
\DoxyCodeLine{00415\ \ \ \ \ rotary\_destinations\_[rotary\_meters.first]-\/>setScissorComponent(rotary\_meters.first);}
\DoxyCodeLine{00416\ \ \ \ \ rotary\_destinations\_[rotary\_meters.first]-\/>setAlpha(0.0f,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00417\ }
\DoxyCodeLine{00418\ \ \ \ \ rotary\_meters\_[rotary\_meters.first]\ =\ std::make\_unique<OpenGlMultiQuad>(rotary\_meters.second,}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_shaders_a5deb64ed93eaa2d451f5fa1a82c74b45a694fbd27c24315c4418560ab3f308d73}{Shaders::kRotaryModulationFragment}});}
\DoxyCodeLine{00420\ \ \ \ \ rotary\_meters\_[rotary\_meters.first]-\/>setTargetComponent(\textcolor{keyword}{this});}
\DoxyCodeLine{00421\ \ \ \ \ rotary\_meters\_[rotary\_meters.first]-\/>setScissorComponent(rotary\_meters.first);}
\DoxyCodeLine{00422\ \ \ \}}
\DoxyCodeLine{00423\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_meters\ :\ num\_linear\_meters)\ \{}
\DoxyCodeLine{00424\ \ \ \ \ linear\_destinations\_[linear\_meters.first]\ =\ std::make\_unique<OpenGlMultiQuad>(linear\_meters.second,}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_shaders_a5deb64ed93eaa2d451f5fa1a82c74b45aa304d35136a7dc393d6d2c8db28d6ce3}{Shaders::kRoundedRectangleFragment}});}
\DoxyCodeLine{00426\ \ \ \ \ linear\_destinations\_[linear\_meters.first]-\/>setTargetComponent(\textcolor{keyword}{this});}
\DoxyCodeLine{00427\ \ \ \ \ linear\_destinations\_[linear\_meters.first]-\/>setScissorComponent(linear\_meters.first);}
\DoxyCodeLine{00428\ \ \ \ \ linear\_destinations\_[linear\_meters.first]-\/>setAlpha(0.0f,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \ \ linear\_meters\_[linear\_meters.first]\ =\ std::make\_unique<OpenGlMultiQuad>(linear\_meters.second,}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_shaders_a5deb64ed93eaa2d451f5fa1a82c74b45a0966a2ba50c4bac2e1dd8ec3184804d5}{Shaders::kLinearModulationFragment}});}
\DoxyCodeLine{00432\ \ \ \ \ linear\_meters\_[linear\_meters.first]-\/>setTargetComponent(\textcolor{keyword}{this});}
\DoxyCodeLine{00433\ \ \ \ \ linear\_meters\_[linear\_meters.first]-\/>setScissorComponent(linear\_meters.first);}
\DoxyCodeLine{00434\ \ \ \}}
\DoxyCodeLine{00435\ }
\DoxyCodeLine{00436\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ slider\ :\ slider\_model\_lookup\_)\ \{}
\DoxyCodeLine{00437\ \ \ \ \ std::string\ name\ =\ slider.first;}
\DoxyCodeLine{00438\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1_output}{vital::Output}}*\ mono\_total\ =\ mono\_modulations[name];}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{keywordflow}{if}\ (mono\_total\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00442\ }
\DoxyCodeLine{00443\ \ \ \ \ \textcolor{keywordtype}{bool}\ rotary\ =\ slider.second-\/>isRotary()\ \&\&\ !slider.second-\/>isTextOrCurve();}
\DoxyCodeLine{00444\ \ \ \ \ Viewport*\ viewport\ =\ slider.second-\/>findParentComponentOfClass<Viewport>();}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1_output}{vital::Output}}*\ poly\_total\ =\ poly\_modulations[name];}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \ \ \ \ \textcolor{keywordflow}{if}\ (rotary)\ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ num\_rotary\_meters[viewport]\ -\/\ 1;}
\DoxyCodeLine{00449\ \ \ \ \ \ \ num\_rotary\_meters[viewport]\ =\ index;}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a3cb506392e68287447f76c673a60aa3f}{createModulationMeter}}(mono\_total,\ poly\_total,\ slider.second,\ rotary\_meters\_[viewport].get(),\ index);}
\DoxyCodeLine{00451\ \ \ \ \ \}}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ num\_linear\_meters[viewport]\ -\/\ 1;}
\DoxyCodeLine{00454\ \ \ \ \ \ \ num\_linear\_meters[viewport]\ =\ index;}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a3cb506392e68287447f76c673a60aa3f}{createModulationMeter}}(mono\_total,\ poly\_total,\ slider.second,\ linear\_meters\_[viewport].get(),\ index);}
\DoxyCodeLine{00456\ \ \ \ \ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \ \ slider.second-\/>addSliderListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00459\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a864edbaf2d289dd01c283518c9c46fe4}{createModulationSlider}}(name,\ slider.second,\ poly\_total\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00460\ \ \ \}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ addChildComponent(modulation\_destinations\_.get());}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{00465\ \ \ \ \ std::string\ name\ =\ \textcolor{stringliteral}{"{}modulation\_"{}}\ +\ std::to\_string(i\ +\ 1)\ +\ \textcolor{stringliteral}{"{}\_amount"{}};}
\DoxyCodeLine{00466\ \ \ \ \ modulation\_amount\_sliders\_[i]\ =\ std::make\_unique<ModulationAmountKnob>(name,\ i);}
\DoxyCodeLine{00467\ \ \ \ \ modulation\_amount\_sliders\_[i]-\/>setSliderStyle(Slider::RotaryHorizontalVerticalDrag);}
\DoxyCodeLine{00468\ \ \ \ \ \mbox{\hyperlink{class_synth_section_a181a568bf38b29974c7c18ebc9cb8c04}{addSlider}}(modulation\_amount\_sliders\_[i].get());}
\DoxyCodeLine{00469\ \ \ \ \ modulation\_amount\_sliders\_[i]-\/>addSliderListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00470\ \ \ \ \ modulation\_amount\_sliders\_[i]-\/>addModulationAmountListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00471\ \ \ \ \ modulation\_amount\_lookup\_[name]\ =\ modulation\_amount\_sliders\_[i].get();}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \ \ modulation\_hover\_sliders\_[i]\ =\ std::make\_unique<ModulationAmountKnob>(name,\ i);}
\DoxyCodeLine{00474\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>setSliderStyle(Slider::RotaryHorizontalVerticalDrag);}
\DoxyCodeLine{00475\ \ \ \ \ \mbox{\hyperlink{class_synth_section_a181a568bf38b29974c7c18ebc9cb8c04}{addSlider}}(modulation\_hover\_sliders\_[i].get());}
\DoxyCodeLine{00476\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>setAlpha(0.0f,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00477\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>addSliderListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00478\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>addModulationAmountListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00479\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>setDrawWhenNotVisible(\textcolor{keyword}{true});}
\DoxyCodeLine{00480\ }
\DoxyCodeLine{00481\ \ \ \ \ selected\_modulation\_sliders\_[i]\ =\ std::make\_unique<ModulationAmountKnob>(name,\ i);}
\DoxyCodeLine{00482\ \ \ \ \ selected\_modulation\_sliders\_[i]-\/>setSliderStyle(Slider::RotaryHorizontalVerticalDrag);}
\DoxyCodeLine{00483\ \ \ \ \ \mbox{\hyperlink{class_synth_section_a181a568bf38b29974c7c18ebc9cb8c04}{addSlider}}(selected\_modulation\_sliders\_[i].get());}
\DoxyCodeLine{00484\ \ \ \ \ selected\_modulation\_sliders\_[i]-\/>setAlpha(0.0f,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00485\ \ \ \ \ selected\_modulation\_sliders\_[i]-\/>addSliderListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00486\ \ \ \ \ selected\_modulation\_sliders\_[i]-\/>addModulationAmountListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00487\ \ \ \ \ selected\_modulation\_sliders\_[i]-\/>setDrawWhenNotVisible(\textcolor{keyword}{true});}
\DoxyCodeLine{00488\ \ \ \}}
\DoxyCodeLine{00489\ \}}
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00491\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a3cb506392e68287447f76c673a60aa3f}{ModulationManager::createModulationMeter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1_output}{vital::Output}}*\ mono\_total,}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1_output}{vital::Output}}*\ poly\_total,}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider,\ \mbox{\hyperlink{class_open_gl_multi_quad}{OpenGlMultiQuad}}*\ quads,\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00494\ \ \ std::string\ name\ =\ slider-\/>getName().toStdString();}
\DoxyCodeLine{00495\ \ \ std::unique\_ptr<ModulationMeter>\ meter\ =\ std::make\_unique<ModulationMeter>(mono\_total,\ poly\_total,}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ slider,\ quads,\ index);}
\DoxyCodeLine{00497\ \ \ addChildComponent(meter.get());}
\DoxyCodeLine{00498\ \ \ meter-\/>setName(name);}
\DoxyCodeLine{00499\ \ \ meter-\/>setBounds(getLocalArea(slider,\ slider-\/>getLocalBounds()));}
\DoxyCodeLine{00500\ \ \ meter\_lookup\_[name]\ =\ std::move(meter);}
\DoxyCodeLine{00501\ \}}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00503\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a864edbaf2d289dd01c283518c9c46fe4}{ModulationManager::createModulationSlider}}(std::string\ name,\ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider,\ \textcolor{keywordtype}{bool}\ poly)\ \{}
\DoxyCodeLine{00504\ \ \ std::unique\_ptr<ModulationDestination>\ destination\ =\ std::make\_unique<ModulationDestination>(slider);}
\DoxyCodeLine{00505\ \ \ modulation\_destinations\_-\/>addAndMakeVisible(destination.get());}
\DoxyCodeLine{00506\ \ \ destination-\/>setRectangle(slider-\/>\mbox{\hyperlink{class_open_gl_slider_a4b3ac6a2a46dcaaa025f584ad26b7199}{isTextOrCurve}}());}
\DoxyCodeLine{00507\ \ \ destination-\/>setRotary(slider-\/>isRotary());}
\DoxyCodeLine{00508\ \ \ destination-\/>setSizeMultiple(slider-\/>\mbox{\hyperlink{class_synth_slider_ad6509e8bd04446614caa9e25a8b50121}{getKnobSizeScale}}());}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00510\ \ \ destination\_lookup\_[name]\ =\ destination.get();}
\DoxyCodeLine{00511\ \ \ all\_destinations\_.push\_back(std::move(destination));}
\DoxyCodeLine{00512\ \}}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \mbox{\hyperlink{class_modulation_manager_a9b7fc3b6478c9bfa4a53fde9ff0ea3e1}{ModulationManager::\string~ModulationManager}}()\ \{\ \}}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00516\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a34a206b73236702a58d278c06e630dee}{ModulationManager::resized}}()\ \{}
\DoxyCodeLine{00517\ \ \ \textcolor{keywordtype}{float}\ meter\_thickness\ =\ \mbox{\hyperlink{class_synth_section_aa01a2cf1cb512707d217490aa89a8b2f}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180a00a2cbc7e59b07080189f490b2ed5667}{Skin::kKnobModMeterArcThickness}});}
\DoxyCodeLine{00518\ \ \ Colour\ meter\_center\_color\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca158cd2f3b1cb67cd1c34aa0b98aa09e5}{Skin::kModulationMeter}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00519\ \ \ Colour\ meter\_left\_color\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca48a85809fb0f5efac1a8330eee8bd2f6}{Skin::kModulationMeterLeft}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00520\ \ \ Colour\ meter\_right\_color\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca0830fddc90a4b20fc5cb6088ac55e414}{Skin::kModulationMeterRight}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00522\ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a706334ae3e0b28b38b729132dea195e2}{setColor}}(meter\_center\_color);}
\DoxyCodeLine{00523\ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a46dfe42ce452467df0b7b2faeee64c03}{setAltColor}}(meter\_center\_color);}
\DoxyCodeLine{00524\ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_add0813047283a9f0eeee573f926a920c}{setModColor}}(meter\_center\_color);}
\DoxyCodeLine{00525\ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a706334ae3e0b28b38b729132dea195e2}{setColor}}(meter\_center\_color);}
\DoxyCodeLine{00526\ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a46dfe42ce452467df0b7b2faeee64c03}{setAltColor}}(meter\_center\_color);}
\DoxyCodeLine{00527\ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_add0813047283a9f0eeee573f926a920c}{setModColor}}(meter\_center\_color);}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00529\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_meter\_group\ :\ rotary\_meters\_)\ \{}
\DoxyCodeLine{00530\ \ \ \ \ rotary\_meter\_group.second-\/>setThickness(meter\_thickness);}
\DoxyCodeLine{00531\ \ \ \ \ rotary\_meter\_group.second-\/>setModColor(meter\_center\_color);}
\DoxyCodeLine{00532\ \ \ \ \ rotary\_meter\_group.second-\/>setColor(meter\_left\_color);}
\DoxyCodeLine{00533\ \ \ \ \ rotary\_meter\_group.second-\/>setAltColor(meter\_right\_color);}
\DoxyCodeLine{00534\ \ \ \}}
\DoxyCodeLine{00535\ }
\DoxyCodeLine{00536\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_meter\_group\ :\ linear\_meters\_)\ \{}
\DoxyCodeLine{00537\ \ \ \ \ linear\_meter\_group.second-\/>setModColor(meter\_center\_color);}
\DoxyCodeLine{00538\ \ \ \ \ linear\_meter\_group.second-\/>setColor(meter\_left\_color);}
\DoxyCodeLine{00539\ \ \ \ \ linear\_meter\_group.second-\/>setAltColor(meter\_right\_color);}
\DoxyCodeLine{00540\ \ \ \}}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \ \ modulation\_destinations\_-\/>setBounds(getLocalBounds());}
\DoxyCodeLine{00543\ \ \ modulation\_source\_meters\_-\/>setBounds(getLocalBounds());}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \ \ \mbox{\hyperlink{class_modulation_manager_acdbd28e1ba36f5b53ab2437345e5d56d}{updateModulationMeterLocations}}();}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00547\ \ \ Colour\ meter\_control\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca9fa127348a0275767e6dae9c85536779}{Skin::kModulationMeterControl}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00548\ \ \ current\_modulator\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a706334ae3e0b28b38b729132dea195e2}{setColor}}(meter\_control);}
\DoxyCodeLine{00549\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a706334ae3e0b28b38b729132dea195e2}{setColor}}(meter\_control);}
\DoxyCodeLine{00550\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a46dfe42ce452467df0b7b2faeee64c03}{setAltColor}}(findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca5a30a22b4659bc04528e89d1759558a7}{Skin::kWidgetBackground}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00551\ }
\DoxyCodeLine{00552\ \ \ modulation\_expansion\_box\_.\mbox{\hyperlink{class_open_gl_multi_quad_a706334ae3e0b28b38b729132dea195e2}{setColor}}(findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127caffad88f44cd2bcaaf60dbe0032955def}{Skin::kBody}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00554\ \ \ Colour\ lighten\_screen\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca77726fb0fd1587bfcc4b4b51e51ca61a}{Skin::kLightenScreen}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00555\ \ \ \textcolor{keywordtype}{float}\ rounding\ =\ \mbox{\hyperlink{class_synth_section_ad3284eddb286b40516ccb36e38463685}{parent\_}}-\/>\mbox{\hyperlink{class_synth_section_aa01a2cf1cb512707d217490aa89a8b2f}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180aa1b3bea00a02a7c9ce9f4e8f4afc4a7e}{Skin::kLabelBackgroundRounding}});}
\DoxyCodeLine{00556\ }
\DoxyCodeLine{00557\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_destination\_group\ :\ rotary\_destinations\_)}
\DoxyCodeLine{00558\ \ \ \ \ rotary\_destination\_group.second-\/>setColor(lighten\_screen);}
\DoxyCodeLine{00559\ }
\DoxyCodeLine{00560\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_destination\_group\ :\ linear\_destinations\_)\ \{}
\DoxyCodeLine{00561\ \ \ \ \ linear\_destination\_group.second-\/>setColor(lighten\_screen);}
\DoxyCodeLine{00562\ \ \ \ \ linear\_destination\_group.second-\/>setRounding(rounding);}
\DoxyCodeLine{00563\ \ \ \}}
\DoxyCodeLine{00564\ }
\DoxyCodeLine{00565\ \ \ \mbox{\hyperlink{class_synth_section_a549f91a2b81b419368a578990cb2e6c2}{SynthSection::resized}}();}
\DoxyCodeLine{00566\ \ \ \mbox{\hyperlink{class_modulation_manager_a4dce597d06fae32abf784f805feebeb8}{clearModulationSource}}();}
\DoxyCodeLine{00567\ \ \ positionModulationAmountSliders();}
\DoxyCodeLine{00568\ \}}
\DoxyCodeLine{00569\ }
\DoxyCodeLine{00570\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ac6c63cdd2992fd715151466d9603e00a}{ModulationManager::parentHierarchyChanged}}()\ \{}
\DoxyCodeLine{00571\ \ \ SynthSection::parentHierarchyChanged();}
\DoxyCodeLine{00572\ \ \ \textcolor{keywordflow}{if}\ (!modulation\_source\_readouts\_.empty())}
\DoxyCodeLine{00573\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00575\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{00576\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00578\ }
\DoxyCodeLine{00579\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ mod\_button\ :\ modulation\_buttons\_)\ \{}
\DoxyCodeLine{00580\ \ \ \ \ modulation\_source\_readouts\_[mod\_button.first]\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_add97643be1ba341314ac1b158206dc4b}{getStatusOutput}}(mod\_button.first);}
\DoxyCodeLine{00581\ \ \ \ \ smooth\_mod\_values\_[mod\_button.first]\ =\ 0.0f;}
\DoxyCodeLine{00582\ \ \ \ \ active\_mod\_values\_[mod\_button.first]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00583\ \ \ \}}
\DoxyCodeLine{00584\ }
\DoxyCodeLine{00585\ \ \ num\_voices\_readout\_\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_add97643be1ba341314ac1b158206dc4b}{getStatusOutput}}(\textcolor{stringliteral}{"{}num\_voices"{}});}
\DoxyCodeLine{00586\ \}}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00588\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_acdbd28e1ba36f5b53ab2437345e5d56d}{ModulationManager::updateModulationMeterLocations}}()\ \{}
\DoxyCodeLine{00589\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00591\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ meter\ :\ meter\_lookup\_)\ \{}
\DoxyCodeLine{00592\ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ model\ =\ slider\_model\_lookup\_[meter.first];}
\DoxyCodeLine{00593\ \ \ \ \ \textcolor{keywordflow}{if}\ (model)}
\DoxyCodeLine{00594\ \ \ \ \ \ \ meter.second-\/>setBounds(getLocalArea(model,\ model-\/>\mbox{\hyperlink{class_synth_slider_a6f253f39dbd7f3908910be2cec662ead}{getModulationMeterBounds}}()));}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{keywordflow}{if}\ (parent)\ \{}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_modulations\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_ab4da79e8c15272c05163a8e2db8b9d62}{getNumModulations}}(meter.first);}
\DoxyCodeLine{00598\ \ \ \ \ \ \ meter.second-\/>setModulated(num\_modulations);}
\DoxyCodeLine{00599\ \ \ \ \ \ \ meter.second-\/>setVisible(num\_modulations);}
\DoxyCodeLine{00600\ \ \ \ \ \}}
\DoxyCodeLine{00601\ \ \ \}}
\DoxyCodeLine{00602\ \}}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00604\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a30daed767b72230d38b6a68f0950a8d0}{ModulationManager::modulationAmountChanged}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{00605\ \ \ std::string\ slider\_name\ =\ slider-\/>getName().toStdString();}
\DoxyCodeLine{00606\ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{00607\ \ \ \mbox{\hyperlink{class_modulation_manager_aeca92ae8dba7a73918f4941d13d57daa}{setModulationValues}}(source\_name,\ slider\_name,}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ slider-\/>\mbox{\hyperlink{class_open_gl_slider_a383d570bb62cbf2b17215c8fd6215c11}{getModulationAmount}}(),\ slider-\/>\mbox{\hyperlink{class_synth_slider_ae04c1469fb42941076209ff6643245f8}{isModulationBipolar}}(),}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ slider-\/>\mbox{\hyperlink{class_synth_slider_a9ea3f740df7cc18206c89298d0e7966e}{isModulationStereo}}(),\ slider-\/>\mbox{\hyperlink{class_synth_slider_a52f027001ebf5a8033f8030a81db744d}{isModulationBypassed}}());}
\DoxyCodeLine{00610\ \ \ modulation\_buttons\_[source\_name]-\/>repaint();}
\DoxyCodeLine{00611\ \}}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00613\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ac41109dc67cff20489e143510d55480f}{ModulationManager::modulationRemoved}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{00614\ \ \ std::string\ slider\_name\ =\ slider-\/>getName().toStdString();}
\DoxyCodeLine{00615\ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00617\ \ \ \mbox{\hyperlink{class_modulation_manager_a1b890e56905a20d412a673538eabc2c4}{removeModulation}}(source\_name,\ slider\_name);}
\DoxyCodeLine{00618\ \ \ modulation\_buttons\_[source\_name]-\/>repaint();}
\DoxyCodeLine{00619\ \}}
\DoxyCodeLine{00620\ }
\DoxyCodeLine{00621\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_abcd01d270af0259f02c8a9276eba8f0d}{ModulationManager::modulationDisconnected}}(\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection,\ \textcolor{keywordtype}{bool}\ last)\ \{}
\DoxyCodeLine{00622\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00623\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00624\ }
\DoxyCodeLine{00625\ \ \ \textcolor{keywordflow}{if}\ (meter\_lookup\_.count(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}))\ \{}
\DoxyCodeLine{00626\ \ \ \ \ meter\_lookup\_[connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}]-\/>setModulated(!last);}
\DoxyCodeLine{00627\ \ \ \ \ meter\_lookup\_[connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}]-\/>setVisible(!last);}
\DoxyCodeLine{00628\ \ \ \}}
\DoxyCodeLine{00629\ \}}
\DoxyCodeLine{00630\ }
\DoxyCodeLine{00631\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a4c21b08d0e8ab3596af0559b5f2ceeef}{ModulationManager::modulationSelected}}(\mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ source)\ \{}
\DoxyCodeLine{00632\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ button\ :\ modulation\_buttons\_)}
\DoxyCodeLine{00633\ \ \ \ \ button.second-\/>setActiveModulation(button.second\ ==\ source);}
\DoxyCodeLine{00634\ }
\DoxyCodeLine{00635\ \ \ current\_modulator\_\ =\ source;}
\DoxyCodeLine{00636\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ hover\_slider\ :\ modulation\_hover\_sliders\_)}
\DoxyCodeLine{00637\ \ \ \ \ hover\_slider-\/>makeVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{00638\ \ \ makeCurrentModulatorAmountsVisible();}
\DoxyCodeLine{00639\ \ \ \mbox{\hyperlink{class_modulation_manager_a9d6158c243e5044fcd791e80c00b191d}{setModulationAmounts}}();}
\DoxyCodeLine{00640\ \ \ positionModulationAmountSliders();}
\DoxyCodeLine{00641\ \}}
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00643\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_aa1490c886d678737440a6d4619142525}{ModulationManager::modulationClicked}}(\mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ source)\ \{}
\DoxyCodeLine{00644\ \ \ \mbox{\hyperlink{class_modulation_manager_a8e27c3371d85ea1f4882f08cf6347d57}{hideUnusedHoverModulations}}();}
\DoxyCodeLine{00645\ \ \ positionModulationAmountSliders();}
\DoxyCodeLine{00646\ \}}
\DoxyCodeLine{00647\ }
\DoxyCodeLine{00648\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a607828e49d903ccd5eb41de72041667c}{ModulationManager::modulationCleared}}()\ \{}
\DoxyCodeLine{00649\ \ \ makeCurrentModulatorAmountsVisible();}
\DoxyCodeLine{00650\ \}}
\DoxyCodeLine{00651\ }
\DoxyCodeLine{00652\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_modulation_manager_ad135f2ff43aac2fa4b63b4fdac13dadd}{ModulationManager::hasFreeConnection}}()\ \{}
\DoxyCodeLine{00653\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{00654\ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{vital::ModulationConnectionBank}}\&\ bank\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}();}
\DoxyCodeLine{00655\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{00656\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i);}
\DoxyCodeLine{00657\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}.empty()\ \&\&\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}.empty())}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00659\ \ \ \}}
\DoxyCodeLine{00660\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00661\ \}}
\DoxyCodeLine{00662\ }
\DoxyCodeLine{00663\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a4273943500c29857d755ce1dc3bd5de2}{ModulationManager::startModulationMap}}(\mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ source,\ \textcolor{keyword}{const}\ MouseEvent\&\ e)\ \{}
\DoxyCodeLine{00664\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_modulation_manager_ad135f2ff43aac2fa4b63b4fdac13dadd}{hasFreeConnection}}())}
\DoxyCodeLine{00665\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00666\ }
\DoxyCodeLine{00667\ \ \ mouse\_drag\_position\_\ =\ getLocalPoint(source,\ e.getPosition());}
\DoxyCodeLine{00668\ \ \ current\_source\_\ =\ source;}
\DoxyCodeLine{00669\ \ \ dragging\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00670\ \ \ Rectangle<int>\ global\_bounds\ =\ getLocalArea(current\_source\_,\ current\_source\_-\/>getLocalBounds());}
\DoxyCodeLine{00671\ \ \ Point<int>\ global\_start\ =\ global\_bounds.getCentre();}
\DoxyCodeLine{00672\ \ \ mouse\_drag\_start\_\ =\ global\_start;}
\DoxyCodeLine{00673\ \ \ modulation\_destinations\_-\/>setVisible(\textcolor{keyword}{true});}
\DoxyCodeLine{00674\ \ \ \textcolor{keywordtype}{int}\ widget\_margin\ =\ \mbox{\hyperlink{class_synth_section_aa01a2cf1cb512707d217490aa89a8b2f}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180a045e9e21484c2d32d7835f44c7c161f9}{Skin::kWidgetMargin}});}
\DoxyCodeLine{00675\ }
\DoxyCodeLine{00676\ \ \ std::map<Viewport*,\ int>\ rotary\_indices;}
\DoxyCodeLine{00677\ \ \ std::map<Viewport*,\ int>\ linear\_indices;}
\DoxyCodeLine{00678\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_destination\_group\ :\ rotary\_destinations\_)}
\DoxyCodeLine{00679\ \ \ \ \ rotary\_indices[rotary\_destination\_group.first]\ =\ 0;}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_destination\_group\ :\ linear\_destinations\_)}
\DoxyCodeLine{00682\ \ \ \ \ linear\_indices[linear\_destination\_group.first]\ =\ 0;}
\DoxyCodeLine{00683\ }
\DoxyCodeLine{00684\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{00685\ \ \ std::string\ source\_name\ =\ source-\/>getName().toStdString();}
\DoxyCodeLine{00686\ \ \ std::set<std::string>\ active\_destinations;}
\DoxyCodeLine{00687\ \ \ std::vector<vital::ModulationConnection*>\ connections\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a129a3dc3855b4a3c9bdab2266e33c275}{getSourceConnections}}(source\_name);}
\DoxyCodeLine{00688\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ connections)}
\DoxyCodeLine{00689\ \ \ \ \ active\_destinations.insert(connection-\/>destination\_name);}
\DoxyCodeLine{00690\ }
\DoxyCodeLine{00691\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ destination\ :\ destination\_lookup\_)\ \{}
\DoxyCodeLine{00692\ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ model\ =\ slider\_model\_lookup\_[destination.first];}
\DoxyCodeLine{00693\ \ \ \ \ \textcolor{keywordtype}{bool}\ should\_show\ =\ model-\/>isShowing()\ \&\&\ model-\/>\mbox{\hyperlink{class_open_gl_slider_a951a9143d7a5d4141fb1d4e6b2750271}{getSectionParent}}()-\/>\mbox{\hyperlink{class_synth_section_aa69758e37d2860da80a1d6acdea0b419}{isActive}}()\ \&\&}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ current\_source\_-\/>getName()\ !=\ String(destination.first);}
\DoxyCodeLine{00695\ \ \ \ \ Viewport*\ viewport\ =\ model-\/>findParentComponentOfClass<Viewport>();}
\DoxyCodeLine{00696\ \ \ \ \ destination.second-\/>setVisible(should\_show);}
\DoxyCodeLine{00697\ \ \ \ \ destination.second-\/>\mbox{\hyperlink{class_open_gl_slider_a6331f5ea70fe55ab6fe6ec36de75e158}{setActive}}(active\_destinations.count(destination.first));}
\DoxyCodeLine{00698\ \ \ \ \ destination.second-\/>setMargin(widget\_margin);}
\DoxyCodeLine{00699\ }
\DoxyCodeLine{00700\ \ \ \ \ Point<int>\ position\ =\ getLocalPoint(model,\ Point<int>(0,\ 0));}
\DoxyCodeLine{00701\ \ \ \ \ Rectangle<int>\ slider\_bounds\ =\ model-\/>getLocalBounds()\ +\ position;}
\DoxyCodeLine{00702\ \ \ \ \ destination.second-\/>setBounds(slider\_bounds);}
\DoxyCodeLine{00703\ }
\DoxyCodeLine{00704\ \ \ \ \ Component*\ extra\_target\ =\ model-\/>\mbox{\hyperlink{class_synth_slider_a963c4927ebb44f2e51565705b106c361}{getExtraModulationTarget}}();}
\DoxyCodeLine{00705\ \ \ \ \ \textcolor{keywordflow}{if}\ (extra\_target)\ \{}
\DoxyCodeLine{00706\ \ \ \ \ \ \ Rectangle<int>\ bounds\ =\ destination.second-\/>getFillBounds().toNearestInt()\ +\ position;}
\DoxyCodeLine{00707\ }
\DoxyCodeLine{00708\ \ \ \ \ \ \ Point<int>\ top\_left\ =\ getLocalPoint(extra\_target,\ Point<int>(0,\ 0));}
\DoxyCodeLine{00709\ \ \ \ \ \ \ Rectangle<int>\ extra\_bounds(top\_left.x,\ top\_left.y,\ extra\_target-\/>getWidth(),\ extra\_target-\/>getHeight());}
\DoxyCodeLine{00710\ \ \ \ \ \ \ bounds\ =\ bounds.getUnion(extra\_bounds);}
\DoxyCodeLine{00711\ \ \ \ \ \ \ destination.second-\/>setBounds(bounds);}
\DoxyCodeLine{00712\ \ \ \ \ \}}
\DoxyCodeLine{00713\ }
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{keywordflow}{if}\ (should\_show)\ \{}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (destination.second-\/>isRotary())\ \{}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ destination.second-\/>setIndex(rotary\_indices[viewport]);}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ rotary\_indices[viewport]\ =\ rotary\_indices[viewport]\ +\ 1;}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ destination.second-\/>setIndex(linear\_indices[viewport]);}
\DoxyCodeLine{00721\ \ \ \ \ \ \ \ \ linear\_indices[viewport]\ =\ linear\_indices[viewport]\ +\ 1;}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00723\ \ \ \ \ \ \ setDestinationQuadBounds(destination.second);}
\DoxyCodeLine{00724\ \ \ \ \ \}}
\DoxyCodeLine{00725\ \ \ \}}
\DoxyCodeLine{00726\ }
\DoxyCodeLine{00727\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ index\_count\ :\ rotary\_indices)\ \{}
\DoxyCodeLine{00728\ \ \ \ \ rotary\_destinations\_[index\_count.first]-\/>setNumQuads(index\_count.second);}
\DoxyCodeLine{00729\ \ \ \ \ rotary\_destinations\_[index\_count.first]-\/>setAlpha(index\_count.second\ >\ 0\ ?\ 1.0f\ :\ 0.0f);}
\DoxyCodeLine{00730\ \ \ \}}
\DoxyCodeLine{00731\ }
\DoxyCodeLine{00732\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ index\_count\ :\ linear\_indices)\ \{}
\DoxyCodeLine{00733\ \ \ \ \ linear\_destinations\_[index\_count.first]-\/>setNumQuads(index\_count.second);}
\DoxyCodeLine{00734\ \ \ \ \ linear\_destinations\_[index\_count.first]-\/>setAlpha(index\_count.second\ >\ 0\ ?\ 1.0f\ :\ 0.0f);}
\DoxyCodeLine{00735\ \ \ \}}
\DoxyCodeLine{00736\ \}}
\DoxyCodeLine{00737\ }
\DoxyCodeLine{00738\ \textcolor{keywordtype}{void}\ ModulationManager::setDestinationQuadBounds(\mbox{\hyperlink{class_modulation_destination}{ModulationDestination}}*\ destination)\ \{}
\DoxyCodeLine{00739\ \ \ Point<float>\ top\_left\ =\ destination-\/>getBounds().getTopLeft().toFloat();}
\DoxyCodeLine{00740\ \ \ Rectangle<float>\ draw\_bounds\ =\ destination-\/>getLocalBounds().toFloat()\ +\ top\_left;}
\DoxyCodeLine{00741\ \ \ \textcolor{keywordflow}{if}\ (!destination-\/>\mbox{\hyperlink{class_modulation_destination_a953330e707ee15850206db728e95e904}{hasExtraModulationTarget}}())}
\DoxyCodeLine{00742\ \ \ \ \ draw\_bounds\ =\ destination-\/>\mbox{\hyperlink{class_modulation_destination_adb356eada8c6e8e8d682116d4673d13a}{getFillBounds}}()\ +\ top\_left;}
\DoxyCodeLine{00743\ \ \ \textcolor{keywordtype}{float}\ global\_width\ =\ getWidth();}
\DoxyCodeLine{00744\ \ \ \textcolor{keywordtype}{float}\ global\_height\ =\ getHeight();}
\DoxyCodeLine{00745\ \ \ \textcolor{keywordtype}{float}\ x\ =\ 2.0f\ *\ draw\_bounds.getX()\ /\ global\_width\ -\/\ 1.0f;}
\DoxyCodeLine{00746\ \ \ \textcolor{keywordtype}{float}\ y\ =\ 1.0f\ -\/\ 2.0f\ *\ draw\_bounds.getBottom()\ /\ global\_height;}
\DoxyCodeLine{00747\ \ \ \textcolor{keywordtype}{float}\ width\ =\ 2.0f\ *\ draw\_bounds.getWidth()\ /\ global\_width;}
\DoxyCodeLine{00748\ \ \ \textcolor{keywordtype}{float}\ height\ =\ 2.0f\ *\ draw\_bounds.getHeight()\ /\ global\_height;}
\DoxyCodeLine{00749\ }
\DoxyCodeLine{00750\ \ \ \textcolor{keywordtype}{float}\ offset\ =\ destination-\/>\mbox{\hyperlink{class_modulation_destination_a0f6ed784dafe3995d9316ff915e6739d}{isActive}}()\ ?\ -\/2.0f\ :\ 0.0f;}
\DoxyCodeLine{00751\ }
\DoxyCodeLine{00752\ \ \ Viewport*\ viewport\ =\ destination-\/>\mbox{\hyperlink{class_modulation_destination_af80e09a0bdcb48ba4fd7ad4f75072b8d}{getDestinationSlider}}()-\/>findParentComponentOfClass<Viewport>();}
\DoxyCodeLine{00753\ \ \ \textcolor{keywordflow}{if}\ (destination-\/>\mbox{\hyperlink{class_modulation_destination_ab923cb17860a357eab78c8c08b51141c}{isRotary}}())}
\DoxyCodeLine{00754\ \ \ \ \ rotary\_destinations\_[viewport]-\/>setQuad(destination-\/>\mbox{\hyperlink{class_modulation_destination_aacb48928e4601e2f6b4246c71657b754}{getIndex}}(),\ x\ +\ offset,\ y,\ width,\ height);}
\DoxyCodeLine{00755\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00756\ \ \ \ \ linear\_destinations\_[viewport]-\/>setQuad(destination-\/>\mbox{\hyperlink{class_modulation_destination_aacb48928e4601e2f6b4246c71657b754}{getIndex}}(),\ x\ +\ offset,\ y,\ width,\ height);}
\DoxyCodeLine{00757\ \}}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a6c8526d8c8183fc658ec361f41ca9b57}{ModulationManager::modulationDraggedToHoverSlider}}(\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ hover\_slider)\ \{}
\DoxyCodeLine{00760\ \ \ \textcolor{keywordflow}{if}\ (hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a33fd539ccab8d75c269634a5d1a45438}{isCurrentModulator}}()\ ||\ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a8e1719384cd10246d26f2c2f7d738758}{hasAux}}()\ ||\ current\_modulator\_\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00761\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00762\ }
\DoxyCodeLine{00763\ \ \ std::string\ name\ =\ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a41e27fe853e91995c09a6c5cb9148de2}{getOriginalName}}().toStdString();}
\DoxyCodeLine{00764\ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{00765\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{getConnection}}(source\_name,\ name);}
\DoxyCodeLine{00766\ \ \ \textcolor{keywordflow}{if}\ (connection\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00767\ \ \ \ \ \textcolor{keywordtype}{float}\ value\ =\ hover\_slider-\/>getValue()\ *\ 0.5f;}
\DoxyCodeLine{00768\ \ \ \ \ hover\_slider-\/>setValue(0.0f,\ sendNotificationSync);}
\DoxyCodeLine{00769\ \ \ \ \ temporarily\_set\_hover\_slider\_\ =\ hover\_slider;}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a78b72fbb1c5dbb961f486306e8057281}{connectModulation}}(source\_name,\ name);}
\DoxyCodeLine{00772\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_aeca92ae8dba7a73918f4941d13d57daa}{setModulationValues}}(source\_name,\ name,\ value,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00773\ \ \ \ \ connection\ =\ \mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{getConnection}}(source\_name,\ name);}
\DoxyCodeLine{00774\ }
\DoxyCodeLine{00775\ \ \ \ \ \textcolor{keywordtype}{int}\ new\_index\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{00776\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_aab0ba6aaac1b48759aa3df352034f26a}{addAuxConnection}}(new\_index,\ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a73e6021f410fe3ca73b52251272610b0}{index}}());}
\DoxyCodeLine{00777\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a3e8e1ba31f8ebc56d84eb984b1a15ad3}{setModulationSliderValues}}(new\_index,\ value);}
\DoxyCodeLine{00778\ \ \ \}}
\DoxyCodeLine{00779\ \}}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ac4f7e405cf3bd97400eee7bc2741ad82}{ModulationManager::modulationDraggedToComponent}}(Component*\ component,\ \textcolor{keywordtype}{bool}\ bipolar)\ \{}
\DoxyCodeLine{00782\ \ \ \textcolor{keywordflow}{if}\ (component\ \&\&\ current\_modulator\_\ \&\&\ destination\_lookup\_.count(component-\/>getName().toStdString()))\ \{}
\DoxyCodeLine{00783\ \ \ \ \ std::string\ name\ =\ component-\/>getName().toStdString();}
\DoxyCodeLine{00784\ }
\DoxyCodeLine{00785\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{getConnection}}(current\_modulator\_-\/>getName().toStdString(),\ name)\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00786\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_destination}{ModulationDestination}}*\ destination\ =\ destination\_lookup\_[name];}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider\ =\ destination-\/>\mbox{\hyperlink{class_modulation_destination_af80e09a0bdcb48ba4fd7ad4f75072b8d}{getDestinationSlider}}();}
\DoxyCodeLine{00788\ }
\DoxyCodeLine{00789\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ percent\ =\ slider-\/>valueToProportionOfLength(slider-\/>getValue());}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ modulation\_amount\ =\ 1.0f\ -\/\ percent;}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bipolar)}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ modulation\_amount\ =\ std::min(modulation\_amount,\ percent)\ *\ 2.0f;}
\DoxyCodeLine{00793\ \ \ \ \ \ \ modulation\_amount\ =\ std::max(modulation\_amount,\ kDefaultModulationRatio);}
\DoxyCodeLine{00794\ }
\DoxyCodeLine{00795\ \ \ \ \ \ \ temporarily\_set\_destination\_\ =\ destination;}
\DoxyCodeLine{00796\ \ \ \ \ \ \ temporarily\_set\_synth\_slider\_\ =\ slider\_model\_lookup\_[name];}
\DoxyCodeLine{00797\ }
\DoxyCodeLine{00798\ \ \ \ \ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a78b72fbb1c5dbb961f486306e8057281}{connectModulation}}(source\_name,\ name);}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_aeca92ae8dba7a73918f4941d13d57daa}{setModulationValues}}(source\_name,\ name,\ modulation\_amount,\ bipolar,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00801\ \ \ \ \ \ \ destination-\/>\mbox{\hyperlink{class_modulation_destination_a47061facea0265d2add91e2827f23e7b}{setActive}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00802\ \ \ \ \ \ \ setDestinationQuadBounds(destination);}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00804\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{00805\ \ \ \ \ \ \ std::vector<vital::ModulationConnection*>\ connections\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_aba42dfae8fff58a0702ca7f874a6a779}{getDestinationConnections}}(name);}
\DoxyCodeLine{00806\ }
\DoxyCodeLine{00807\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ connections)\ \{}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>source\_name\ ==\ source\_name\ \&\&\ connection-\/>destination\_name\ ==\ name)\ \{}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ connection-\/>modulation\_processor-\/>index();}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ showModulationAmountOverlay(selected\_modulation\_sliders\_[index].get());}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00814\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a91a40b471e423be3eaa3cd0388061a5e}{setVisibleMeterBounds}}();}
\DoxyCodeLine{00815\ \ \ \ \ \ \ makeModulationsVisible(slider,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00816\ \ \ \ \ \}}
\DoxyCodeLine{00817\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a37bb9feb49e3315d7f3a33b64ecc4e4e}{modulationsChanged}}(name);}
\DoxyCodeLine{00819\ \ \ \}}
\DoxyCodeLine{00820\ \}}
\DoxyCodeLine{00821\ }
\DoxyCodeLine{00822\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_aae24c2cb53173b878920b392892eb18c}{ModulationManager::setTemporaryModulationBipolar}}(Component*\ component,\ \textcolor{keywordtype}{bool}\ bipolar)\ \{}
\DoxyCodeLine{00823\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_\ ==\ \textcolor{keyword}{nullptr}\ ||\ component\ !=\ temporarily\_set\_destination\_\ ||\ component\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00824\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00825\ }
\DoxyCodeLine{00826\ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{00827\ \ \ std::string\ name\ =\ component-\/>getName().toStdString();}
\DoxyCodeLine{00828\ \ \ \mbox{\hyperlink{class_modulation_destination}{ModulationDestination}}*\ destination\ =\ destination\_lookup\_[name];}
\DoxyCodeLine{00829\ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider\ =\ destination-\/>\mbox{\hyperlink{class_modulation_destination_af80e09a0bdcb48ba4fd7ad4f75072b8d}{getDestinationSlider}}();}
\DoxyCodeLine{00830\ }
\DoxyCodeLine{00831\ \ \ \textcolor{keywordtype}{float}\ percent\ =\ slider-\/>valueToProportionOfLength(slider-\/>getValue());}
\DoxyCodeLine{00832\ \ \ \textcolor{keywordtype}{float}\ modulation\_amount\ =\ 1.0f\ -\/\ percent;}
\DoxyCodeLine{00833\ \ \ \textcolor{keywordflow}{if}\ (bipolar)}
\DoxyCodeLine{00834\ \ \ \ \ modulation\_amount\ =\ std::min(modulation\_amount,\ percent)\ *\ 2.0f;}
\DoxyCodeLine{00835\ \ \ modulation\_amount\ =\ std::max(modulation\_amount,\ kDefaultModulationRatio);}
\DoxyCodeLine{00836\ }
\DoxyCodeLine{00837\ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{class_modulation_manager_a308afcc5d03adf6451466e77b722c515}{getModulationIndex}}(source\_name,\ name);}
\DoxyCodeLine{00838\ \ \ \mbox{\hyperlink{class_modulation_manager_aeca92ae8dba7a73918f4941d13d57daa}{setModulationValues}}(source\_name,\ name,\ modulation\_amount,\ bipolar,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00839\ \ \ temporarily\_set\_bipolar\_\ =\ bipolar;}
\DoxyCodeLine{00840\ \ \ showModulationAmountOverlay(selected\_modulation\_sliders\_[index].get());}
\DoxyCodeLine{00841\ \}}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ab2908d038fecbbb04fc48699d82e1cfe}{ModulationManager::clearTemporaryModulation}}()\ \{}
\DoxyCodeLine{00844\ \ \ \textcolor{keywordflow}{if}\ (temporarily\_set\_destination\_\ \&\&\ current\_modulator\_)\ \{}
\DoxyCodeLine{00845\ \ \ \ \ temporarily\_set\_destination\_-\/>\mbox{\hyperlink{class_modulation_destination_a47061facea0265d2add91e2827f23e7b}{setActive}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00846\ \ \ \ \ setDestinationQuadBounds(temporarily\_set\_destination\_);}
\DoxyCodeLine{00847\ \ \ \ \ temporarily\_set\_destination\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00848\ \ \ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{00849\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a1b890e56905a20d412a673538eabc2c4}{removeModulation}}(source\_name,\ temporarily\_set\_synth\_slider\_-\/>getName().toStdString());}
\DoxyCodeLine{00850\ \ \ \ \ temporarily\_set\_synth\_slider\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00852\ \ \ \ \ hideModulationAmountOverlay();}
\DoxyCodeLine{00853\ \ \ \}}
\DoxyCodeLine{00854\ \}}
\DoxyCodeLine{00855\ }
\DoxyCodeLine{00856\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a42a1c27b3d97aa5df4708a47a514135e}{ModulationManager::clearTemporaryHoverModulation}}()\ \{}
\DoxyCodeLine{00857\ \ \ \textcolor{keywordflow}{if}\ (temporarily\_set\_hover\_slider\_\ \&\&\ current\_modulator\_)\ \{}
\DoxyCodeLine{00858\ \ \ \ \ std::string\ name\ =\ temporarily\_set\_hover\_slider\_-\/>\mbox{\hyperlink{class_modulation_amount_knob_a41e27fe853e91995c09a6c5cb9148de2}{getOriginalName}}().toStdString();}
\DoxyCodeLine{00859\ }
\DoxyCodeLine{00860\ \ \ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{00861\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a1b890e56905a20d412a673538eabc2c4}{removeModulation}}(source\_name,\ temporarily\_set\_hover\_slider\_-\/>\mbox{\hyperlink{class_modulation_amount_knob_a41e27fe853e91995c09a6c5cb9148de2}{getOriginalName}}().toStdString());}
\DoxyCodeLine{00862\ \ \ \ \ temporarily\_set\_hover\_slider\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00863\ \ \ \}}
\DoxyCodeLine{00864\ \}}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a03ef03dea0efdc14657ea20c8e1e95bd}{ModulationManager::modulationDragged}}(\textcolor{keyword}{const}\ MouseEvent\&\ e)\ \{}
\DoxyCodeLine{00867\ \ \ \textcolor{keywordflow}{if}\ (!dragging\_)}
\DoxyCodeLine{00868\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00869\ }
\DoxyCodeLine{00870\ \ \ mouse\_drag\_position\_\ =\ getLocalPoint(current\_source\_,\ e.getPosition());}
\DoxyCodeLine{00871\ \ \ Component*\ component\ =\ getComponentAt(mouse\_drag\_position\_.x,\ mouse\_drag\_position\_.y);}
\DoxyCodeLine{00872\ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ hover\_knob\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00873\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{00874\ \ \ \ \ \textcolor{keywordflow}{if}\ (modulation\_amount\_sliders\_[i].get()\ ==\ component)}
\DoxyCodeLine{00875\ \ \ \ \ \ \ hover\_knob\ =\ modulation\_amount\_sliders\_[i].get();}
\DoxyCodeLine{00876\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (modulation\_hover\_sliders\_[i].get()\ ==\ component)}
\DoxyCodeLine{00877\ \ \ \ \ \ \ hover\_knob\ =\ modulation\_hover\_sliders\_[i].get();}
\DoxyCodeLine{00878\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (selected\_modulation\_sliders\_[i].get()\ ==\ component)}
\DoxyCodeLine{00879\ \ \ \ \ \ \ hover\_knob\ =\ selected\_modulation\_sliders\_[i].get();}
\DoxyCodeLine{00880\ \ \ \}}
\DoxyCodeLine{00881\ }
\DoxyCodeLine{00882\ \ \ \textcolor{keywordflow}{if}\ (hover\_knob\ \&\&\ hover\_knob-\/>\mbox{\hyperlink{class_modulation_amount_knob_a33fd539ccab8d75c269634a5d1a45438}{isCurrentModulator}}())}
\DoxyCodeLine{00883\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00884\ }
\DoxyCodeLine{00885\ \ \ \textcolor{keywordtype}{bool}\ bipolar\ =\ e.mods.isAnyModifierKeyDown();}
\DoxyCodeLine{00886\ \ \ \textcolor{keywordflow}{if}\ (temporarily\_set\_destination\_\ \&\&\ temporarily\_set\_destination\_\ !=\ component)}
\DoxyCodeLine{00887\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_ab2908d038fecbbb04fc48699d82e1cfe}{clearTemporaryModulation}}();}
\DoxyCodeLine{00888\ \ \ \textcolor{keywordflow}{if}\ (temporarily\_set\_hover\_slider\_\ \&\&\ temporarily\_set\_hover\_slider\_\ !=\ component)}
\DoxyCodeLine{00889\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a42a1c27b3d97aa5df4708a47a514135e}{clearTemporaryHoverModulation}}();}
\DoxyCodeLine{00890\ }
\DoxyCodeLine{00891\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (temporarily\_set\_synth\_slider\_\ \&\&\ temporarily\_set\_bipolar\_\ !=\ bipolar)}
\DoxyCodeLine{00892\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_aae24c2cb53173b878920b392892eb18c}{setTemporaryModulationBipolar}}(component,\ bipolar);}
\DoxyCodeLine{00893\ }
\DoxyCodeLine{00894\ \ \ \textcolor{keywordflow}{if}\ (hover\_knob)}
\DoxyCodeLine{00895\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a6c8526d8c8183fc658ec361f41ca9b57}{modulationDraggedToHoverSlider}}(hover\_knob);}
\DoxyCodeLine{00896\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00897\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_ac4f7e405cf3bd97400eee7bc2741ad82}{modulationDraggedToComponent}}(component,\ bipolar);}
\DoxyCodeLine{00898\ \}}
\DoxyCodeLine{00899\ }
\DoxyCodeLine{00900\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a20bdaec1439a1c91126888f789e14782}{ModulationManager::modulationWheelMoved}}(\textcolor{keyword}{const}\ MouseEvent\&\ e,\ \textcolor{keyword}{const}\ MouseWheelDetails\&\ wheel)\ \{}
\DoxyCodeLine{00901\ \ \ \textcolor{keywordflow}{if}\ (!dragging\_\ ||\ current\_modulator\_\ ==\ \textcolor{keyword}{nullptr}\ ||\ temporarily\_set\_destination\_\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00902\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00903\ }
\DoxyCodeLine{00904\ \ \ MouseEvent\ new\_event(e.source,\ e.position,\ ModifierKeys(),\ e.pressure,\ e.orientation,\ e.rotation,}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ e.tiltX,\ e.tiltY,\ e.eventComponent,\ e.originalComponent,\ e.eventTime,\ e.mouseDownPosition,}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ e.mouseDownTime,\ e.getNumberOfClicks(),\ e.mouseWasDraggedSinceMouseDown());}
\DoxyCodeLine{00907\ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{00908\ \ \ std::string\ destination\_name\ =\ temporarily\_set\_destination\_-\/>getName().toStdString();}
\DoxyCodeLine{00909\ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{class_modulation_manager_a308afcc5d03adf6451466e77b722c515}{getModulationIndex}}(source\_name,\ destination\_name);}
\DoxyCodeLine{00910\ \ \ \textcolor{keywordflow}{if}\ (index\ >=\ 0)}
\DoxyCodeLine{00911\ \ \ \ \ selected\_modulation\_sliders\_[index]-\/>mouseWheelMove(new\_event,\ wheel);}
\DoxyCodeLine{00912\ \}}
\DoxyCodeLine{00913\ }
\DoxyCodeLine{00914\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a66588ca99ffb0f654eaed78aacb05448}{ModulationManager::endModulationMap}}()\ \{}
\DoxyCodeLine{00915\ \ \ temporarily\_set\_destination\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00916\ \ \ temporarily\_set\_synth\_slider\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00917\ \ \ temporarily\_set\_hover\_slider\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00918\ \ \ dragging\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00919\ }
\DoxyCodeLine{00920\ \ \ \mbox{\hyperlink{class_modulation_manager_a9d6158c243e5044fcd791e80c00b191d}{setModulationAmounts}}();}
\DoxyCodeLine{00921\ \ \ positionModulationAmountSliders();}
\DoxyCodeLine{00922\ \ \ current\_source\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00923\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_destination\_group\ :\ rotary\_destinations\_)}
\DoxyCodeLine{00924\ \ \ \ \ rotary\_destination\_group.second-\/>setAlpha(0.0f);}
\DoxyCodeLine{00925\ }
\DoxyCodeLine{00926\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_destination\_group\ :\ linear\_destinations\_)}
\DoxyCodeLine{00927\ \ \ \ \ linear\_destination\_group.second-\/>setAlpha(0.0f);}
\DoxyCodeLine{00928\ }
\DoxyCodeLine{00929\ \ \ modulation\_destinations\_-\/>setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{00930\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a0e0f55028083ff593df1457f746a173a}{setThickness}}(0.0f,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00931\ \ \ hideModulationAmountOverlay();}
\DoxyCodeLine{00932\ \}}
\DoxyCodeLine{00933\ }
\DoxyCodeLine{00934\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a71800eb7dc01f64ded4151304e9e1e7c}{ModulationManager::modulationLostFocus}}(\mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ source)\ \{}
\DoxyCodeLine{00935\ \ \ source-\/>\mbox{\hyperlink{class_modulation_button_a46d281fa30ad63e77aa3580e0eef9470}{setActiveModulation}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00936\ \ \ \mbox{\hyperlink{class_modulation_manager_a4dce597d06fae32abf784f805feebeb8}{clearModulationSource}}();}
\DoxyCodeLine{00937\ \}}
\DoxyCodeLine{00938\ }
\DoxyCodeLine{00939\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a4dce597d06fae32abf784f805feebeb8}{ModulationManager::clearModulationSource}}()\ \{}
\DoxyCodeLine{00940\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_)\ \{}
\DoxyCodeLine{00941\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ selected\_slider\ :\ selected\_modulation\_sliders\_)}
\DoxyCodeLine{00942\ \ \ \ \ \ \ selected\_slider-\/>makeVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{00943\ \ \ \}}
\DoxyCodeLine{00944\ \ \ current\_modulator\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00945\ \ \ \mbox{\hyperlink{class_modulation_manager_a9d6158c243e5044fcd791e80c00b191d}{setModulationAmounts}}();}
\DoxyCodeLine{00946\ \}}
\DoxyCodeLine{00947\ }
\DoxyCodeLine{00948\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a0894bd5cd3b445ec37acdab607d59a2b}{ModulationManager::disconnectModulation}}(\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ modulation\_knob)\ \{}
\DoxyCodeLine{00949\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_modulation_manager_aef09c1a6f267fbcc850e9b2f8c4429a6}{getConnectionForModulationSlider}}(modulation\_knob);}
\DoxyCodeLine{00950\ \ \ \textcolor{keywordflow}{while}\ (connection\ \&\&\ !connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}.empty()\ \&\&\ !connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}.empty())\ \{}
\DoxyCodeLine{00951\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a1b890e56905a20d412a673538eabc2c4}{removeModulation}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}},\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}});}
\DoxyCodeLine{00952\ \ \ \ \ connection\ =\ \mbox{\hyperlink{class_modulation_manager_aef09c1a6f267fbcc850e9b2f8c4429a6}{getConnectionForModulationSlider}}(modulation\_knob);}
\DoxyCodeLine{00953\ \ \ \}}
\DoxyCodeLine{00954\ }
\DoxyCodeLine{00955\ \ \ \mbox{\hyperlink{class_modulation_manager_a9d6158c243e5044fcd791e80c00b191d}{setModulationAmounts}}();}
\DoxyCodeLine{00956\ \}}
\DoxyCodeLine{00957\ }
\DoxyCodeLine{00958\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a4cb267bb87d8cdf285a60f3fd0684bcd}{ModulationManager::setModulationSettings}}(\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ modulation\_knob)\ \{}
\DoxyCodeLine{00959\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_modulation_manager_aef09c1a6f267fbcc850e9b2f8c4429a6}{getConnectionForModulationSlider}}(modulation\_knob);}
\DoxyCodeLine{00960\ \ \ \textcolor{keywordtype}{float}\ value\ =\ modulation\_knob-\/>getValue();}
\DoxyCodeLine{00961\ \ \ \textcolor{keywordtype}{bool}\ bipolar\ =\ modulation\_knob-\/>\mbox{\hyperlink{class_modulation_amount_knob_ad74af59dd6b8e2e6080927f0ed9be11b}{isBipolar}}();}
\DoxyCodeLine{00962\ \ \ \textcolor{keywordtype}{bool}\ stereo\ =\ modulation\_knob-\/>\mbox{\hyperlink{class_modulation_amount_knob_a5db2e213dd53817d926fd8c7cbd2da30}{isStereo}}();}
\DoxyCodeLine{00963\ \ \ \textcolor{keywordtype}{bool}\ bypass\ =\ modulation\_knob-\/>\mbox{\hyperlink{class_modulation_amount_knob_a25e65ee42ee95a8bab02f30355c8d3b6}{isBypass}}();}
\DoxyCodeLine{00964\ }
\DoxyCodeLine{00965\ \ \ \textcolor{keywordtype}{int}\ index\ =\ modulation\_knob-\/>\mbox{\hyperlink{class_modulation_amount_knob_a73e6021f410fe3ca73b52251272610b0}{index}}();}
\DoxyCodeLine{00966\ \ \ modulation\_amount\_sliders\_[index]-\/>setBipolar(bipolar);}
\DoxyCodeLine{00967\ \ \ modulation\_amount\_sliders\_[index]-\/>setStereo(stereo);}
\DoxyCodeLine{00968\ \ \ modulation\_amount\_sliders\_[index]-\/>setBypass(bypass);}
\DoxyCodeLine{00969\ \ \ modulation\_hover\_sliders\_[index]-\/>setBipolar(bipolar);}
\DoxyCodeLine{00970\ \ \ modulation\_hover\_sliders\_[index]-\/>setStereo(stereo);}
\DoxyCodeLine{00971\ \ \ modulation\_hover\_sliders\_[index]-\/>setBypass(bypass);}
\DoxyCodeLine{00972\ \ \ selected\_modulation\_sliders\_[index]-\/>setBipolar(bipolar);}
\DoxyCodeLine{00973\ \ \ selected\_modulation\_sliders\_[index]-\/>setStereo(stereo);}
\DoxyCodeLine{00974\ \ \ selected\_modulation\_sliders\_[index]-\/>setBypass(bypass);}
\DoxyCodeLine{00975\ }
\DoxyCodeLine{00976\ \ \ \mbox{\hyperlink{class_modulation_manager_aeca92ae8dba7a73918f4941d13d57daa}{setModulationValues}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}},\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}},\ value,\ bipolar,\ stereo,\ bypass);}
\DoxyCodeLine{00977\ \}}
\DoxyCodeLine{00978\ }
\DoxyCodeLine{00979\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a8b72732620625af106a4c0f161311244}{ModulationManager::setModulationBypass}}(\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ modulation\_knob,\ \textcolor{keywordtype}{bool}\ bypass)\ \{}
\DoxyCodeLine{00980\ \ \ \mbox{\hyperlink{class_modulation_manager_a4cb267bb87d8cdf285a60f3fd0684bcd}{setModulationSettings}}(modulation\_knob);}
\DoxyCodeLine{00981\ \}}
\DoxyCodeLine{00982\ }
\DoxyCodeLine{00983\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a0e383f239d6c1823e5f2c1734d43e7cc}{ModulationManager::setModulationBipolar}}(\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ modulation\_knob,\ \textcolor{keywordtype}{bool}\ bipolar)\ \{}
\DoxyCodeLine{00984\ \ \ \mbox{\hyperlink{class_modulation_manager_a4cb267bb87d8cdf285a60f3fd0684bcd}{setModulationSettings}}(modulation\_knob);}
\DoxyCodeLine{00985\ \}}
\DoxyCodeLine{00986\ }
\DoxyCodeLine{00987\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_af18566beee76d6348d967233460e2775}{ModulationManager::setModulationStereo}}(\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ modulation\_knob,\ \textcolor{keywordtype}{bool}\ stereo)\ \{}
\DoxyCodeLine{00988\ \ \ \mbox{\hyperlink{class_modulation_manager_a4cb267bb87d8cdf285a60f3fd0684bcd}{setModulationSettings}}(modulation\_knob);}
\DoxyCodeLine{00989\ \}}
\DoxyCodeLine{00990\ }
\DoxyCodeLine{00991\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a39b808fc250f68dda14cf1083d8d618f}{ModulationManager::initOpenGlComponents}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl)\ \{}
\DoxyCodeLine{00992\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a31f498198029a3ed8f8595dc470c2ba1}{init}}(open\_gl);}
\DoxyCodeLine{00993\ \ \ modulation\_expansion\_box\_.\mbox{\hyperlink{class_open_gl_multi_quad_a31f498198029a3ed8f8595dc470c2ba1}{init}}(open\_gl);}
\DoxyCodeLine{00994\ \ \ modulation\_source\_meters\_-\/>init(open\_gl);}
\DoxyCodeLine{00995\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_destination\_group\ :\ rotary\_destinations\_)}
\DoxyCodeLine{00996\ \ \ \ \ rotary\_destination\_group.second-\/>init(open\_gl);}
\DoxyCodeLine{00997\ }
\DoxyCodeLine{00998\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_destination\_group\ :\ linear\_destinations\_)}
\DoxyCodeLine{00999\ \ \ \ \ linear\_destination\_group.second-\/>init(open\_gl);}
\DoxyCodeLine{01000\ }
\DoxyCodeLine{01001\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_meter\_group\ :\ rotary\_meters\_)}
\DoxyCodeLine{01002\ \ \ \ \ rotary\_meter\_group.second-\/>init(open\_gl);}
\DoxyCodeLine{01003\ }
\DoxyCodeLine{01004\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_meter\_group\ :\ linear\_meters\_)}
\DoxyCodeLine{01005\ \ \ \ \ linear\_meter\_group.second-\/>init(open\_gl);}
\DoxyCodeLine{01006\ }
\DoxyCodeLine{01007\ \ \ \mbox{\hyperlink{class_synth_section_aeb169e2a98d8132a836bbe2b211c68bd}{SynthSection::initOpenGlComponents}}(open\_gl);}
\DoxyCodeLine{01008\ \}}
\DoxyCodeLine{01009\ }
\DoxyCodeLine{01010\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a1bd124410d6c81f42c8bb664eb08bd32}{ModulationManager::drawModulationDestinations}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl)\ \{}
\DoxyCodeLine{01011\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_destination\_group\ :\ rotary\_destinations\_)}
\DoxyCodeLine{01012\ \ \ \ \ rotary\_destination\_group.second-\/>render(open\_gl,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01013\ }
\DoxyCodeLine{01014\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_destination\_group\ :\ linear\_destinations\_)}
\DoxyCodeLine{01015\ \ \ \ \ linear\_destination\_group.second-\/>render(open\_gl,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01016\ \}}
\DoxyCodeLine{01017\ }
\DoxyCodeLine{01018\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a78a0c92322f139162673bb52a7aa2d34}{ModulationManager::drawCurrentModulator}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl)\ \{}
\DoxyCodeLine{01019\ \ \ Component*\ component\ =\ current\_modulator\_;}
\DoxyCodeLine{01020\ \ \ \textcolor{keywordflow}{if}\ (component)\ \{}
\DoxyCodeLine{01021\ \ \ \ \ current\_modulator\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a400b44f0d176e32e9a3014be91816808}{setTargetComponent}}(component);}
\DoxyCodeLine{01022\ \ \ \ \ current\_modulator\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_ae432acca67041ab42cbbb5ba043cbfb2}{setAlpha}}(1.0f);}
\DoxyCodeLine{01023\ \ \ \}}
\DoxyCodeLine{01024\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01025\ \ \ \ \ current\_modulator\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_ae432acca67041ab42cbbb5ba043cbfb2}{setAlpha}}(0.0f);}
\DoxyCodeLine{01026\ }
\DoxyCodeLine{01027\ \ \ current\_modulator\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a0e0f55028083ff593df1457f746a173a}{setThickness}}(dragging\_\ ?\ 2.6f\ :\ 1.0f);}
\DoxyCodeLine{01028\ \ \ current\_modulator\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a4e30eb161abeeb1dbc07455fe390f8fa}{render}}(open\_gl,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01029\ \}}
\DoxyCodeLine{01030\ }
\DoxyCodeLine{01031\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a1357ebd99906c0417d2e0ed642d61340}{ModulationManager::drawDraggingModulation}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl)\ \{}
\DoxyCodeLine{01032\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kRadiusWidthRatio\ =\ 0.022f;}
\DoxyCodeLine{01033\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kThicknessWidthRatio\ =\ 0.003f;}
\DoxyCodeLine{01034\ \ \ \textcolor{keywordflow}{if}\ (current\_source\_\ ==\ \textcolor{keyword}{nullptr}\ ||\ temporarily\_set\_destination\_\ ||\ temporarily\_set\_hover\_slider\_)}
\DoxyCodeLine{01035\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01036\ }
\DoxyCodeLine{01037\ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}\ mod\_percent\ =\ modulation\_source\_readouts\_[current\_source\_-\/>getName().toStdString()]-\/>value();}
\DoxyCodeLine{01038\ \ \ \textcolor{keywordtype}{float}\ draw\_radius\ =\ kRadiusWidthRatio\ *\ getWidth();}
\DoxyCodeLine{01039\ \ \ \textcolor{keywordtype}{float}\ radius\_x\ =\ draw\_radius\ /\ getWidth();}
\DoxyCodeLine{01040\ \ \ \textcolor{keywordtype}{float}\ radius\_y\ =\ draw\_radius\ /\ getHeight();}
\DoxyCodeLine{01041\ \ \ \textcolor{keywordtype}{float}\ x\ =\ mouse\_drag\_position\_.x\ *\ 2.0f\ /\ getWidth()\ -\/\ 1.0f;}
\DoxyCodeLine{01042\ \ \ \textcolor{keywordtype}{float}\ y\ =\ -\/mouse\_drag\_position\_.y\ *\ 2.0f\ /\ getHeight()\ +\ 1.0f;}
\DoxyCodeLine{01043\ }
\DoxyCodeLine{01044\ \ \ Colour\ widget\_background\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca5a30a22b4659bc04528e89d1759558a7}{Skin::kWidgetBackground}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{01045\ \ \ Colour\ control\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca9fa127348a0275767e6dae9c85536779}{Skin::kModulationMeterControl}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{01046\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a46dfe42ce452467df0b7b2faeee64c03}{setAltColor}}(widget\_background.interpolatedWith(control,\ mod\_percent[0]));}
\DoxyCodeLine{01047\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a35c108ca44accfef5055ac8df84a579d}{setQuad}}(0,\ x\ -\/\ radius\_x,\ y\ -\/\ radius\_y,\ 2.0f\ *\ radius\_x,\ 2.0f\ *\ radius\_y);}
\DoxyCodeLine{01048\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a0e0f55028083ff593df1457f746a173a}{setThickness}}(getWidth()\ *\ kThicknessWidthRatio);}
\DoxyCodeLine{01049\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a4e30eb161abeeb1dbc07455fe390f8fa}{render}}(open\_gl,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01050\ \}}
\DoxyCodeLine{01051\ }
\DoxyCodeLine{01052\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a0d016f4d8084296a80c4e01d52b8a82d}{ModulationManager::renderOpenGlComponents}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,\ \textcolor{keywordtype}{bool}\ animate)\ \{}
\DoxyCodeLine{01053\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_synth_section_a23ece0b1a7ac3a7a3ffb8623875d7220}{animate}})}
\DoxyCodeLine{01054\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01055\ }
\DoxyCodeLine{01056\ \ \ \mbox{\hyperlink{class_modulation_manager_a78a0c92322f139162673bb52a7aa2d34}{drawCurrentModulator}}(open\_gl);}
\DoxyCodeLine{01057\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ callout\_button\ :\ modulation\_callout\_buttons\_)\ \{}
\DoxyCodeLine{01058\ \ \ \ \ \textcolor{keywordflow}{if}\ (callout\_button.second-\/>isVisible())}
\DoxyCodeLine{01059\ \ \ \ \ \ \ callout\_button.second-\/>renderSliderQuads(open\_gl,\ \mbox{\hyperlink{class_synth_section_a23ece0b1a7ac3a7a3ffb8623875d7220}{animate}});}
\DoxyCodeLine{01060\ \ \ \}}
\DoxyCodeLine{01061\ }
\DoxyCodeLine{01062\ \ \ \mbox{\hyperlink{class_open_gl_component_a0641317fa0d502284c603188bb7da9a7}{OpenGlComponent::setViewPort}}(\textcolor{keyword}{this},\ open\_gl);}
\DoxyCodeLine{01063\ \ \ \mbox{\hyperlink{class_modulation_manager_a1bd124410d6c81f42c8bb664eb08bd32}{drawModulationDestinations}}(open\_gl);}
\DoxyCodeLine{01064\ }
\DoxyCodeLine{01065\ \ \ Colour\ first\_color\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca57224e1a8b8454d64ee7092f63b89420}{Skin::kWidgetPrimary1}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{01066\ \ \ Colour\ second\_color\ =\ findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca52527c370464bf967aac85bb7c22a5ab}{Skin::kWidgetPrimary2}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{01067\ }
\DoxyCodeLine{01068\ \ \ modulation\_source\_meters\_-\/>setAdditiveBlending(second\_color.getBrightness()\ >\ 0.5f);}
\DoxyCodeLine{01069\ \ \ modulation\_source\_meters\_-\/>setColor(second\_color);}
\DoxyCodeLine{01070\ \ \ \mbox{\hyperlink{class_modulation_manager_a615f1b963f15cb9a8e71ad3705445df8}{renderSourceMeters}}(open\_gl,\ 1);}
\DoxyCodeLine{01071\ \ \ modulation\_source\_meters\_-\/>setAdditiveBlending(first\_color.getBrightness()\ >\ 0.5f);}
\DoxyCodeLine{01072\ \ \ modulation\_source\_meters\_-\/>setColor(first\_color);}
\DoxyCodeLine{01073\ \ \ \mbox{\hyperlink{class_modulation_manager_a615f1b963f15cb9a8e71ad3705445df8}{renderSourceMeters}}(open\_gl,\ 0);}
\DoxyCodeLine{01074\ \ \ \mbox{\hyperlink{class_modulation_manager_a89eb6d7e859d12e7d89b7f8348a052c3}{updateSmoothModValues}}();}
\DoxyCodeLine{01075\ }
\DoxyCodeLine{01076\ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a4e30eb161abeeb1dbc07455fe390f8fa}{render}}(open\_gl,\ \mbox{\hyperlink{class_synth_section_a23ece0b1a7ac3a7a3ffb8623875d7220}{animate}});}
\DoxyCodeLine{01077\ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a4e30eb161abeeb1dbc07455fe390f8fa}{render}}(open\_gl,\ \mbox{\hyperlink{class_synth_section_a23ece0b1a7ac3a7a3ffb8623875d7220}{animate}});}
\DoxyCodeLine{01078\ }
\DoxyCodeLine{01079\ \ \ \mbox{\hyperlink{class_synth_section_a0b94a0f0b660853bfb868c2ece290d33}{SynthSection::renderOpenGlComponents}}(open\_gl,\ \mbox{\hyperlink{class_synth_section_a23ece0b1a7ac3a7a3ffb8623875d7220}{animate}});}
\DoxyCodeLine{01080\ }
\DoxyCodeLine{01081\ \ \ \mbox{\hyperlink{class_modulation_manager_a1357ebd99906c0417d2e0ed642d61340}{drawDraggingModulation}}(open\_gl);}
\DoxyCodeLine{01082\ \}}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a09dfffadfd634e99893d2036e5bd680b}{ModulationManager::renderMeters}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,\ \textcolor{keywordtype}{bool}\ animate)\ \{}
\DoxyCodeLine{01085\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_synth_section_a23ece0b1a7ac3a7a3ffb8623875d7220}{animate}})}
\DoxyCodeLine{01086\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01087\ }
\DoxyCodeLine{01088\ \ \ \textcolor{keywordtype}{int}\ num\_voices\ =\ 1;}
\DoxyCodeLine{01089\ \ \ \textcolor{keywordflow}{if}\ (num\_voices\_readout\_)}
\DoxyCodeLine{01090\ \ \ \ \ num\_voices\ =\ std::max<float>(0.0f,\ num\_voices\_readout\_-\/>\mbox{\hyperlink{classvital_1_1_status_output_adc2827a952fdcedd4ba84d1e3b793240}{value}}()[0]);}
\DoxyCodeLine{01091\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ meter\ :\ meter\_lookup\_)\ \{}
\DoxyCodeLine{01092\ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider\ =\ slider\_model\_lookup\_[meter.first];}
\DoxyCodeLine{01093\ \ \ \ \ \textcolor{keywordtype}{bool}\ show\ =\ meter.second-\/>isModulated()\ \&\&\ showingInParents(slider)\ \&\&\ slider-\/>\mbox{\hyperlink{class_open_gl_slider_afb98992928c2b58b61d96cadfaa8cb8c}{isActive}}();}
\DoxyCodeLine{01094\ \ \ \ \ meter.second-\/>setActive(show);}
\DoxyCodeLine{01095\ \ \ \ \ \textcolor{keywordflow}{if}\ (show)}
\DoxyCodeLine{01096\ \ \ \ \ \ \ meter.second-\/>updateDrawing(num\_voices);}
\DoxyCodeLine{01097\ \ \ \}}
\DoxyCodeLine{01098\ }
\DoxyCodeLine{01099\ \ \ \mbox{\hyperlink{class_open_gl_component_a0641317fa0d502284c603188bb7da9a7}{OpenGlComponent::setViewPort}}(\textcolor{keyword}{this},\ open\_gl);}
\DoxyCodeLine{01100\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_meter\_group\ :\ rotary\_meters\_)}
\DoxyCodeLine{01101\ \ \ \ \ rotary\_meter\_group.second-\/>render(open\_gl,\ \mbox{\hyperlink{class_synth_section_a23ece0b1a7ac3a7a3ffb8623875d7220}{animate}});}
\DoxyCodeLine{01102\ }
\DoxyCodeLine{01103\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_meter\_group\ :\ linear\_meters\_)}
\DoxyCodeLine{01104\ \ \ \ \ linear\_meter\_group.second-\/>render(open\_gl,\ \mbox{\hyperlink{class_synth_section_a23ece0b1a7ac3a7a3ffb8623875d7220}{animate}});}
\DoxyCodeLine{01105\ \}}
\DoxyCodeLine{01106\ }
\DoxyCodeLine{01107\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a615f1b963f15cb9a8e71ad3705445df8}{ModulationManager::renderSourceMeters}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{01108\ \ \ \textcolor{keywordtype}{int}\ i\ =\ 0;}
\DoxyCodeLine{01109\ \ \ \textcolor{keywordtype}{float}\ width\ =\ getWidth();}
\DoxyCodeLine{01110\ \ \ \textcolor{keywordtype}{float}\ height\ =\ getHeight();}
\DoxyCodeLine{01111\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ mod\_readout\ :\ modulation\_source\_readouts\_)\ \{}
\DoxyCodeLine{01112\ \ \ \ \ \mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ button\ =\ modulation\_buttons\_[mod\_readout.first];}
\DoxyCodeLine{01113\ \ \ \ \ \textcolor{keywordtype}{float}\ readout\_value\ =\ mod\_readout.second-\/>value()[index];}
\DoxyCodeLine{01114\ }
\DoxyCodeLine{01115\ \ \ \ \ \textcolor{keywordtype}{float}\ clamped\_value\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{vital::utils::clamp}}(readout\_value,\ 0.0f,\ 1.0f);}
\DoxyCodeLine{01116\ \ \ \ \ \textcolor{keywordflow}{if}\ (!active\_mod\_values\_[mod\_readout.first]\ \&\&\ !mod\_readout.second-\/>isClearValue(readout\_value))}
\DoxyCodeLine{01117\ \ \ \ \ \ \ smooth\_mod\_values\_[mod\_readout.first].set(index,\ clamped\_value);}
\DoxyCodeLine{01118\ \ \ \ \ \textcolor{keywordtype}{float}\ smooth\_value\ =\ smooth\_mod\_values\_[mod\_readout.first][index];}
\DoxyCodeLine{01119\ }
\DoxyCodeLine{01120\ \ \ \ \ Rectangle<int>\ bounds\ =\ getLocalArea(button,\ button-\/>\mbox{\hyperlink{class_modulation_button_a5203bca146a5a9da1b5aaacc69eb77a8}{getMeterBounds}}());}
\DoxyCodeLine{01121\ \ \ \ \ \textcolor{keywordtype}{float}\ left\ =\ 2.0f\ *\ ((bounds.getX()\ -\/\ 1.0f)\ /\ width)\ -\/\ 1.0f\ +\ kModSourceMeterBuffer;}
\DoxyCodeLine{01122\ \ \ \ \ \textcolor{keywordtype}{float}\ w\ =\ 2.0f\ *\ bounds.getWidth()\ /\ width\ -\/\ 2.0f\ *\ kModSourceMeterBuffer;}
\DoxyCodeLine{01123\ \ \ \ \ \textcolor{keywordtype}{float}\ h\ =\ 2.0f\ *\ bounds.getHeight()\ /\ height\ -\/\ 2.0f\ *\ kModSourceMeterBuffer;}
\DoxyCodeLine{01124\ \ \ \ \ \textcolor{keywordtype}{float}\ y\ =\ 1.0f\ -\/\ 2.0f\ *\ bounds.getY()\ /\ height\ -\/\ kModSourceMeterBuffer;}
\DoxyCodeLine{01125\ \ \ \ \ \textcolor{keywordtype}{float}\ y\_center\ =\ y\ -\/\ h\ *\ (1.0f\ -\/\ clamped\_value);}
\DoxyCodeLine{01126\ \ \ \ \ \textcolor{keywordtype}{float}\ smooth\_y\_center\ =\ y\ -\/\ h\ *\ (1.0f\ -\/\ smooth\_value);}
\DoxyCodeLine{01127\ }
\DoxyCodeLine{01128\ \ \ \ \ \textcolor{keywordtype}{float}\ top\ =\ std::min(y\_center,\ smooth\_y\_center)\ -\/\ kModSourceMinRadius;}
\DoxyCodeLine{01129\ \ \ \ \ \textcolor{keywordtype}{float}\ bottom\ =\ std::max(y\_center,\ smooth\_y\_center)\ +\ kModSourceMinRadius;}
\DoxyCodeLine{01130\ }
\DoxyCodeLine{01131\ \ \ \ \ \textcolor{keywordtype}{bool}\ active\ =\ button-\/>\mbox{\hyperlink{class_modulation_button_ab91a9dc21378fea196b8696d08019d44}{isActiveModulation}}()\ ||\ button-\/>\mbox{\hyperlink{class_modulation_button_acd3e4aa38fd666e4352bd45ec387d4dc}{hasAnyModulation}}();}
\DoxyCodeLine{01132\ \ \ \ \ \textcolor{keywordflow}{if}\ (w\ <=\ 0.0f\ ||\ mod\_readout.second-\/>isClearValue(readout\_value)\ ||\ !showingInParents(button)\ ||\ !active)\ \{}
\DoxyCodeLine{01133\ \ \ \ \ \ \ left\ =\ -\/2.0f;}
\DoxyCodeLine{01134\ \ \ \ \ \ \ top\ =\ -\/2.0f;}
\DoxyCodeLine{01135\ \ \ \ \ \ \ bottom\ =\ -\/2.0f;}
\DoxyCodeLine{01136\ \ \ \ \ \}}
\DoxyCodeLine{01137\ }
\DoxyCodeLine{01138\ \ \ \ \ modulation\_source\_meters\_-\/>positionBar(i,\ left,\ top,\ w,\ bottom\ -\/\ top);}
\DoxyCodeLine{01139\ }
\DoxyCodeLine{01140\ \ \ \ \ i++;}
\DoxyCodeLine{01141\ \ \ \}}
\DoxyCodeLine{01142\ }
\DoxyCodeLine{01143\ \ \ modulation\_source\_meters\_-\/>render(open\_gl,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01144\ \}}
\DoxyCodeLine{01145\ }
\DoxyCodeLine{01146\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a89eb6d7e859d12e7d89b7f8348a052c3}{ModulationManager::updateSmoothModValues}}()\ \{}
\DoxyCodeLine{01147\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kTimeDecayScale\ =\ 60.0f;}
\DoxyCodeLine{01148\ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ current\_milliseconds\ =\ Time::currentTimeMillis();}
\DoxyCodeLine{01149\ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ delta\_milliseconds\ =\ current\_milliseconds\ -\/\ last\_milliseconds\_;}
\DoxyCodeLine{01150\ \ \ last\_milliseconds\_\ =\ current\_milliseconds;}
\DoxyCodeLine{01151\ }
\DoxyCodeLine{01152\ \ \ \textcolor{keywordtype}{float}\ seconds\ =\ delta\_milliseconds\ /\ 1000.0f;}
\DoxyCodeLine{01153\ \ \ \textcolor{keywordtype}{float}\ decay\ =\ std::max(std::min(kModSmoothDecay\ *\ seconds\ *\ kTimeDecayScale,\ 1.0f),\ 0.0f);}
\DoxyCodeLine{01154\ }
\DoxyCodeLine{01155\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ mod\_readout\ :\ modulation\_source\_readouts\_)\ \{}
\DoxyCodeLine{01156\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}\ readout\_value\ =\ mod\_readout.second-\/>\mbox{\hyperlink{structvital_1_1poly__float_a734f1dba0e0979e016a2a43ddeac633b}{value}}();}
\DoxyCodeLine{01157\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}\ clamped\_value\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a13a19cf68aa11afa58de96f14442003a}{vital::utils::clamp}}(readout\_value,\ 0.0f,\ 1.0f);}
\DoxyCodeLine{01158\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{vital::poly\_float}}\ smooth\_value\ =\ smooth\_mod\_values\_[mod\_readout.first];}
\DoxyCodeLine{01159\ \ \ \ \ \textcolor{keywordtype}{bool}\ active\ =\ !mod\_readout.second-\/>isClearValue(readout\_value);}
\DoxyCodeLine{01160\ \ \ \ \ active\_mod\_values\_[mod\_readout.first]\ =\ active;}
\DoxyCodeLine{01161\ \ \ \ \ \textcolor{keywordflow}{if}\ (active)}
\DoxyCodeLine{01162\ \ \ \ \ \ \ smooth\_mod\_values\_[mod\_readout.first]\ =\ \mbox{\hyperlink{namespacevital_1_1utils_ae1ebe307e6064bb3d3bf55a2258d308a}{vital::utils::interpolate}}(smooth\_value,\ clamped\_value,\ decay);}
\DoxyCodeLine{01163\ \ \ \}}
\DoxyCodeLine{01164\ \}}
\DoxyCodeLine{01165\ }
\DoxyCodeLine{01166\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a54e1f48073a86387bdfff83b5ff253ac}{ModulationManager::destroyOpenGlComponents}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl)\ \{}
\DoxyCodeLine{01167\ \ \ \mbox{\hyperlink{class_synth_section_a8a425cebdb8eff2ef9ea78c1c262b761}{SynthSection::destroyOpenGlComponents}}(open\_gl);}
\DoxyCodeLine{01168\ }
\DoxyCodeLine{01169\ \ \ drag\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a6146637d83f818c11ddef6af7853e77e}{destroy}}(open\_gl);}
\DoxyCodeLine{01170\ \ \ modulation\_expansion\_box\_.\mbox{\hyperlink{class_open_gl_multi_quad_a6146637d83f818c11ddef6af7853e77e}{destroy}}(open\_gl);}
\DoxyCodeLine{01171\ \ \ modulation\_source\_meters\_-\/>destroy(open\_gl);}
\DoxyCodeLine{01172\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_destination\_group\ :\ rotary\_destinations\_)}
\DoxyCodeLine{01173\ \ \ \ \ rotary\_destination\_group.second-\/>destroy(open\_gl);}
\DoxyCodeLine{01174\ }
\DoxyCodeLine{01175\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_destination\_group\ :\ linear\_destinations\_)}
\DoxyCodeLine{01176\ \ \ \ \ linear\_destination\_group.second-\/>destroy(open\_gl);}
\DoxyCodeLine{01177\ }
\DoxyCodeLine{01178\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ rotary\_meter\_group\ :\ rotary\_meters\_)}
\DoxyCodeLine{01179\ \ \ \ \ rotary\_meter\_group.second-\/>destroy(open\_gl);}
\DoxyCodeLine{01180\ }
\DoxyCodeLine{01181\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ linear\_meter\_group\ :\ linear\_meters\_)}
\DoxyCodeLine{01182\ \ \ \ \ linear\_meter\_group.second-\/>destroy(open\_gl);}
\DoxyCodeLine{01183\ \}}
\DoxyCodeLine{01184\ }
\DoxyCodeLine{01185\ \textcolor{keywordtype}{void}\ ModulationManager::showModulationAmountOverlay(\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ slider)\ \{}
\DoxyCodeLine{01186\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{getConnection}}(slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a73e6021f410fe3ca73b52251272610b0}{index}}());}
\DoxyCodeLine{01187\ \ \ \textcolor{keywordflow}{if}\ (connection\ ==\ \textcolor{keyword}{nullptr}\ ||\ meter\_lookup\_.count(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}})\ ==\ 0)}
\DoxyCodeLine{01188\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01189\ }
\DoxyCodeLine{01190\ \ \ \mbox{\hyperlink{class_modulation_meter}{ModulationMeter}}*\ meter\ =\ meter\_lookup\_[connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}].get();}
\DoxyCodeLine{01191\ \ \ \textcolor{keywordflow}{if}\ (!meter-\/>\mbox{\hyperlink{class_modulation_meter_a5cffdd2b6340b255995d95f6b11d1eda}{destination}}()-\/>isShowing())}
\DoxyCodeLine{01192\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01193\ }
\DoxyCodeLine{01194\ \ \ \textcolor{keywordflow}{if}\ (meter-\/>\mbox{\hyperlink{class_modulation_meter_a61149447f953360cd1aeaa72136ae4f4}{isRotary}}())\ \{}
\DoxyCodeLine{01195\ \ \ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a400b44f0d176e32e9a3014be91816808}{setTargetComponent}}(meter);}
\DoxyCodeLine{01196\ \ \ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_ae9fa34755aa7b17c5130dc3764f1c502}{setAdditive}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01197\ \ \ \ \ meter-\/>\mbox{\hyperlink{class_modulation_meter_af0da15af696a8014c61f9f07c08c93cc}{setAmountQuadVertices}}(editing\_rotary\_amount\_quad\_);}
\DoxyCodeLine{01198\ \ \ \ \ meter-\/>\mbox{\hyperlink{class_modulation_meter_a20c3539e4ee5f29f19c8bf9bc86dc91f}{setModulationAmountQuad}}(editing\_rotary\_amount\_quad\_,\ slider-\/>getValue(),\ slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_ad74af59dd6b8e2e6080927f0ed9be11b}{isBipolar}}());}
\DoxyCodeLine{01199\ }
\DoxyCodeLine{01200\ \ \ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a0e0f55028083ff593df1457f746a173a}{setThickness}}(2.0f);}
\DoxyCodeLine{01201\ \ \ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_ae432acca67041ab42cbbb5ba043cbfb2}{setAlpha}}(1.0f);}
\DoxyCodeLine{01202\ \ \ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a11c7d32833ea8910f9301d6c98e4daff}{setActive}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01203\ \ \ \}}
\DoxyCodeLine{01204\ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01205\ \ \ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a400b44f0d176e32e9a3014be91816808}{setTargetComponent}}(meter);}
\DoxyCodeLine{01206\ \ \ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_ae9fa34755aa7b17c5130dc3764f1c502}{setAdditive}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01207\ \ \ \ \ meter-\/>\mbox{\hyperlink{class_modulation_meter_af0da15af696a8014c61f9f07c08c93cc}{setAmountQuadVertices}}(editing\_linear\_amount\_quad\_);}
\DoxyCodeLine{01208\ \ \ \ \ meter-\/>\mbox{\hyperlink{class_modulation_meter_a20c3539e4ee5f29f19c8bf9bc86dc91f}{setModulationAmountQuad}}(editing\_linear\_amount\_quad\_,\ slider-\/>getValue(),\ slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_ad74af59dd6b8e2e6080927f0ed9be11b}{isBipolar}}());}
\DoxyCodeLine{01209\ }
\DoxyCodeLine{01210\ \ \ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_ae432acca67041ab42cbbb5ba043cbfb2}{setAlpha}}(1.0f);}
\DoxyCodeLine{01211\ \ \ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_a11c7d32833ea8910f9301d6c98e4daff}{setActive}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01212\ \ \ \}}
\DoxyCodeLine{01213\ \}}
\DoxyCodeLine{01214\ }
\DoxyCodeLine{01215\ \textcolor{keywordtype}{void}\ ModulationManager::hideModulationAmountOverlay()\ \{}
\DoxyCodeLine{01216\ \ \ \textcolor{keywordflow}{if}\ (changing\_hover\_modulation\_)}
\DoxyCodeLine{01217\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01218\ }
\DoxyCodeLine{01219\ \ \ editing\_rotary\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_ae432acca67041ab42cbbb5ba043cbfb2}{setAlpha}}(0.0f);}
\DoxyCodeLine{01220\ \ \ editing\_linear\_amount\_quad\_.\mbox{\hyperlink{class_open_gl_multi_quad_ae432acca67041ab42cbbb5ba043cbfb2}{setAlpha}}(0.0f);}
\DoxyCodeLine{01221\ \}}
\DoxyCodeLine{01222\ }
\DoxyCodeLine{01223\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a7bf80f2c8c653cedced3a3c04da73712}{ModulationManager::hoverStarted}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{01224\ \ \ \textcolor{keywordflow}{if}\ (changing\_hover\_modulation\_)}
\DoxyCodeLine{01225\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01226\ }
\DoxyCodeLine{01227\ \ \ \textcolor{keywordflow}{if}\ (!enteringHoverValue())}
\DoxyCodeLine{01228\ \ \ \ \ makeModulationsVisible(slider,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01229\ }
\DoxyCodeLine{01230\ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ amount\_knob\ =\ \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\textcolor{keyword}{>}(slider);}
\DoxyCodeLine{01231\ \ \ \textcolor{keywordflow}{if}\ (amount\_knob)}
\DoxyCodeLine{01232\ \ \ \ \ showModulationAmountOverlay(amount\_knob);}
\DoxyCodeLine{01233\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01234\ \ \ \ \ hideModulationAmountOverlay();}
\DoxyCodeLine{01235\ \}}
\DoxyCodeLine{01236\ }
\DoxyCodeLine{01237\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a58b37179f2d2396a8e9e9ba42116a1a9}{ModulationManager::hoverEnded}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{01238\ \ \ hideModulationAmountOverlay();}
\DoxyCodeLine{01239\ \}}
\DoxyCodeLine{01240\ }
\DoxyCodeLine{01241\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ac1e309e417e8ee71300616ca06df55fe}{ModulationManager::menuFinished}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{01242\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_\ \&\&\ current\_modulator\_-\/>isVisible())}
\DoxyCodeLine{01243\ \ \ \ \ current\_modulator\_-\/>grabKeyboardFocus();}
\DoxyCodeLine{01244\ \}}
\DoxyCodeLine{01245\ }
\DoxyCodeLine{01246\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a37bb9feb49e3315d7f3a33b64ecc4e4e}{ModulationManager::modulationsChanged}}(\textcolor{keyword}{const}\ std::string\&\ destination)\ \{}
\DoxyCodeLine{01247\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01248\ \ \ \mbox{\hyperlink{class_modulation_manager_a8e27c3371d85ea1f4882f08cf6347d57}{hideUnusedHoverModulations}}();}
\DoxyCodeLine{01249\ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider\ =\ slider\_model\_lookup\_[destination];}
\DoxyCodeLine{01250\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_)}
\DoxyCodeLine{01251\ \ \ \ \ makeCurrentModulatorAmountsVisible();}
\DoxyCodeLine{01252\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (slider)}
\DoxyCodeLine{01253\ \ \ \ \ makeModulationsVisible(slider,\ slider-\/>isShowing());}
\DoxyCodeLine{01254\ }
\DoxyCodeLine{01255\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01256\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01258\ \ \ \textcolor{keywordflow}{if}\ (meter\_lookup\_.count(destination)\ ==\ 0)}
\DoxyCodeLine{01259\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01260\ }
\DoxyCodeLine{01261\ \ \ \textcolor{keywordtype}{int}\ num\_modulations\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_ab4da79e8c15272c05163a8e2db8b9d62}{getNumModulations}}(destination);}
\DoxyCodeLine{01262\ \ \ meter\_lookup\_[destination]-\/>setModulated(num\_modulations);}
\DoxyCodeLine{01263\ \ \ meter\_lookup\_[destination]-\/>setVisible(num\_modulations);}
\DoxyCodeLine{01264\ \}}
\DoxyCodeLine{01265\ }
\DoxyCodeLine{01266\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_modulation_manager_a308afcc5d03adf6451466e77b722c515}{ModulationManager::getModulationIndex}}(std::string\ source,\ std::string\ destination)\ \{}
\DoxyCodeLine{01267\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01268\ \ \ std::vector<vital::ModulationConnection*>\ connections\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_aba42dfae8fff58a0702ca7f874a6a779}{getDestinationConnections}}(destination);}
\DoxyCodeLine{01269\ }
\DoxyCodeLine{01270\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ connections)\ \{}
\DoxyCodeLine{01271\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}\ ==\ source)}
\DoxyCodeLine{01272\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{01273\ \ \ \}}
\DoxyCodeLine{01274\ }
\DoxyCodeLine{01275\ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01276\ \}}
\DoxyCodeLine{01277\ }
\DoxyCodeLine{01278\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_modulation_manager_a400343d71294c28e75192dc079a5b71d}{ModulationManager::getIndexForModulationSlider}}(Slider*\ slider)\ \{}
\DoxyCodeLine{01279\ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ amount\_knob\ =\ \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\textcolor{keyword}{>}(slider);}
\DoxyCodeLine{01280\ \ \ \textcolor{keywordflow}{if}\ (amount\_knob)}
\DoxyCodeLine{01281\ \ \ \ \ \textcolor{keywordflow}{return}\ amount\_knob-\/>\mbox{\hyperlink{class_modulation_amount_knob_a73e6021f410fe3ca73b52251272610b0}{index}}();}
\DoxyCodeLine{01282\ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01283\ \}}
\DoxyCodeLine{01284\ }
\DoxyCodeLine{01285\ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ \mbox{\hyperlink{class_modulation_manager_aef09c1a6f267fbcc850e9b2f8c4429a6}{ModulationManager::getConnectionForModulationSlider}}(Slider*\ slider)\ \{}
\DoxyCodeLine{01286\ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{class_modulation_manager_a400343d71294c28e75192dc079a5b71d}{getIndexForModulationSlider}}(slider);}
\DoxyCodeLine{01287\ \ \ \textcolor{keywordflow}{if}\ (index\ <\ 0)}
\DoxyCodeLine{01288\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01289\ }
\DoxyCodeLine{01290\ \ \ \textcolor{keywordflow}{while}\ (aux\_connections\_to\_from\_.count(index))}
\DoxyCodeLine{01291\ \ \ \ \ index\ =\ aux\_connections\_to\_from\_[index];}
\DoxyCodeLine{01292\ }
\DoxyCodeLine{01293\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{getConnection}}(index);}
\DoxyCodeLine{01294\ \}}
\DoxyCodeLine{01295\ }
\DoxyCodeLine{01296\ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ \mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{ModulationManager::getConnection}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{01297\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01298\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01299\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01300\ }
\DoxyCodeLine{01301\ \ \ \textcolor{keywordflow}{return}\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}().\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(index);}
\DoxyCodeLine{01302\ \}}
\DoxyCodeLine{01303\ }
\DoxyCodeLine{01304\ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ \mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{ModulationManager::getConnection}}(\textcolor{keyword}{const}\ std::string\&\ source,\ \textcolor{keyword}{const}\ std::string\&\ dest)\ \{}
\DoxyCodeLine{01305\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01306\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01307\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01308\ }
\DoxyCodeLine{01309\ \ \ std::vector<vital::ModulationConnection*>\ connections\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a129a3dc3855b4a3c9bdab2266e33c275}{getSourceConnections}}(source);}
\DoxyCodeLine{01310\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ connections)\ \{}
\DoxyCodeLine{01311\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}\ ==\ dest)}
\DoxyCodeLine{01312\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ connection;}
\DoxyCodeLine{01313\ \ \ \}}
\DoxyCodeLine{01314\ }
\DoxyCodeLine{01315\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01316\ \}}
\DoxyCodeLine{01317\ }
\DoxyCodeLine{01318\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a3c38b8fe2c22458ad5614acf510ce0c2}{ModulationManager::mouseDown}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{01319\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ amount\_knob\ :\ modulation\_hover\_sliders\_)\ \{}
\DoxyCodeLine{01320\ \ \ \ \ \textcolor{keywordflow}{if}\ (slider\ ==\ amount\_knob.get())}
\DoxyCodeLine{01321\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01322\ \ \ \}}
\DoxyCodeLine{01323\ }
\DoxyCodeLine{01324\ \ \ \textcolor{keywordflow}{if}\ (modulation\_expansion\_box\_.isVisible())}
\DoxyCodeLine{01325\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01326\ }
\DoxyCodeLine{01327\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_modulation_manager_aef09c1a6f267fbcc850e9b2f8c4429a6}{getConnectionForModulationSlider}}(slider);}
\DoxyCodeLine{01328\ \ \ \textcolor{keywordflow}{if}\ (connection\ \&\&\ !connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}.empty()\ \&\&\ !connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}.empty())}
\DoxyCodeLine{01329\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a4c21b08d0e8ab3596af0559b5f2ceeef}{modulationSelected}}(modulation\_buttons\_[connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}]);}
\DoxyCodeLine{01330\ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01331\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a4dce597d06fae32abf784f805feebeb8}{clearModulationSource}}();}
\DoxyCodeLine{01332\ \ \ \ \ hideModulationAmountOverlay();}
\DoxyCodeLine{01333\ \ \ \ \ makeModulationsVisible(slider,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01334\ \ \ \}}
\DoxyCodeLine{01335\ \}}
\DoxyCodeLine{01336\ }
\DoxyCodeLine{01337\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a3fd680ad0ff073f9c53a7f8a54b91e75}{ModulationManager::mouseUp}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{01338\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_\ \&\&\ current\_modulator\_-\/>isVisible())}
\DoxyCodeLine{01339\ \ \ \ \ current\_modulator\_-\/>grabKeyboardFocus();}
\DoxyCodeLine{01340\ \}}
\DoxyCodeLine{01341\ }
\DoxyCodeLine{01342\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a5f6f1ee9d2abdac92913f8a73d29bad8}{ModulationManager::doubleClick}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{01343\ \ \ changing\_hover\_modulation\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01344\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_modulation_manager_aef09c1a6f267fbcc850e9b2f8c4429a6}{getConnectionForModulationSlider}}(slider);}
\DoxyCodeLine{01345\ \ \ \textcolor{keywordflow}{if}\ (connection)}
\DoxyCodeLine{01346\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a1b890e56905a20d412a673538eabc2c4}{removeModulation}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}},\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}});}
\DoxyCodeLine{01347\ \ \ \mbox{\hyperlink{class_modulation_manager_a9d6158c243e5044fcd791e80c00b191d}{setModulationAmounts}}();}
\DoxyCodeLine{01348\ }
\DoxyCodeLine{01349\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_\ \&\&\ current\_modulator\_-\/>isVisible())}
\DoxyCodeLine{01350\ \ \ \ \ current\_modulator\_-\/>grabKeyboardFocus();}
\DoxyCodeLine{01351\ \}}
\DoxyCodeLine{01352\ }
\DoxyCodeLine{01353\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_afbd058a3101cd3335c201184df570cd7}{ModulationManager::beginModulationEdit}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{01354\ \ \ changing\_hover\_modulation\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01355\ \}}
\DoxyCodeLine{01356\ }
\DoxyCodeLine{01357\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ae38353b3a4af22d1f17f16f97e5033b7}{ModulationManager::endModulationEdit}}(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider)\ \{}
\DoxyCodeLine{01358\ \ \ changing\_hover\_modulation\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01359\ \}}
\DoxyCodeLine{01360\ }
\DoxyCodeLine{01361\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ae5201e59c5e9a019c51f490e49b31c6f}{ModulationManager::sliderValueChanged}}(Slider*\ slider)\ \{}
\DoxyCodeLine{01362\ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ amount\_knob\ =\ \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\textcolor{keyword}{>}(slider);}
\DoxyCodeLine{01363\ \ \ \textcolor{keywordflow}{if}\ (amount\_knob\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01364\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01365\ }
\DoxyCodeLine{01366\ \ \ \textcolor{keywordtype}{float}\ value\ =\ slider-\/>getValue();}
\DoxyCodeLine{01367\ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{class_modulation_manager_a400343d71294c28e75192dc079a5b71d}{getIndexForModulationSlider}}(slider);}
\DoxyCodeLine{01368\ \ \ \textcolor{keywordtype}{float}\ scale\ =\ \mbox{\hyperlink{class_modulation_manager_a4882248de9b7b7c0140df000e24718a3}{getAuxMultiplier}}(index);}
\DoxyCodeLine{01369\ \ \ \textcolor{keywordtype}{float}\ scaled\_value\ =\ value\ *\ scale;}
\DoxyCodeLine{01370\ \ \ \textcolor{keywordflow}{while}\ (aux\_connections\_to\_from\_.count(index))}
\DoxyCodeLine{01371\ \ \ \ \ index\ =\ aux\_connections\_to\_from\_[index];}
\DoxyCodeLine{01372\ }
\DoxyCodeLine{01373\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{getConnection}}(index);}
\DoxyCodeLine{01374\ \ \ \textcolor{keywordtype}{bool}\ bipolar\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isBipolar();}
\DoxyCodeLine{01375\ \ \ \textcolor{keywordtype}{bool}\ stereo\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isStereo();}
\DoxyCodeLine{01376\ \ \ \textcolor{keywordtype}{bool}\ bypass\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isBypassed();}
\DoxyCodeLine{01377\ }
\DoxyCodeLine{01378\ \ \ \mbox{\hyperlink{class_modulation_manager_aeca92ae8dba7a73918f4941d13d57daa}{setModulationValues}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}},\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}},\ scaled\_value,\ bipolar,\ stereo,\ bypass);}
\DoxyCodeLine{01379\ \ \ showModulationAmountOverlay(amount\_knob);}
\DoxyCodeLine{01380\ }
\DoxyCodeLine{01381\ \ \ \mbox{\hyperlink{class_synth_section_ac7ee059bb6a4e6592d6bd6538a757d6c}{SynthSection::sliderValueChanged}}(modulation\_amount\_sliders\_[index].get());}
\DoxyCodeLine{01382\ \}}
\DoxyCodeLine{01383\ }
\DoxyCodeLine{01384\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_aad656c6d612c463c45de5f2aa0f236d9}{ModulationManager::buttonClicked}}(Button*\ button)\ \{}
\DoxyCodeLine{01385\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ callout\_button\ :\ modulation\_callout\_buttons\_)\ \{}
\DoxyCodeLine{01386\ \ \ \ \ \textcolor{keywordflow}{if}\ (button\ ==\ callout\_button.second.get())\ \{}
\DoxyCodeLine{01387\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ new\_button\ =\ button\ !=\ current\_expanded\_modulation\_;}
\DoxyCodeLine{01388\ \ \ \ \ \ \ hideModulationAmountCallout();}
\DoxyCodeLine{01389\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (new\_button)}
\DoxyCodeLine{01390\ \ \ \ \ \ \ \ \ showModulationAmountCallout(callout\_button.first);}
\DoxyCodeLine{01391\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01392\ \ \ \ \ \}}
\DoxyCodeLine{01393\ \ \ \}}
\DoxyCodeLine{01394\ }
\DoxyCodeLine{01395\ \ \ \mbox{\hyperlink{class_synth_section_a0854a98f7e73eeffccfbd1e210787bbf}{SynthSection::buttonClicked}}(button);}
\DoxyCodeLine{01396\ \}}
\DoxyCodeLine{01397\ }
\DoxyCodeLine{01398\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a78b72fbb1c5dbb961f486306e8057281}{ModulationManager::connectModulation}}(std::string\ source,\ std::string\ destination)\ \{}
\DoxyCodeLine{01399\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01400\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr}\ ||\ source.empty()\ ||\ destination.empty())}
\DoxyCodeLine{01401\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01402\ }
\DoxyCodeLine{01403\ \ \ modifying\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01404\ \ \ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a88576505a339eba1984a72bba9f37ad2}{connectModulation}}(source,\ destination);}
\DoxyCodeLine{01405\ \ \ modifying\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01406\ \}}
\DoxyCodeLine{01407\ }
\DoxyCodeLine{01408\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a1b890e56905a20d412a673538eabc2c4}{ModulationManager::removeModulation}}(std::string\ source,\ std::string\ destination)\ \{}
\DoxyCodeLine{01409\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01410\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr}\ ||\ source.empty()\ ||\ destination.empty())}
\DoxyCodeLine{01411\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01412\ }
\DoxyCodeLine{01413\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ \mbox{\hyperlink{class_modulation_manager_acab11fdeecc97a9842aca0d07d090476}{getConnection}}(source,\ destination);}
\DoxyCodeLine{01414\ \ \ \textcolor{keywordflow}{if}\ (connection\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{01415\ \ \ \ \ positionModulationAmountSliders();}
\DoxyCodeLine{01416\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01417\ \ \ \}}
\DoxyCodeLine{01418\ }
\DoxyCodeLine{01419\ \ \ \textcolor{keywordtype}{int}\ index\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{01420\ \ \ \textcolor{keywordflow}{if}\ (aux\_connections\_from\_to\_.count(index))\ \{}
\DoxyCodeLine{01421\ \ \ \ \ \textcolor{keywordtype}{float}\ current\_value\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>currentBaseValue();}
\DoxyCodeLine{01422\ \ \ \ \ \textcolor{keywordtype}{int}\ dest\_index\ =\ aux\_connections\_from\_to\_[index];}
\DoxyCodeLine{01423\ \ \ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ modulation\_amount\ =\ modulation\_amount\_sliders\_[dest\_index].get();}
\DoxyCodeLine{01424\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_ad9f90a7823d6105ef6ff100927f23f64}{removeAuxSourceConnection}}(index);}
\DoxyCodeLine{01425\ \ \ \ \ \textcolor{keywordtype}{float}\ reset\_value\ =\ current\_value\ ==\ 0.0f\ ?\ 1.0f\ :\ -\/current\_value;}
\DoxyCodeLine{01426\ \ \ \ \ modulation\_amount-\/>setValue(reset\_value,\ dontSendNotification);}
\DoxyCodeLine{01427\ \ \ \ \ modulation\_amount-\/>setValue(current\_value\ *\ 2.0f,\ sendNotificationSync);}
\DoxyCodeLine{01428\ \ \ \}}
\DoxyCodeLine{01429\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01430\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_ad9f90a7823d6105ef6ff100927f23f64}{removeAuxSourceConnection}}(index);}
\DoxyCodeLine{01431\ }
\DoxyCodeLine{01432\ \ \ modifying\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01433\ \ \ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a83c03b5f772f39bca3f4eb301dee3e6e}{disconnectModulation}}(source,\ destination);}
\DoxyCodeLine{01434\ \ \ \mbox{\hyperlink{class_modulation_manager_a37bb9feb49e3315d7f3a33b64ecc4e4e}{modulationsChanged}}(destination);}
\DoxyCodeLine{01435\ \ \ modifying\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01436\ \ \ positionModulationAmountSliders();}
\DoxyCodeLine{01437\ \}}
\DoxyCodeLine{01438\ }
\DoxyCodeLine{01439\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a1669597a01afc6041842bc63598b8545}{ModulationManager::setModulationSliderValue}}(\textcolor{keywordtype}{int}\ index,\ \textcolor{keywordtype}{float}\ value)\ \{}
\DoxyCodeLine{01440\ \ \ modulation\_amount\_sliders\_[index]-\/>setValue(value,\ dontSendNotification);}
\DoxyCodeLine{01441\ \ \ modulation\_hover\_sliders\_[index]-\/>setValue(value,\ dontSendNotification);}
\DoxyCodeLine{01442\ \ \ selected\_modulation\_sliders\_[index]-\/>setValue(value,\ dontSendNotification);}
\DoxyCodeLine{01443\ \ \ modulation\_amount\_sliders\_[index]-\/>redoImage();}
\DoxyCodeLine{01444\ \ \ modulation\_hover\_sliders\_[index]-\/>redoImage();}
\DoxyCodeLine{01445\ \ \ selected\_modulation\_sliders\_[index]-\/>redoImage();}
\DoxyCodeLine{01446\ \}}
\DoxyCodeLine{01447\ }
\DoxyCodeLine{01448\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a4cbea6ad8727463628f813a2ec3b58e7}{ModulationManager::setModulationSliderBipolar}}(\textcolor{keywordtype}{int}\ index,\ \textcolor{keywordtype}{bool}\ bipolar)\ \{}
\DoxyCodeLine{01449\ \ \ modulation\_amount\_sliders\_[index]-\/>setBipolar(bipolar);}
\DoxyCodeLine{01450\ \ \ modulation\_hover\_sliders\_[index]-\/>setBipolar(bipolar);}
\DoxyCodeLine{01451\ \ \ selected\_modulation\_sliders\_[index]-\/>setBipolar(bipolar);}
\DoxyCodeLine{01452\ \}}
\DoxyCodeLine{01453\ }
\DoxyCodeLine{01454\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a3e8e1ba31f8ebc56d84eb984b1a15ad3}{ModulationManager::setModulationSliderValues}}(\textcolor{keywordtype}{int}\ index,\ \textcolor{keywordtype}{float}\ value)\ \{}
\DoxyCodeLine{01455\ \ \ \mbox{\hyperlink{class_modulation_manager_a1669597a01afc6041842bc63598b8545}{setModulationSliderValue}}(index,\ value);}
\DoxyCodeLine{01456\ \ \ \textcolor{keywordtype}{float}\ from\_value\ =\ value;}
\DoxyCodeLine{01457\ \ \ \textcolor{keywordtype}{int}\ from\_index\ =\ index;}
\DoxyCodeLine{01458\ \ \ \textcolor{keywordflow}{while}\ (aux\_connections\_from\_to\_.count(from\_index))\ \{}
\DoxyCodeLine{01459\ \ \ \ \ from\_index\ =\ aux\_connections\_from\_to\_[from\_index];}
\DoxyCodeLine{01460\ \ \ \ \ from\_value\ *=\ 2.0f;}
\DoxyCodeLine{01461\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a1669597a01afc6041842bc63598b8545}{setModulationSliderValue}}(from\_index,\ from\_value);}
\DoxyCodeLine{01462\ \ \ \}}
\DoxyCodeLine{01463\ }
\DoxyCodeLine{01464\ \ \ \textcolor{keywordtype}{float}\ to\_value\ =\ value;}
\DoxyCodeLine{01465\ \ \ \textcolor{keywordtype}{int}\ to\_index\ =\ index;}
\DoxyCodeLine{01466\ \ \ \textcolor{keywordflow}{while}\ (aux\_connections\_to\_from\_.count(to\_index))\ \{}
\DoxyCodeLine{01467\ \ \ \ \ to\_index\ =\ aux\_connections\_to\_from\_[to\_index];}
\DoxyCodeLine{01468\ \ \ \ \ to\_value\ *=\ 0.5f;}
\DoxyCodeLine{01469\ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a1669597a01afc6041842bc63598b8545}{setModulationSliderValue}}(to\_index,\ to\_value);}
\DoxyCodeLine{01470\ \ \ \}}
\DoxyCodeLine{01471\ }
\DoxyCodeLine{01472\ \ \ \mbox{\hyperlink{class_modulation_manager_a9c53b6c34003a18ff139b10b0391b5aa}{setModulationSliderScale}}(index);}
\DoxyCodeLine{01473\ \}}
\DoxyCodeLine{01474\ }
\DoxyCodeLine{01475\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a9c53b6c34003a18ff139b10b0391b5aa}{ModulationManager::setModulationSliderScale}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{01476\ \ \ \textcolor{keywordtype}{int}\ end\_index\ =\ index;}
\DoxyCodeLine{01477\ \ \ \textcolor{keywordtype}{float}\ scale\ =\ 1.0f;}
\DoxyCodeLine{01478\ \ \ \textcolor{keywordflow}{while}\ (aux\_connections\_from\_to\_.count(end\_index))\ \{}
\DoxyCodeLine{01479\ \ \ \ \ end\_index\ =\ aux\_connections\_from\_to\_[end\_index];}
\DoxyCodeLine{01480\ \ \ \ \ scale\ *=\ 2.0f;}
\DoxyCodeLine{01481\ \ \ \}}
\DoxyCodeLine{01482\ }
\DoxyCodeLine{01483\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01484\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01485\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01486\ }
\DoxyCodeLine{01487\ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{vital::ModulationConnectionBank}}\&\ bank\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}();}
\DoxyCodeLine{01488\ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(end\_index);}
\DoxyCodeLine{01489\ \ \ \textcolor{keywordflow}{if}\ (!connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}.empty())\ \{}
\DoxyCodeLine{01490\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_value_details}{vital::ValueDetails}}\ details\ =\ \mbox{\hyperlink{classvital_1_1_parameters_add207875d97ce0cabc64a33e86a5ab24}{vital::Parameters::getDetails}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}});}
\DoxyCodeLine{01491\ \ \ \ \ \textcolor{keywordflow}{if}\ (details.\mbox{\hyperlink{structvital_1_1_value_details_ade11892603cd0d5c7104f115ee957d2a}{value\_scale}}\ ==\ \mbox{\hyperlink{structvital_1_1_value_details_a308c6862d36759c9339892e60e9f1d2ea5b1f48d09ce571c18da399b98c187bef}{vital::ValueDetails::kLinear}}\ ||\ details.\mbox{\hyperlink{structvital_1_1_value_details_ade11892603cd0d5c7104f115ee957d2a}{value\_scale}}\ ==\ \mbox{\hyperlink{structvital_1_1_value_details_a308c6862d36759c9339892e60e9f1d2eae81f3a3cd7802926291fa665f0560e6a}{vital::ValueDetails::kIndexed}})\ \{}
\DoxyCodeLine{01492\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ display\_multiply\ =\ scale\ *\ (details.\mbox{\hyperlink{structvital_1_1_value_details_a08a1bdff3e41fb87c1ac6fd6708c7485}{max}}\ -\/\ details.\mbox{\hyperlink{structvital_1_1_value_details_a4ad22dfba428357429bcadc83e0b5a26}{min}});}
\DoxyCodeLine{01493\ \ \ \ \ \ \ modulation\_amount\_sliders\_[index]-\/>setDisplayMultiply(display\_multiply);}
\DoxyCodeLine{01494\ \ \ \ \ \ \ modulation\_hover\_sliders\_[index]-\/>setDisplayMultiply(display\_multiply);}
\DoxyCodeLine{01495\ \ \ \ \ \ \ selected\_modulation\_sliders\_[index]-\/>setDisplayMultiply(display\_multiply);}
\DoxyCodeLine{01496\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01497\ \ \ \ \ \}}
\DoxyCodeLine{01498\ \ \ \}}
\DoxyCodeLine{01499\ \ \ modulation\_amount\_sliders\_[index]-\/>setDisplayMultiply(1.0f);}
\DoxyCodeLine{01500\ \ \ modulation\_hover\_sliders\_[index]-\/>setDisplayMultiply(1.0f);}
\DoxyCodeLine{01501\ \ \ selected\_modulation\_sliders\_[index]-\/>setDisplayMultiply(1.0f);}
\DoxyCodeLine{01502\ \}}
\DoxyCodeLine{01503\ }
\DoxyCodeLine{01504\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_aeca92ae8dba7a73918f4941d13d57daa}{ModulationManager::setModulationValues}}(std::string\ source,\ std::string\ destination,}
\DoxyCodeLine{01505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{vital::mono\_float}}\ amount,\ \textcolor{keywordtype}{bool}\ bipolar,\ \textcolor{keywordtype}{bool}\ stereo,\ \textcolor{keywordtype}{bool}\ bypass)\ \{}
\DoxyCodeLine{01506\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01507\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr}\ ||\ source.empty()\ ||\ destination.empty())}
\DoxyCodeLine{01508\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01509\ }
\DoxyCodeLine{01510\ \ \ modifying\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01511\ \ \ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a5e6c5e234e4b05850acec431cecba27a}{setModulationValues}}(source,\ destination,\ amount,\ bipolar,\ stereo,\ bypass);}
\DoxyCodeLine{01512\ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{class_modulation_manager_a308afcc5d03adf6451466e77b722c515}{getModulationIndex}}(source,\ destination);}
\DoxyCodeLine{01513\ \ \ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_ad178960fdd7ae50a0b43eacabb526947}{notifyModulationValueChanged}}(index);}
\DoxyCodeLine{01514\ \ \ \mbox{\hyperlink{class_modulation_manager_a3e8e1ba31f8ebc56d84eb984b1a15ad3}{setModulationSliderValues}}(index,\ amount);}
\DoxyCodeLine{01515\ \ \ \mbox{\hyperlink{class_modulation_manager_a4cbea6ad8727463628f813a2ec3b58e7}{setModulationSliderBipolar}}(index,\ bipolar);}
\DoxyCodeLine{01516\ }
\DoxyCodeLine{01517\ \ \ modifying\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01518\ \}}
\DoxyCodeLine{01519\ }
\DoxyCodeLine{01520\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_aa75f9196f5b2b03cb165efcc28129e0b}{ModulationManager::initAuxConnections}}()\ \{}
\DoxyCodeLine{01521\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01522\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01523\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01524\ }
\DoxyCodeLine{01525\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{01526\ \ \ \ \ modulation\_amount\_sliders\_[i]-\/>removeAux();}
\DoxyCodeLine{01527\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>removeAux();}
\DoxyCodeLine{01528\ \ \ \ \ selected\_modulation\_sliders\_[i]-\/>removeAux();}
\DoxyCodeLine{01529\ \ \ \}}
\DoxyCodeLine{01530\ }
\DoxyCodeLine{01531\ \ \ aux\_connections\_from\_to\_.clear();}
\DoxyCodeLine{01532\ \ \ aux\_connections\_to\_from\_.clear();}
\DoxyCodeLine{01533\ }
\DoxyCodeLine{01534\ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{vital::ModulationConnectionBank}}\&\ bank\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}();}
\DoxyCodeLine{01535\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{01536\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i);}
\DoxyCodeLine{01537\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{01538\ }
\DoxyCodeLine{01539\ \ \ \ \ \textcolor{keywordflow}{if}\ (modulation\_amount\_lookup\_.count(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}))\ \{}
\DoxyCodeLine{01540\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ modulation\_index\ =\ modulation\_amount\_lookup\_[connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}]-\/>index();}
\DoxyCodeLine{01541\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_aab0ba6aaac1b48759aa3df352034f26a}{addAuxConnection}}(index,\ modulation\_index);}
\DoxyCodeLine{01542\ \ \ \ \ \}}
\DoxyCodeLine{01543\ \ \ \}}
\DoxyCodeLine{01544\ \}}
\DoxyCodeLine{01545\ }
\DoxyCodeLine{01546\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a55b054ff0632f7eaeb4bb20fb7cceb9c}{ModulationManager::reset}}()\ \{}
\DoxyCodeLine{01547\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01548\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr}\ ||\ modifying\_)}
\DoxyCodeLine{01549\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01550\ }
\DoxyCodeLine{01551\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ meter\ :\ meter\_lookup\_)\ \{}
\DoxyCodeLine{01552\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_modulations\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_ab4da79e8c15272c05163a8e2db8b9d62}{getNumModulations}}(meter.first);}
\DoxyCodeLine{01553\ \ \ \ \ meter.second-\/>\mbox{\hyperlink{class_modulation_meter_aea459c3205e445c603d09d3a36f8313c}{setModulated}}(num\_modulations);}
\DoxyCodeLine{01554\ \ \ \ \ meter.second-\/>setVisible(num\_modulations);}
\DoxyCodeLine{01555\ \ \ \}}
\DoxyCodeLine{01556\ }
\DoxyCodeLine{01557\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ button\ :\ modulation\_buttons\_)}
\DoxyCodeLine{01558\ \ \ \ \ button.second-\/>setActiveModulation(button.second-\/>isActiveModulation());}
\DoxyCodeLine{01559\ }
\DoxyCodeLine{01560\ \ \ \mbox{\hyperlink{class_modulation_manager_a9d6158c243e5044fcd791e80c00b191d}{setModulationAmounts}}();}
\DoxyCodeLine{01561\ \ \ \textcolor{keywordflow}{if}\ (getWidth()\ >\ 0)}
\DoxyCodeLine{01562\ \ \ \ \ positionModulationAmountSliders();}
\DoxyCodeLine{01563\ \ \ \mbox{\hyperlink{class_modulation_manager_aa75f9196f5b2b03cb165efcc28129e0b}{initAuxConnections}}();}
\DoxyCodeLine{01564\ \}}
\DoxyCodeLine{01565\ }
\DoxyCodeLine{01566\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a8e27c3371d85ea1f4882f08cf6347d57}{ModulationManager::hideUnusedHoverModulations}}()\ \{}
\DoxyCodeLine{01567\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01568\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr}\ ||\ changing\_hover\_modulation\_)}
\DoxyCodeLine{01569\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01570\ }
\DoxyCodeLine{01571\ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{vital::ModulationConnectionBank}}\&\ bank\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}();}
\DoxyCodeLine{01572\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{01573\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i);}
\DoxyCodeLine{01574\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{01575\ \ \ \ \ \textcolor{keywordflow}{if}\ (connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}.empty()\ ||\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}.empty())}
\DoxyCodeLine{01576\ \ \ \ \ \ \ modulation\_hover\_sliders\_[index]-\/>hideImmediately();}
\DoxyCodeLine{01577\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01578\ \ \ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider\ =\ slider\_model\_lookup\_[connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}];}
\DoxyCodeLine{01579\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (slider\ ==\ \textcolor{keyword}{nullptr}\ ||\ !slider-\/>isShowing())}
\DoxyCodeLine{01580\ \ \ \ \ \ \ \ \ modulation\_hover\_sliders\_[index]-\/>hideImmediately();}
\DoxyCodeLine{01581\ \ \ \ \ \}}
\DoxyCodeLine{01582\ \ \ \}}
\DoxyCodeLine{01583\ \}}
\DoxyCodeLine{01584\ }
\DoxyCodeLine{01585\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_modulation_manager_a4882248de9b7b7c0140df000e24718a3}{ModulationManager::getAuxMultiplier}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{01586\ \ \ \textcolor{keywordtype}{float}\ mult\ =\ 1.0f;}
\DoxyCodeLine{01587\ \ \ \textcolor{keywordflow}{while}\ (aux\_connections\_to\_from\_.count(index))\ \{}
\DoxyCodeLine{01588\ \ \ \ \ index\ =\ aux\_connections\_to\_from\_[index];}
\DoxyCodeLine{01589\ \ \ \ \ mult\ *=\ 0.5f;}
\DoxyCodeLine{01590\ \ \ \}}
\DoxyCodeLine{01591\ }
\DoxyCodeLine{01592\ \ \ \textcolor{keywordflow}{return}\ mult;}
\DoxyCodeLine{01593\ \}}
\DoxyCodeLine{01594\ }
\DoxyCodeLine{01595\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_aab0ba6aaac1b48759aa3df352034f26a}{ModulationManager::addAuxConnection}}(\textcolor{keywordtype}{int}\ from\_index,\ \textcolor{keywordtype}{int}\ to\_index)\ \{}
\DoxyCodeLine{01596\ \ \ \textcolor{keywordflow}{if}\ (from\_index\ ==\ to\_index)}
\DoxyCodeLine{01597\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01598\ }
\DoxyCodeLine{01599\ \ \ aux\_connections\_to\_from\_[to\_index]\ =\ from\_index;}
\DoxyCodeLine{01600\ \ \ aux\_connections\_from\_to\_[from\_index]\ =\ to\_index;}
\DoxyCodeLine{01601\ \ \ std::string\ aux\_name\ =\ \textcolor{stringliteral}{"{}modulation\_"{}}\ +\ std::to\_string(from\_index\ +\ 1)\ +\ \textcolor{stringliteral}{"{}\_amount"{}};}
\DoxyCodeLine{01602\ \ \ modulation\_hover\_sliders\_[to\_index]-\/>setAux(aux\_name);}
\DoxyCodeLine{01603\ \ \ modulation\_amount\_sliders\_[to\_index]-\/>setAux(aux\_name);}
\DoxyCodeLine{01604\ \}}
\DoxyCodeLine{01605\ }
\DoxyCodeLine{01606\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ad9f90a7823d6105ef6ff100927f23f64}{ModulationManager::removeAuxSourceConnection}}(\textcolor{keywordtype}{int}\ from\_index)\ \{}
\DoxyCodeLine{01607\ \ \ \textcolor{keywordflow}{if}\ (aux\_connections\_from\_to\_.count(from\_index)\ ==\ 0)}
\DoxyCodeLine{01608\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01609\ }
\DoxyCodeLine{01610\ \ \ \textcolor{keywordtype}{int}\ to\_index\ =\ aux\_connections\_from\_to\_[from\_index];}
\DoxyCodeLine{01611\ \ \ modulation\_hover\_sliders\_[to\_index]-\/>removeAux();}
\DoxyCodeLine{01612\ \ \ modulation\_amount\_sliders\_[to\_index]-\/>removeAux();}
\DoxyCodeLine{01613\ \ \ aux\_connections\_from\_to\_.erase(from\_index);}
\DoxyCodeLine{01614\ \ \ aux\_connections\_to\_from\_.erase(to\_index);}
\DoxyCodeLine{01615\ \}}
\DoxyCodeLine{01616\ }
\DoxyCodeLine{01617\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_ac3adc2dd4ded20da6321629f94986c7e}{ModulationManager::removeAuxDestinationConnection}}(\textcolor{keywordtype}{int}\ to\_index)\ \{}
\DoxyCodeLine{01618\ \ \ \textcolor{keywordflow}{if}\ (aux\_connections\_to\_from\_.count(to\_index)\ ==\ 0)}
\DoxyCodeLine{01619\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01620\ }
\DoxyCodeLine{01621\ \ \ modulation\_hover\_sliders\_[to\_index]-\/>removeAux();}
\DoxyCodeLine{01622\ \ \ modulation\_amount\_sliders\_[to\_index]-\/>removeAux();}
\DoxyCodeLine{01623\ \ \ aux\_connections\_from\_to\_.erase(aux\_connections\_to\_from\_[to\_index]);}
\DoxyCodeLine{01624\ \ \ aux\_connections\_to\_from\_.erase(to\_index);}
\DoxyCodeLine{01625\ \}}
\DoxyCodeLine{01626\ }
\DoxyCodeLine{01627\ \textcolor{keywordtype}{void}\ ModulationManager::makeCurrentModulatorAmountsVisible()\ \{}
\DoxyCodeLine{01628\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01629\ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_\ ==\ \textcolor{keyword}{nullptr}\ ||\ parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01630\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01631\ }
\DoxyCodeLine{01632\ \ \ std::string\ source\_name\ =\ current\_modulator\_-\/>getName().toStdString();}
\DoxyCodeLine{01633\ \ \ std::vector<vital::ModulationConnection*>\ connections\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a129a3dc3855b4a3c9bdab2266e33c275}{getSourceConnections}}(source\_name);}
\DoxyCodeLine{01634\ \ \ std::set<ModulationAmountKnob*>\ selected\_modulation\_sliders;}
\DoxyCodeLine{01635\ }
\DoxyCodeLine{01636\ \ \ \textcolor{keywordtype}{int}\ width\ =\ \mbox{\hyperlink{class_synth_section_a966868a7e67306cc7ad36dab3ef22936}{size\_ratio\_}}\ *\ 24.0f;}
\DoxyCodeLine{01637\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ connections)\ \{}
\DoxyCodeLine{01638\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{01639\ \ \ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ selected\_slider\ =\ selected\_modulation\_sliders\_[index].get();}
\DoxyCodeLine{01640\ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_aa0bda86e79e2bd8f1974f50a153cf1cb}{setCurrentModulator}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01641\ \ \ \ \ selected\_modulation\_sliders.insert(selected\_slider);}
\DoxyCodeLine{01642\ \ \ \ \ \textcolor{keywordflow}{if}\ (!selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a8e1719384cd10246d26f2c2f7d738758}{hasAux}}())\ \{}
\DoxyCodeLine{01643\ \ \ \ \ \ \ selected\_slider-\/>setValue(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>currentBaseValue(),\ dontSendNotification);}
\DoxyCodeLine{01644\ \ \ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_open_gl_slider_a906127f143b2b672e085c1067f382788}{redoImage}}();}
\DoxyCodeLine{01645\ \ \ \ \ \}}
\DoxyCodeLine{01646\ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a8417935990595455b9466889e0c61008}{setSource}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}});}
\DoxyCodeLine{01647\ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_aa0bda86e79e2bd8f1974f50a153cf1cb}{setCurrentModulator}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}\ ==\ source\_name);}
\DoxyCodeLine{01648\ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a637304affbed4e9035979c56f74ca9bd}{setBipolar}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isBipolar());}
\DoxyCodeLine{01649\ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a0020559b7e4706b11a1b297c3e0cb76a}{setStereo}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isStereo());}
\DoxyCodeLine{01650\ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_aceb0228980bbef47af9305f2346c9faa}{setBypass}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isBypassed());}
\DoxyCodeLine{01651\ }
\DoxyCodeLine{01652\ \ \ \ \ \textcolor{keywordflow}{if}\ (slider\_model\_lookup\_.count(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}})\ ==\ 0)}
\DoxyCodeLine{01653\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01654\ }
\DoxyCodeLine{01655\ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ destination\_slider\ =\ slider\_model\_lookup\_[connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}];}
\DoxyCodeLine{01656\ \ \ \ \ \textcolor{keywordflow}{if}\ (slider\_model\_lookup\_[connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}}]\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01657\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01658\ \ \ \ \ Rectangle<int>\ destination\_bounds\ =\ getLocalArea(destination\_slider,\ destination\_slider-\/>getLocalBounds());}
\DoxyCodeLine{01659\ }
\DoxyCodeLine{01660\ \ \ \ \ \textcolor{keywordtype}{int}\ center\_x\ =\ destination\_bounds.getCentreX();}
\DoxyCodeLine{01661\ \ \ \ \ \textcolor{keywordtype}{int}\ left\ =\ destination\_bounds.getX();}
\DoxyCodeLine{01662\ \ \ \ \ \textcolor{keywordtype}{int}\ right\ =\ destination\_bounds.getRight();}
\DoxyCodeLine{01663\ }
\DoxyCodeLine{01664\ \ \ \ \ \textcolor{keywordtype}{int}\ bottom\ =\ destination\_bounds.getBottom();}
\DoxyCodeLine{01665\ \ \ \ \ \textcolor{keywordtype}{int}\ top\ =\ destination\_bounds.getY();}
\DoxyCodeLine{01666\ \ \ \ \ \textcolor{keywordtype}{int}\ center\_y\ =\ destination\_bounds.getCentreY();}
\DoxyCodeLine{01667\ }
\DoxyCodeLine{01668\ \ \ \ \ BubbleComponent::BubblePlacement\ placement\ =\ destination\_slider-\/>\mbox{\hyperlink{class_synth_slider_abb40cb5b3271c58eeb69434789837adb}{getModulationPlacement}}();}
\DoxyCodeLine{01669\ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_synth_slider_aa4e8c83582070e6e751215d8841244af}{setPopupPlacement}}(placement);}
\DoxyCodeLine{01670\ \ \ \ \ \textcolor{keywordflow}{if}\ (placement\ ==\ BubbleComponent::below)}
\DoxyCodeLine{01671\ \ \ \ \ \ \ selected\_slider-\/>setBounds(center\_x\ -\/\ width\ /\ 2,\ bottom,\ width,\ width);}
\DoxyCodeLine{01672\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (placement\ ==\ BubbleComponent::above)}
\DoxyCodeLine{01673\ \ \ \ \ \ \ selected\_slider-\/>setBounds(center\_x\ -\/\ width\ /\ 2,\ top\ -\/\ width,\ width,\ width);}
\DoxyCodeLine{01674\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (placement\ ==\ BubbleComponent::left)}
\DoxyCodeLine{01675\ \ \ \ \ \ \ selected\_slider-\/>setBounds(left\ -\/\ width,\ center\_y\ -\/\ width\ /\ 2,\ width,\ width);}
\DoxyCodeLine{01676\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01677\ \ \ \ \ \ \ selected\_slider-\/>setBounds(right,\ center\_y\ -\/\ width\ /\ 2,\ width,\ width);}
\DoxyCodeLine{01678\ }
\DoxyCodeLine{01679\ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a4d82f1f24e2a90df0686481d6ec98030}{makeVisible}}(destination\_slider-\/>isShowing());}
\DoxyCodeLine{01680\ \ \ \}}
\DoxyCodeLine{01681\ }
\DoxyCodeLine{01682\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ selected\_slider\ :\ selected\_modulation\_sliders\_)\ \{}
\DoxyCodeLine{01683\ \ \ \ \ \textcolor{keywordflow}{if}\ (selected\_modulation\_sliders.count(selected\_slider.get())\ ==\ 0)}
\DoxyCodeLine{01684\ \ \ \ \ \ \ selected\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a4d82f1f24e2a90df0686481d6ec98030}{makeVisible}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01685\ \ \ \}}
\DoxyCodeLine{01686\ \}}
\DoxyCodeLine{01687\ }
\DoxyCodeLine{01688\ \textcolor{keywordtype}{void}\ ModulationManager::makeModulationsVisible(\mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ destination,\ \textcolor{keywordtype}{bool}\ visible)\ \{}
\DoxyCodeLine{01689\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01690\ \ \ \textcolor{keywordflow}{if}\ (destination\ ==\ \textcolor{keyword}{nullptr}\ ||\ parent\ ==\ \textcolor{keyword}{nullptr}\ ||\ changing\_hover\_modulation\_)}
\DoxyCodeLine{01691\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01692\ }
\DoxyCodeLine{01693\ \ \ std::string\ name\ =\ destination-\/>getName().toStdString();}
\DoxyCodeLine{01694\ \ \ \textcolor{keywordflow}{if}\ (slider\_model\_lookup\_[name]\ !=\ destination)}
\DoxyCodeLine{01695\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01696\ }
\DoxyCodeLine{01697\ \ \ std::vector<vital::ModulationConnection*>\ connections\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_aba42dfae8fff58a0702ca7f874a6a779}{getDestinationConnections}}(name);}
\DoxyCodeLine{01698\ \ \ std::vector<ModulationAmountKnob*>\ modulation\_hover\_sliders;}
\DoxyCodeLine{01699\ }
\DoxyCodeLine{01700\ \ \ \textcolor{keywordtype}{bool}\ current\_modulation\_showing\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01701\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ connections)\ \{}
\DoxyCodeLine{01702\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{01703\ \ \ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ hover\_slider\ =\ modulation\_hover\_sliders\_[index].get();}
\DoxyCodeLine{01704\ \ \ \ \ \textcolor{keywordflow}{if}\ (current\_modulator\_\ \&\&\ current\_modulator\_-\/>getName()\ ==\ String(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}}))}
\DoxyCodeLine{01705\ \ \ \ \ \ \ current\_modulation\_showing\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01706\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01707\ \ \ \ \ \ \ modulation\_hover\_sliders.push\_back(hover\_slider);}
\DoxyCodeLine{01708\ \ \ \ \ \textcolor{keywordflow}{if}\ (!hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a8e1719384cd10246d26f2c2f7d738758}{hasAux}}())\ \{}
\DoxyCodeLine{01709\ \ \ \ \ \ \ hover\_slider-\/>setValue(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>currentBaseValue(),\ dontSendNotification);}
\DoxyCodeLine{01710\ \ \ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_open_gl_slider_a906127f143b2b672e085c1067f382788}{redoImage}}();}
\DoxyCodeLine{01711\ \ \ \ \ \}}
\DoxyCodeLine{01712\ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a8417935990595455b9466889e0c61008}{setSource}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_ab0b21a5897f08fa25b0c349df45d9fb7}{source\_name}});}
\DoxyCodeLine{01713\ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a637304affbed4e9035979c56f74ca9bd}{setBipolar}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isBipolar());}
\DoxyCodeLine{01714\ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a0020559b7e4706b11a1b297c3e0cb76a}{setStereo}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isStereo());}
\DoxyCodeLine{01715\ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_aceb0228980bbef47af9305f2346c9faa}{setBypass}}(connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isBypassed());}
\DoxyCodeLine{01716\ \ \ \}}
\DoxyCodeLine{01717\ }
\DoxyCodeLine{01718\ \ \ \textcolor{keywordtype}{int}\ hover\_slider\_width\ =\ \mbox{\hyperlink{class_synth_section_a966868a7e67306cc7ad36dab3ef22936}{size\_ratio\_}}\ *\ 24.0f;}
\DoxyCodeLine{01719\ \ \ \textcolor{keywordflow}{if}\ (current\_modulation\_showing)\ \{}
\DoxyCodeLine{01720\ \ \ \ \ \textcolor{keyword}{auto}\ position\ =\ modulation\_hover\_sliders.begin()\ +\ (modulation\_hover\_sliders.size()\ +\ 1)\ /\ 2;}
\DoxyCodeLine{01721\ \ \ \ \ modulation\_hover\_sliders.insert(position,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01722\ \ \ \ \ \textcolor{keywordflow}{if}\ (modulation\_hover\_sliders.size()\ \%\ 2\ ==\ 0)}
\DoxyCodeLine{01723\ \ \ \ \ \ \ modulation\_hover\_sliders.insert(modulation\_hover\_sliders.end(),\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01724\ \ \ \}}
\DoxyCodeLine{01725\ \ \ \textcolor{keywordtype}{int}\ num\_sliders\ =\ (int)modulation\_hover\_sliders.size();}
\DoxyCodeLine{01726\ }
\DoxyCodeLine{01727\ \ \ Rectangle<int>\ destination\_bounds\ =\ getLocalArea(destination,\ destination-\/>getLocalBounds());}
\DoxyCodeLine{01728\ \ \ \textcolor{keywordtype}{int}\ x\ =\ destination\_bounds.getRight();}
\DoxyCodeLine{01729\ \ \ \textcolor{keywordtype}{int}\ y\ =\ destination\_bounds.getBottom();}
\DoxyCodeLine{01730\ \ \ \textcolor{keywordtype}{int}\ beginning\_offset\ =\ hover\_slider\_width\ *\ num\_sliders\ /\ 2;}
\DoxyCodeLine{01731\ \ \ \textcolor{keywordtype}{int}\ delta\_x\ =\ 0;}
\DoxyCodeLine{01732\ \ \ \textcolor{keywordtype}{int}\ delta\_y\ =\ 0;}
\DoxyCodeLine{01733\ }
\DoxyCodeLine{01734\ \ \ BubbleComponent::BubblePlacement\ placement\ =\ destination-\/>\mbox{\hyperlink{class_synth_slider_abb40cb5b3271c58eeb69434789837adb}{getModulationPlacement}}();}
\DoxyCodeLine{01735\ \ \ \textcolor{keywordflow}{if}\ (placement\ ==\ BubbleComponent::below)\ \{}
\DoxyCodeLine{01736\ \ \ \ \ x\ =\ destination\_bounds.getCentreX()\ -\/\ beginning\_offset;}
\DoxyCodeLine{01737\ \ \ \ \ delta\_x\ =\ hover\_slider\_width;}
\DoxyCodeLine{01738\ \ \ \}}
\DoxyCodeLine{01739\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (placement\ ==\ BubbleComponent::above)\ \{}
\DoxyCodeLine{01740\ \ \ \ \ x\ =\ destination\_bounds.getCentreX()\ -\/\ beginning\_offset;}
\DoxyCodeLine{01741\ \ \ \ \ y\ =\ destination\_bounds.getY()\ -\/\ hover\_slider\_width;}
\DoxyCodeLine{01742\ \ \ \ \ delta\_x\ =\ hover\_slider\_width;}
\DoxyCodeLine{01743\ \ \ \}}
\DoxyCodeLine{01744\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (placement\ ==\ BubbleComponent::left)\ \{}
\DoxyCodeLine{01745\ \ \ \ \ x\ =\ destination\_bounds.getX()\ -\/\ hover\_slider\_width;}
\DoxyCodeLine{01746\ \ \ \ \ y\ =\ destination\_bounds.getCentreY()\ -\/\ beginning\_offset;}
\DoxyCodeLine{01747\ \ \ \ \ delta\_y\ =\ hover\_slider\_width;}
\DoxyCodeLine{01748\ \ \ \}}
\DoxyCodeLine{01749\ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01750\ \ \ \ \ y\ =\ destination\_bounds.getCentreY()\ -\/\ beginning\_offset;}
\DoxyCodeLine{01751\ \ \ \ \ delta\_y\ =\ hover\_slider\_width;}
\DoxyCodeLine{01752\ \ \ \}}
\DoxyCodeLine{01753\ }
\DoxyCodeLine{01754\ \ \ std::unordered\_set<ModulationAmountKnob*>\ lookup(modulation\_hover\_sliders.begin(),\ modulation\_hover\_sliders.end());}
\DoxyCodeLine{01755\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ hover\_slider\ :\ modulation\_hover\_sliders\_)\ \{}
\DoxyCodeLine{01756\ \ \ \ \ \textcolor{keywordflow}{if}\ (lookup.count(hover\_slider.get())\ ==\ 0)}
\DoxyCodeLine{01757\ \ \ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a4d82f1f24e2a90df0686481d6ec98030}{makeVisible}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01758\ \ \ \}}
\DoxyCodeLine{01759\ }
\DoxyCodeLine{01760\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ hover\_slider\ :\ modulation\_hover\_sliders)\ \{}
\DoxyCodeLine{01761\ \ \ \ \ \textcolor{keywordflow}{if}\ (hover\_slider)\ \{}
\DoxyCodeLine{01762\ \ \ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_synth_slider_aa4e8c83582070e6e751215d8841244af}{setPopupPlacement}}(placement);}
\DoxyCodeLine{01763\ \ \ \ \ \ \ hover\_slider-\/>setBounds(x,\ y,\ hover\_slider\_width,\ hover\_slider\_width);}
\DoxyCodeLine{01764\ \ \ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a4d82f1f24e2a90df0686481d6ec98030}{makeVisible}}(visible);}
\DoxyCodeLine{01765\ \ \ \ \ \ \ hover\_slider-\/>\mbox{\hyperlink{class_open_gl_slider_a906127f143b2b672e085c1067f382788}{redoImage}}();}
\DoxyCodeLine{01766\ \ \ \ \ \}}
\DoxyCodeLine{01767\ \ \ \ \ x\ +=\ delta\_x;}
\DoxyCodeLine{01768\ \ \ \ \ y\ +=\ delta\_y;}
\DoxyCodeLine{01769\ \ \ \}}
\DoxyCodeLine{01770\ \}}
\DoxyCodeLine{01771\ }
\DoxyCodeLine{01772\ \textcolor{keywordtype}{void}\ ModulationManager::positionModulationAmountSlidersInside(\textcolor{keyword}{const}\ std::string\&\ source,}
\DoxyCodeLine{01773\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<vital::ModulationConnection*>\ connections)\ \{}
\DoxyCodeLine{01774\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ kRightPopupPositionX\ =\ 150;}
\DoxyCodeLine{01775\ \ \ \textcolor{keywordtype}{int}\ total\_connections\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(connections.size());}
\DoxyCodeLine{01776\ \ \ \mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ modulation\_button\ =\ modulation\_buttons\_[source];}
\DoxyCodeLine{01777\ \ \ \mbox{\hyperlink{class_expand_modulation_button}{ExpandModulationButton}}*\ expand\_button\ =\ modulation\_callout\_buttons\_[source].get();}
\DoxyCodeLine{01778\ \ \ expand\_button-\/>setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{01779\ }
\DoxyCodeLine{01780\ \ \ \textcolor{keywordflow}{if}\ (expand\_button\ ==\ current\_expanded\_modulation\_)}
\DoxyCodeLine{01781\ \ \ \ \ hideModulationAmountCallout();}
\DoxyCodeLine{01782\ }
\DoxyCodeLine{01783\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ total\_connections;\ ++i)\ \{}
\DoxyCodeLine{01784\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ connections[i];}
\DoxyCodeLine{01785\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{01786\ \ \ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ slider\ =\ modulation\_amount\_sliders\_[index].get();}
\DoxyCodeLine{01787\ \ \ \ \ slider-\/>setVisible(showingInParents(modulation\_button));}
\DoxyCodeLine{01788\ \ \ \ \ Point<int>\ point\ =\ getLocalPoint(modulation\_button,\ Point<int>(0,\ 0));}
\DoxyCodeLine{01789\ \ \ \ \ slider-\/>setBounds(modulation\_button-\/>\mbox{\hyperlink{class_modulation_button_ab81ea2970a38f76bbbe9e9014021ffd3}{getModulationAmountBounds}}(i,\ total\_connections)\ +\ point);}
\DoxyCodeLine{01790\ }
\DoxyCodeLine{01791\ \ \ \ \ BubbleComponent::BubblePlacement\ popup\_position\ =\ BubbleComponent::below;}
\DoxyCodeLine{01792\ \ \ \ \ \textcolor{keywordflow}{if}\ (slider-\/>getX()\ <\ kRightPopupPositionX)}
\DoxyCodeLine{01793\ \ \ \ \ \ \ popup\_position\ =\ BubbleComponent::right;}
\DoxyCodeLine{01794\ \ \ \ \ \textcolor{keywordflow}{if}\ (getWidth()\ -\/\ slider-\/>getRight()\ <\ kRightPopupPositionX)}
\DoxyCodeLine{01795\ \ \ \ \ \ \ popup\_position\ =\ BubbleComponent::left;}
\DoxyCodeLine{01796\ \ \ \ \ slider-\/>\mbox{\hyperlink{class_synth_slider_aa4e8c83582070e6e751215d8841244af}{setPopupPlacement}}(popup\_position);}
\DoxyCodeLine{01797\ }
\DoxyCodeLine{01798\ \ \ \ \ std::string\ name\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}};}
\DoxyCodeLine{01799\ \ \ \ \ \textcolor{keywordflow}{if}\ (slider\_model\_lookup\_.count(name))}
\DoxyCodeLine{01800\ \ \ \ \ \ \ slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a75364e3e6badb91231ab0fedb548d7cf}{setDestinationComponent}}(slider\_model\_lookup\_[name],\ name);}
\DoxyCodeLine{01801\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01802\ \ \ \ \ \ \ slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a75364e3e6badb91231ab0fedb548d7cf}{setDestinationComponent}}(\textcolor{keyword}{nullptr},\ name);}
\DoxyCodeLine{01803\ }
\DoxyCodeLine{01804\ \ \ \ \ slider-\/>setMouseClickGrabsKeyboardFocus(\textcolor{keyword}{true});}
\DoxyCodeLine{01805\ \ \ \ \ slider-\/>\mbox{\hyperlink{class_open_gl_slider_a906127f143b2b672e085c1067f382788}{redoImage}}();}
\DoxyCodeLine{01806\ \ \ \}}
\DoxyCodeLine{01807\ \}}
\DoxyCodeLine{01808\ }
\DoxyCodeLine{01809\ \textcolor{keywordtype}{void}\ ModulationManager::positionModulationAmountSlidersCallout(\textcolor{keyword}{const}\ std::string\&\ source,}
\DoxyCodeLine{01810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<vital::ModulationConnection*>\ connections)\ \{}
\DoxyCodeLine{01811\ \ \ \mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ modulation\_button\ =\ modulation\_buttons\_[source];}
\DoxyCodeLine{01812\ \ \ \mbox{\hyperlink{class_expand_modulation_button}{ExpandModulationButton}}*\ expand\_button\ =\ modulation\_callout\_buttons\_[source].get();}
\DoxyCodeLine{01813\ \ \ expand\_button-\/>setBounds(getLocalArea(modulation\_button,\ modulation\_button-\/>\mbox{\hyperlink{class_modulation_button_ae7103b92c255a51bc6d59274c443e705}{getModulationAreaBounds}}()));}
\DoxyCodeLine{01814\ \ \ expand\_button-\/>setVisible(showingInParents(modulation\_button));}
\DoxyCodeLine{01815\ }
\DoxyCodeLine{01816\ \ \ std::vector<ModulationAmountKnob*>\ amount\_controls;}
\DoxyCodeLine{01817\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ :\ connections)\ \{}
\DoxyCodeLine{01818\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>index();}
\DoxyCodeLine{01819\ \ \ \ \ amount\_controls.push\_back(modulation\_amount\_sliders\_[index].get());}
\DoxyCodeLine{01820\ \ \ \ \ \mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ slider\ =\ modulation\_amount\_sliders\_[index].get();}
\DoxyCodeLine{01821\ }
\DoxyCodeLine{01822\ \ \ \ \ std::string\ name\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_aa639c48dede2e2037c4d55f1066ad661}{destination\_name}};}
\DoxyCodeLine{01823\ \ \ \ \ \textcolor{keywordflow}{if}\ (slider\_model\_lookup\_.count(name))}
\DoxyCodeLine{01824\ \ \ \ \ \ \ slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a75364e3e6badb91231ab0fedb548d7cf}{setDestinationComponent}}(slider\_model\_lookup\_[name],\ name);}
\DoxyCodeLine{01825\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01826\ \ \ \ \ \ \ slider-\/>\mbox{\hyperlink{class_modulation_amount_knob_a75364e3e6badb91231ab0fedb548d7cf}{setDestinationComponent}}(\textcolor{keyword}{nullptr},\ name);}
\DoxyCodeLine{01827\ }
\DoxyCodeLine{01828\ \ \ \ \ slider-\/>setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{01829\ \ \ \}}
\DoxyCodeLine{01830\ }
\DoxyCodeLine{01831\ \ \ expand\_button-\/>\mbox{\hyperlink{class_expand_modulation_button_aa300305fabb16ce663371472ff98e8a3}{setSliders}}(amount\_controls);}
\DoxyCodeLine{01832\ \ \ \textcolor{keywordflow}{if}\ (expand\_button\ ==\ current\_expanded\_modulation\_)}
\DoxyCodeLine{01833\ \ \ \ \ showModulationAmountCallout(source);}
\DoxyCodeLine{01834\ \}}
\DoxyCodeLine{01835\ }
\DoxyCodeLine{01836\ \textcolor{keywordtype}{void}\ ModulationManager::showModulationAmountCallout(\textcolor{keyword}{const}\ std::string\&\ source)\ \{}
\DoxyCodeLine{01837\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kSliderWidth\ =\ 30;}
\DoxyCodeLine{01838\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kPadding\ =\ 5;}
\DoxyCodeLine{01839\ }
\DoxyCodeLine{01840\ \ \ \mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ modulation\_button\ =\ modulation\_buttons\_[source];}
\DoxyCodeLine{01841\ \ \ current\_expanded\_modulation\_\ =\ modulation\_callout\_buttons\_[source].get();}
\DoxyCodeLine{01842\ \ \ std::vector<ModulationAmountKnob*>\ amount\_controls\ =\ current\_expanded\_modulation\_-\/>\mbox{\hyperlink{class_expand_modulation_button_a453020aeb25fc850febb09303e77646e}{getSliders}}();}
\DoxyCodeLine{01843\ }
\DoxyCodeLine{01844\ \ \ \textcolor{keywordtype}{int}\ num\_sliders\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(amount\_controls.size());}
\DoxyCodeLine{01845\ \ \ \textcolor{keywordtype}{int}\ columns\ =\ current\_expanded\_modulation\_-\/>\mbox{\hyperlink{class_expand_modulation_button_a2b162bfd253e5fc888bae91121f858dc}{getNumColumns}}(num\_sliders);}
\DoxyCodeLine{01846\ \ \ \textcolor{keywordtype}{int}\ rows\ =\ (num\_sliders\ +\ columns\ -\/\ 1)\ /\ columns;}
\DoxyCodeLine{01847\ \ \ \textcolor{keywordtype}{int}\ width\ =\ kSliderWidth\ *\ columns\ +\ 2\ *\ kPadding;}
\DoxyCodeLine{01848\ \ \ \textcolor{keywordtype}{int}\ height\ =\ kSliderWidth\ *\ rows\ +\ 2\ *\ kPadding;}
\DoxyCodeLine{01849\ \ \ Rectangle<int>\ top\_level\_modulation\_bounds\ =\ getLocalArea(modulation\_button,\ modulation\_button-\/>getLocalBounds());}
\DoxyCodeLine{01850\ \ \ \textcolor{keywordtype}{int}\ start\_x\ =\ top\_level\_modulation\_bounds.getX()\ +\ (modulation\_button-\/>getWidth()\ -\/\ width)\ /\ 2;}
\DoxyCodeLine{01851\ \ \ start\_x\ =\ std::min(getWidth()\ -\/\ width,\ std::max(0,\ start\_x));}
\DoxyCodeLine{01852\ \ \ \textcolor{keywordtype}{int}\ start\_y\ =\ top\_level\_modulation\_bounds.getBottom();}
\DoxyCodeLine{01853\ \ \ start\_y\ =\ std::min(getHeight()\ -\/\ height,\ start\_y);}
\DoxyCodeLine{01854\ }
\DoxyCodeLine{01855\ \ \ modulation\_expansion\_box\_.setVisible(\textcolor{keyword}{true});}
\DoxyCodeLine{01856\ \ \ modulation\_expansion\_box\_.\mbox{\hyperlink{class_modulation_expansion_box_a58161d553bed919597acda7dc62b5512}{setAmountControls}}(amount\_controls);}
\DoxyCodeLine{01857\ \ \ modulation\_expansion\_box\_.setBounds(start\_x,\ start\_y,\ width,\ height);}
\DoxyCodeLine{01858\ \ \ modulation\_expansion\_box\_.\mbox{\hyperlink{class_open_gl_multi_quad_aba2d4bbfa5b4c1e4b510bc5746a221b6}{setRounding}}(\mbox{\hyperlink{class_synth_section_aa01a2cf1cb512707d217490aa89a8b2f}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180a3ace4f50f1270ae89a0bc95335de6973}{Skin::kBodyRounding}}));}
\DoxyCodeLine{01859\ \ \ modulation\_expansion\_box\_.grabKeyboardFocus();}
\DoxyCodeLine{01860\ }
\DoxyCodeLine{01861\ \ \ \textcolor{keywordtype}{int}\ row\ =\ 0;}
\DoxyCodeLine{01862\ \ \ \textcolor{keywordtype}{int}\ column\ =\ 0;}
\DoxyCodeLine{01863\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ slider\ :\ amount\_controls)\ \{}
\DoxyCodeLine{01864\ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ column\ *\ kSliderWidth\ +\ kPadding;}
\DoxyCodeLine{01865\ \ \ \ \ \textcolor{keywordtype}{int}\ y\ =\ height\ -\/\ (row\ +\ 1)\ *\ kSliderWidth\ -\/\ kPadding;}
\DoxyCodeLine{01866\ \ \ \ \ slider-\/>setBounds(start\_x\ +\ x,\ start\_y\ +\ y,\ kSliderWidth,\ kSliderWidth);}
\DoxyCodeLine{01867\ \ \ \ \ slider-\/>setVisible(\textcolor{keyword}{true});}
\DoxyCodeLine{01868\ \ \ \ \ slider-\/>setMouseClickGrabsKeyboardFocus(\textcolor{keyword}{false});}
\DoxyCodeLine{01869\ \ \ \ \ slider-\/>\mbox{\hyperlink{class_open_gl_slider_a906127f143b2b672e085c1067f382788}{redoImage}}();}
\DoxyCodeLine{01870\ \ \ \ \ slider-\/>\mbox{\hyperlink{class_open_gl_slider_ae6ec023b240fafb45c6971de2006c498}{getQuadComponent}}()-\/>setAlwaysOnTop(\textcolor{keyword}{true});}
\DoxyCodeLine{01871\ }
\DoxyCodeLine{01872\ \ \ \ \ column++;}
\DoxyCodeLine{01873\ \ \ \ \ \textcolor{keywordflow}{if}\ (column\ >=\ columns)\ \{}
\DoxyCodeLine{01874\ \ \ \ \ \ \ column\ =\ 0;}
\DoxyCodeLine{01875\ \ \ \ \ \ \ row++;}
\DoxyCodeLine{01876\ \ \ \ \ \}}
\DoxyCodeLine{01877\ \ \ \}}
\DoxyCodeLine{01878\ \}}
\DoxyCodeLine{01879\ }
\DoxyCodeLine{01880\ \textcolor{keywordtype}{void}\ ModulationManager::hideModulationAmountCallout()\ \{}
\DoxyCodeLine{01881\ \ \ \textcolor{keywordflow}{if}\ (current\_expanded\_modulation\_\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01882\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01883\ }
\DoxyCodeLine{01884\ \ \ std::vector<ModulationAmountKnob*>\ amount\_controls\ =\ current\_expanded\_modulation\_-\/>\mbox{\hyperlink{class_expand_modulation_button_a453020aeb25fc850febb09303e77646e}{getSliders}}();}
\DoxyCodeLine{01885\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_modulation_amount_knob}{ModulationAmountKnob}}*\ slider\ :\ amount\_controls)\ \{}
\DoxyCodeLine{01886\ \ \ \ \ slider-\/>setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{01887\ \ \ \ \ slider-\/>\mbox{\hyperlink{class_open_gl_slider_ae6ec023b240fafb45c6971de2006c498}{getQuadComponent}}()-\/>setAlwaysOnTop(\textcolor{keyword}{false});}
\DoxyCodeLine{01888\ \ \ \}}
\DoxyCodeLine{01889\ }
\DoxyCodeLine{01890\ \ \ modulation\_expansion\_box\_.setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{01891\ \ \ current\_expanded\_modulation\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01892\ \}}
\DoxyCodeLine{01893\ }
\DoxyCodeLine{01894\ \textcolor{keywordtype}{void}\ ModulationManager::positionModulationAmountSliders(\textcolor{keyword}{const}\ std::string\&\ source)\ \{}
\DoxyCodeLine{01895\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kMaxModulationsAcross\ =\ 3;}
\DoxyCodeLine{01896\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01897\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01898\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01899\ }
\DoxyCodeLine{01900\ \ \ \mbox{\hyperlink{class_modulation_button}{ModulationButton}}*\ modulation\_button\ =\ modulation\_buttons\_[source];}
\DoxyCodeLine{01901\ \ \ Rectangle<int>\ modulation\_area\ =\ modulation\_button-\/>\mbox{\hyperlink{class_modulation_button_ae7103b92c255a51bc6d59274c443e705}{getModulationAreaBounds}}();}
\DoxyCodeLine{01902\ \ \ \textcolor{keywordtype}{int}\ area\_width\ =\ std::max(1,\ modulation\_area.getWidth());}
\DoxyCodeLine{01903\ \ \ \textcolor{keywordtype}{int}\ max\_modulation\_height\ =\ (kMaxModulationsAcross\ *\ modulation\_area.getHeight())\ /\ area\_width;}
\DoxyCodeLine{01904\ \ \ \textcolor{keywordtype}{int}\ max\_modulations\_inside\ =\ kMaxModulationsAcross\ *\ max\_modulation\_height;}
\DoxyCodeLine{01905\ }
\DoxyCodeLine{01906\ \ \ std::vector<vital::ModulationConnection*>\ connections\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a129a3dc3855b4a3c9bdab2266e33c275}{getSourceConnections}}(source);}
\DoxyCodeLine{01907\ \ \ \textcolor{keywordtype}{int}\ total\_connections\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(connections.size());}
\DoxyCodeLine{01908\ \ \ \textcolor{keywordflow}{if}\ (total\_connections)\ \{}
\DoxyCodeLine{01909\ \ \ \ \ \textcolor{keywordflow}{if}\ (total\_connections\ \&\&\ total\_connections\ >\ max\_modulations\_inside)}
\DoxyCodeLine{01910\ \ \ \ \ \ \ positionModulationAmountSlidersCallout(source,\ connections);}
\DoxyCodeLine{01911\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01912\ \ \ \ \ \ \ positionModulationAmountSlidersInside(source,\ connections);}
\DoxyCodeLine{01913\ \ \ \}}
\DoxyCodeLine{01914\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01915\ \ \ \ \ modulation\_callout\_buttons\_[source]-\/>setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{01916\ \}}
\DoxyCodeLine{01917\ }
\DoxyCodeLine{01918\ \textcolor{keywordtype}{void}\ ModulationManager::positionModulationAmountSliders()\ \{}
\DoxyCodeLine{01919\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01920\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{01921\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01922\ }
\DoxyCodeLine{01923\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ modulation\_slider\ :\ modulation\_amount\_sliders\_)}
\DoxyCodeLine{01924\ \ \ \ \ modulation\_slider-\/>setVisible(\textcolor{keyword}{false});}
\DoxyCodeLine{01925\ }
\DoxyCodeLine{01926\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ modulation\_button\ :\ modulation\_buttons\_)\ \{}
\DoxyCodeLine{01927\ \ \ \ \ std::string\ name\ =\ modulation\_button.second-\/>getName().toStdString();}
\DoxyCodeLine{01928\ \ \ \ \ positionModulationAmountSliders(name);}
\DoxyCodeLine{01929\ \ \ \}}
\DoxyCodeLine{01930\ \}}
\DoxyCodeLine{01931\ }
\DoxyCodeLine{01932\ \textcolor{keywordtype}{bool}\ ModulationManager::enteringHoverValue()\ \{}
\DoxyCodeLine{01933\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{01934\ \ \ \ \ \textcolor{keywordflow}{if}\ (modulation\_amount\_sliders\_[i]\ \&\&\ modulation\_amount\_sliders\_[i]-\/>enteringValue())}
\DoxyCodeLine{01935\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01936\ \ \ \ \ \textcolor{keywordflow}{if}\ (modulation\_hover\_sliders\_[i]\ \&\&\ modulation\_hover\_sliders\_[i]-\/>enteringValue())}
\DoxyCodeLine{01937\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01938\ \ \ \ \ \textcolor{keywordflow}{if}\ (selected\_modulation\_sliders\_[i]\ \&\&\ selected\_modulation\_sliders\_[i]-\/>enteringValue())}
\DoxyCodeLine{01939\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01940\ \ \ \}}
\DoxyCodeLine{01941\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01942\ \}}
\DoxyCodeLine{01943\ }
\DoxyCodeLine{01944\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a9d6158c243e5044fcd791e80c00b191d}{ModulationManager::setModulationAmounts}}()\ \{}
\DoxyCodeLine{01945\ \ \ \mbox{\hyperlink{class_synth_gui_interface}{SynthGuiInterface}}*\ parent\ =\ findParentComponentOfClass<SynthGuiInterface>();}
\DoxyCodeLine{01946\ \ \ \textcolor{keywordflow}{if}\ (parent\ ==\ \textcolor{keyword}{nullptr}\ ||\ modifying\_)}
\DoxyCodeLine{01947\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01948\ }
\DoxyCodeLine{01949\ \ \ \mbox{\hyperlink{classvital_1_1_modulation_connection_bank}{vital::ModulationConnectionBank}}\&\ bank\ =\ parent-\/>\mbox{\hyperlink{class_synth_gui_interface_a4e948c6a5558b838582d7476f079251d}{getSynth}}()-\/>\mbox{\hyperlink{class_synth_base_a43450b931d0e00252383cc51c33b416c}{getModulationBank}}();}
\DoxyCodeLine{01950\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{namespacevital_abcbdb48fbd4d9f98b90cae346ee22044}{vital::kMaxModulationConnections}};\ ++i)\ \{}
\DoxyCodeLine{01951\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_modulation_connection}{vital::ModulationConnection}}*\ connection\ =\ bank.\mbox{\hyperlink{classvital_1_1_modulation_connection_bank_a12e4e9852ad8f0828340b74c0af06a83}{atIndex}}(i);}
\DoxyCodeLine{01952\ \ \ \ \ \textcolor{keywordflow}{if}\ (aux\_connections\_to\_from\_.count(i)\ ==\ 0)}
\DoxyCodeLine{01953\ \ \ \ \ \ \ \mbox{\hyperlink{class_modulation_manager_a3e8e1ba31f8ebc56d84eb984b1a15ad3}{setModulationSliderValues}}(i,\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>currentBaseValue());}
\DoxyCodeLine{01954\ }
\DoxyCodeLine{01955\ \ \ \ \ \textcolor{keywordtype}{bool}\ bipolar\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isBipolar();}
\DoxyCodeLine{01956\ \ \ \ \ \textcolor{keywordtype}{bool}\ stereo\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isStereo();}
\DoxyCodeLine{01957\ \ \ \ \ \textcolor{keywordtype}{bool}\ bypass\ =\ connection-\/>\mbox{\hyperlink{structvital_1_1_modulation_connection_a3e60937dc576522f7c477da963dda169}{modulation\_processor}}-\/>isBypassed();}
\DoxyCodeLine{01958\ \ \ \ \ modulation\_amount\_sliders\_[i]-\/>setBipolar(bipolar);}
\DoxyCodeLine{01959\ \ \ \ \ modulation\_amount\_sliders\_[i]-\/>setStereo(stereo);}
\DoxyCodeLine{01960\ \ \ \ \ modulation\_amount\_sliders\_[i]-\/>setBypass(bypass);}
\DoxyCodeLine{01961\ }
\DoxyCodeLine{01962\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>setBipolar(bipolar);}
\DoxyCodeLine{01963\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>setStereo(stereo);}
\DoxyCodeLine{01964\ \ \ \ \ modulation\_hover\_sliders\_[i]-\/>setBypass(bypass);}
\DoxyCodeLine{01965\ \ \ \}}
\DoxyCodeLine{01966\ \}}
\DoxyCodeLine{01967\ }
\DoxyCodeLine{01968\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_modulation_manager_a91a40b471e423be3eaa3cd0388061a5e}{ModulationManager::setVisibleMeterBounds}}()\ \{}
\DoxyCodeLine{01969\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ meter\ :\ meter\_lookup\_)\ \{}
\DoxyCodeLine{01970\ \ \ \ \ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}*\ slider\ =\ slider\_model\_lookup\_[meter.first];}
\DoxyCodeLine{01971\ \ \ \ \ \textcolor{keywordflow}{if}\ (slider\ \&\&\ slider-\/>isShowing())\ \{}
\DoxyCodeLine{01972\ \ \ \ \ \ \ Rectangle<int>\ local\_bounds\ =\ getLocalArea(slider,\ slider-\/>\mbox{\hyperlink{class_synth_slider_a6f253f39dbd7f3908910be2cec662ead}{getModulationMeterBounds}}());}
\DoxyCodeLine{01973\ \ \ \ \ \ \ meter.second-\/>setBounds(local\_bounds);}
\DoxyCodeLine{01974\ \ \ \ \ \}}
\DoxyCodeLine{01975\ \ \ \}}
\DoxyCodeLine{01976\ \}}

\end{DoxyCode}
