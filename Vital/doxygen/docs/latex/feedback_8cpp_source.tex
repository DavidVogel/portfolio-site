\doxysection{feedback.\+cpp}
\hypertarget{feedback_8cpp_source}{}\label{feedback_8cpp_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/framework/feedback.cpp@{/Users/davidvogel/repos/VitalHelp/src/synthesis/framework/feedback.cpp}}
\mbox{\hyperlink{feedback_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{feedback_8h}{feedback.h}}"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{processor__router_8h}{processor\_router.h}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_feedback_a09862f1a647749291b0f072071207b16}{Feedback::process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00008\ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(\mbox{\hyperlink{classvital_1_1_processor_a7e35d4d320b562f794d2e4028a04cf92}{inputMatchesBufferSize}}());}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ audio\_in\ =\ \mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(0)-\/>\mbox{\hyperlink{structvital_1_1_input_adc691b9fd0f8c8c79c2a40e9e3314eaf}{source}}-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00011\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_feedback_a6ef9954cbee94efb0618ae5954062bda}{buffer\_}}[\mbox{\hyperlink{classvital_1_1_feedback_aadbdcad4a4fa65f9486cc4cf0676c404}{buffer\_index\_}}]\ =\ audio\_in[i];}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_feedback_aadbdcad4a4fa65f9486cc4cf0676c404}{buffer\_index\_}}\ =\ (\mbox{\hyperlink{classvital_1_1_feedback_aadbdcad4a4fa65f9486cc4cf0676c404}{buffer\_index\_}}\ +\ 1)\ \%\ \mbox{\hyperlink{namespacevital_a06750949802a065c02cd54062d6a28de}{kMaxBufferSize}};}
\DoxyCodeLine{00014\ \ \ \ \ \}}
\DoxyCodeLine{00015\ \ \ \}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_feedback_a53f4fb6411fc054b153f9b0685ad2138}{Feedback::refreshOutput}}(\textcolor{keywordtype}{int}\ num\_samples)\ \{}
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ audio\_out\ =\ \mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}(0)-\/>\mbox{\hyperlink{structvital_1_1_output_a1bc2c3a75ee0525ecbfb24fc841b1fe4}{buffer}};}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ (\mbox{\hyperlink{namespacevital_a06750949802a065c02cd54062d6a28de}{kMaxBufferSize}}\ +\ \mbox{\hyperlink{classvital_1_1_feedback_aadbdcad4a4fa65f9486cc4cf0676c404}{buffer\_index\_}}\ -\/\ num\_samples)\ \%\ \mbox{\hyperlink{namespacevital_a06750949802a065c02cd54062d6a28de}{kMaxBufferSize}};}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_samples;\ ++i)\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \ \ audio\_out[i]\ =\ \mbox{\hyperlink{classvital_1_1_feedback_a6ef9954cbee94efb0618ae5954062bda}{buffer\_}}[index];}
\DoxyCodeLine{00022\ \ \ \ \ \ \ index\ =\ (index\ +\ 1)\ \%\ \mbox{\hyperlink{namespacevital_a06750949802a065c02cd54062d6a28de}{kMaxBufferSize}};}
\DoxyCodeLine{00023\ \ \ \ \ \}}
\DoxyCodeLine{00024\ \ \ \}}
\DoxyCodeLine{00025\ \}\ \textcolor{comment}{//\ namespace\ vital}}

\end{DoxyCode}
