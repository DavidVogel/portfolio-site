\doxysection{open\+\_\+gl\+\_\+component.\+h}
\hypertarget{open__gl__component_8h_source}{}\label{open__gl__component_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/interface/editor\_components/open\_gl\_component.h@{/Users/davidvogel/repos/VitalHelp/src/interface/editor\_components/open\_gl\_component.h}}
\mbox{\hyperlink{open__gl__component_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_8h}{common.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{shaders_8h}{shaders.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{skin_8h}{skin.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__module_8h}{synth\_module.h}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_synth_section}{SynthSection}};}
\DoxyCodeLine{00009\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_open_gl_corners}{OpenGlCorners}};}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_open_gl_component}{OpenGlComponent}}\ :\ \textcolor{keyword}{public}\ Component\ \{}
\DoxyCodeLine{00021\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_open_gl_component_a0641317fa0d502284c603188bb7da9a7}{setViewPort}}(Component*\ component,\ Rectangle<int>\ bounds,\ \mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_open_gl_component_a0641317fa0d502284c603188bb7da9a7}{setViewPort}}(Component*\ component,\ \mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl);}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a952d9b34dc573da02105986f794a7718}{setScissor}}(Component*\ component,\ \mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a64a2b9bbcd277580ca27aa3a4b1ff9df}{setScissorBounds}}(Component*\ component,\ Rectangle<int>\ bounds,\ \mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl);}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{static}\ std::unique\_ptr<OpenGLShaderProgram::Uniform>\ \mbox{\hyperlink{class_open_gl_component_ad298c28db2e92eb2bd1061169f704cd7}{getUniform}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ OpenGLShaderProgram\&\ program,}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name)\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (open\_gl.\mbox{\hyperlink{struct_open_gl_wrapper_a58a3a5d0b8e43bb989fa7dfac30cfcf2}{context}}.extensions.glGetUniformLocation(program.getProgramID(),\ name)\ >=\ 0)}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_unique<OpenGLShaderProgram::Uniform>(program,\ name);}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00070\ \ \ \ \ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{static}\ std::unique\_ptr<OpenGLShaderProgram::Attribute>\ \mbox{\hyperlink{class_open_gl_component_a59361984d78ce0542bfa722179d57f93}{getAttribute}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ OpenGLShaderProgram\&\ program,}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (open\_gl.\mbox{\hyperlink{struct_open_gl_wrapper_a58a3a5d0b8e43bb989fa7dfac30cfcf2}{context}}.extensions.glGetAttribLocation(program.getProgramID(),\ name)\ >=\ 0)}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_unique<OpenGLShaderProgram::Attribute>(program,\ name);}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00091\ \ \ \ \ \mbox{\hyperlink{class_open_gl_component_abd92e8e7538c070e3a2c6f6bd405aae0}{OpenGlComponent}}(String\ name\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_open_gl_component_ac3ec5f0ea0b229fc18046d489711b780}{\string~OpenGlComponent}}();}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a2bd142dbb0cb7690829cb0a99f84e993}{resized}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_af9fb26cee075fba78305a7e79b53008d}{parentHierarchyChanged}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a2139561c2dc95b0a7389e65f4cea60f9}{addRoundedCorners}}();}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a3567b675d5f3213b85c753f9561f6ea7}{addBottomRoundedCorners}}();}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_ad78b342a43cf1e61d4875b6137ed8127}{init}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl);}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a10a93fd43ee463c2de17aeb055d6ca78}{render}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,\ \textcolor{keywordtype}{bool}\ animate)\ =\ 0;}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a5c6aa6d7c8a20882ce3b621efbf7e18b}{renderCorners}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,\ \textcolor{keywordtype}{bool}\ animate,\ Colour\ color,\ \textcolor{keywordtype}{float}\ rounding);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a5c6aa6d7c8a20882ce3b621efbf7e18b}{renderCorners}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl,\ \textcolor{keywordtype}{bool}\ animate);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_aba2309cf4b3c040f6d25418d1fa2dbd3}{destroy}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl);}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_ad2e8378b36d72fa4d728a611a6aa956f}{paintBackground}}(Graphics\&\ g);}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_ae8945b466048d1b22eca55123a37b38e}{repaintBackground}}();}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00172\ \ \ \ \ Colour\ \mbox{\hyperlink{class_open_gl_component_a6a5fd9faae3393d16f939df51ee4b656}{getBodyColor}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_open_gl_component_ad50f70f0a39a32dc24ac5f60a80317ee}{body\_color\_}};\ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a4bc16b2e90846aa1c2c94162b61ad843}{setParent}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_synth_section}{SynthSection}}*\ parent)\ \{\ \mbox{\hyperlink{class_open_gl_component_afe64ec8044c5495a69c5beab004803c3}{parent\_}}\ =\ parent;\ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_open_gl_component_aabfea74619ee336cb31ea174c56d2c67}{findValue}}(\mbox{\hyperlink{class_skin_a65ea929118e660a168d02af741c29180}{Skin::ValueId}}\ value\_id);}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_afc2939aab3358db8ed9c34889bc2649a}{setSkinValues}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_skin}{Skin}}\&\ skin)\ \{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ skin.\mbox{\hyperlink{class_skin_ab7b423fd352baecfbc7550595b29f380}{setComponentColors}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{class_open_gl_component_aff066eb92d7af29ae28e17930c271ceb}{skin\_override\_}},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00193\ \ \ \ \ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a2cb839907e3d453e56756e9332d56933}{setSkinOverride}}(\mbox{\hyperlink{class_skin_aad31f2acbd13c67945c35857d1627c96}{Skin::SectionOverride}}\ skin\_override)\ \{\ \mbox{\hyperlink{class_open_gl_component_aff066eb92d7af29ae28e17930c271ceb}{skin\_override\_}}\ =\ skin\_override;\ \}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ String\ \mbox{\hyperlink{class_open_gl_component_abb1cb24180d2be030c635a3aba2da4f1}{translateFragmentShader}}(\textcolor{keyword}{const}\ String\&\ code)\ \{}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#if\ OPENGL\_ES}}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ String(\textcolor{stringliteral}{"{}\#version\ 300\ es\(\backslash\)n"{}})\ +\ \textcolor{stringliteral}{"{}out\ mediump\ vec4\ fragColor;\(\backslash\)n"{}}\ +}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ code.replace(\textcolor{stringliteral}{"{}varying"{}},\ \textcolor{stringliteral}{"{}in"{}}).replace(\textcolor{stringliteral}{"{}texture2D"{}},\ \textcolor{stringliteral}{"{}texture"{}}).replace(\textcolor{stringliteral}{"{}gl\_FragColor"{}},\ \textcolor{stringliteral}{"{}fragColor"{}});}
\DoxyCodeLine{00210\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ OpenGLHelpers::translateFragmentShaderToV3(code);}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00213\ \ \ \ \ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ String\ \mbox{\hyperlink{class_open_gl_component_aef80b014e6d85f556a96982fd4f1ec43}{translateVertexShader}}(\textcolor{keyword}{const}\ String\&\ code)\ \{}
\DoxyCodeLine{00221\ \textcolor{preprocessor}{\#if\ OPENGL\_ES}}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ String(\textcolor{stringliteral}{"{}\#version\ 300\ es\(\backslash\)n"{}})\ +\ code.replace(\textcolor{stringliteral}{"{}attribute"{}},\ \textcolor{stringliteral}{"{}in"{}}).replace(\textcolor{stringliteral}{"{}varying"{}},\ \textcolor{stringliteral}{"{}out"{}});}
\DoxyCodeLine{00223\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ OpenGLHelpers::translateVertexShaderToV3(code);}
\DoxyCodeLine{00225\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00226\ \ \ \ \ \}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00231\ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_a6bbf52f60d21e165d6c22eaa9f1fb9fe}{checkGlError}}()\ \{}
\DoxyCodeLine{00232\ \textcolor{preprocessor}{\#if\ DEBUG}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ error\ =\ glGetError();}
\DoxyCodeLine{00234\ \ \ \ \ \ \ assert(error\ ==\ GL\_NO\_ERROR);}
\DoxyCodeLine{00235\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00236\ \ \ \ \ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_open_gl_component_acd89b406481f63dfdb26e2fa3c4bdb0a}{setBackgroundColor}}(\textcolor{keyword}{const}\ Colour\&\ color)\ \{\ \mbox{\hyperlink{class_open_gl_component_ae64b7a57b19c007664f3c2fd125a99db}{background\_color\_}}\ =\ color;\ \}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_open_gl_component_a0641317fa0d502284c603188bb7da9a7}{setViewPort}}(\mbox{\hyperlink{struct_open_gl_wrapper}{OpenGlWrapper}}\&\ open\_gl);}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ \ \ std::unique\_ptr<OpenGlCorners>\ \mbox{\hyperlink{class_open_gl_component_af90b5c38eedd287bc8700a99042f002e}{corners\_}};\ }
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_open_gl_component_a015f46d229eb5c0fa29b0cc734ca4ae6}{only\_bottom\_corners\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00254\ \ \ \ \ Colour\ \mbox{\hyperlink{class_open_gl_component_ae64b7a57b19c007664f3c2fd125a99db}{background\_color\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00255\ \ \ \ \ Colour\ \mbox{\hyperlink{class_open_gl_component_ad50f70f0a39a32dc24ac5f60a80317ee}{body\_color\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_synth_section}{SynthSection}}*\ \mbox{\hyperlink{class_open_gl_component_afe64ec8044c5495a69c5beab004803c3}{parent\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00257\ \ \ \ \ \mbox{\hyperlink{class_skin_aad31f2acbd13c67945c35857d1627c96}{Skin::SectionOverride}}\ \mbox{\hyperlink{class_open_gl_component_aff066eb92d7af29ae28e17930c271ceb}{skin\_override\_}};\ \ \ \ }
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_status_output}{vital::StatusOutput}}*\ \mbox{\hyperlink{class_open_gl_component_a44a5cd3900ef8c8205c986d0040e457f}{num\_voices\_readout\_}};\ }
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR(\mbox{\hyperlink{class_open_gl_component}{OpenGlComponent}})}
\DoxyCodeLine{00261\ \};}

\end{DoxyCode}
