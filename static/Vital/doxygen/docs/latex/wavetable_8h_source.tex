\doxysection{wavetable.\+h}
\hypertarget{wavetable_8h_source}{}\label{wavetable_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/lookups/wavetable.h@{/Users/davidvogel/repos/VitalHelp/src/synthesis/lookups/wavetable.h}}
\mbox{\hyperlink{wavetable_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}JuceHeader.h"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_8h}{common.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{futils_8h}{futils.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{utils_8h}{utils.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{wave__frame_8h}{wave\_frame.h}}"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classvital_1_1_wavetable}{Wavetable}}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a737e3d506f166f24ee5955915f6b8dce}{kFrequencyBins}}\ =\ \mbox{\hyperlink{classvital_1_1_wave_frame_a00d4d92ba3e17cbebdcfb9dff5590b2d}{WaveFrame::kWaveformBits}};}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_af75994d8bd5b79ec318fb936abfe8141}{kWaveformSize}}\ =\ \mbox{\hyperlink{classvital_1_1_wave_frame_a6b03ba41138003ebb4ddb158f8984c52}{WaveFrame::kWaveformSize}};}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a875996d2f12620fbd41b2f1b09d40f17}{kExtraValues}}\ =\ 3;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a69ac4aa6bec3d2d0f08b82dfe9101e88}{kNumHarmonics}}\ =\ \mbox{\hyperlink{classvital_1_1_wavetable_af75994d8bd5b79ec318fb936abfe8141}{kWaveformSize}}\ /\ 2\ +\ 1;}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a9f1d5606e65f93e59d8260e40296fda9}{kPolyFrequencySize}}\ =\ 2\ *\ \mbox{\hyperlink{classvital_1_1_wavetable_a69ac4aa6bec3d2d0f08b82dfe9101e88}{kNumHarmonics}}\ /\ poly\_float::kSize\ +\ 2;}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data}{WavetableData}}\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a009ad4d74d451b6bb4e18a6917f9c1ed}{WavetableData}}(\textcolor{keywordtype}{int}\ frames,\ \textcolor{keywordtype}{int}\ table\_version)\ :}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a5e48342510777230944d2a4582058b5d}{num\_frames}}(frames),\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_ab67b7eff2d4ce0fea7cce040ed9abd76}{frequency\_ratio}}(1.0f),\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a3229f1e8004e7cbd345ce2813d4173f2}{sample\_rate}}(\mbox{\hyperlink{namespacevital_a1348dcb0ddac16e2d1a921cab17dd822}{kDefaultSampleRate}}),\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_abadc47eb399db596348edba4bb46e7a9}{version}}(table\_version)\ \{\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a5e48342510777230944d2a4582058b5d}{num\_frames}};\ \ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_ab67b7eff2d4ce0fea7cce040ed9abd76}{frequency\_ratio}};\ \ }
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a3229f1e8004e7cbd345ce2813d4173f2}{sample\_rate}};\ \ \ \ \ \ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_abadc47eb399db596348edba4bb46e7a9}{version}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<mono\_float[][kWaveformSize]>\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_abab104929aa72b16541a556a7f139b5c}{wave\_data}};}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<poly\_float[][kPolyFrequencySize]>\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a1397a8758591a95b75e041b0ecf3b297}{frequency\_amplitudes}};}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<poly\_float[][kPolyFrequencySize]>\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_af626aa871fa7e9fb80ae40cab7b31e27}{normalized\_frequencies}};}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<poly\_float[][kPolyFrequencySize]>\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a7d36547907b88f5c31177e5da685cb63}{phases}};}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_aa087e6c23637a38eca91aada75da102a}{null\_waveform}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a81614f3686b351ffda41039cd7634298}{kZeroWaveform}};\ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_wavetable_a31581fdcf6c2bfab336e4c4f9713dcd0}{Wavetable}}(\textcolor{keywordtype}{int}\ max\_frames);}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a79f7e92e725a3681b1cc6fa4b664062b}{loadDefaultWavetable}}();}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a775f412c03d7919dfb74366cf886f2b5}{setNumFrames}}(\textcolor{keywordtype}{int}\ num\_frames);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a48114de1e086ed1ac3a66fe69c9fa573}{setFrequencyRatio}}(\textcolor{keywordtype}{float}\ frequency\_ratio);}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a6d5497e4b9ad4a03ccb1a583353a65d9}{setSampleRate}}(\textcolor{keywordtype}{float}\ rate);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classvital_1_1_wavetable_a1da601f5e51be909446cc05a47a23a63}{getName}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a5320c34cfc1cc890adbea6bfd6edf40a}{name\_}};\ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classvital_1_1_wavetable_a0ee0b335b6366773db36b010dc42d8c7}{getAuthor}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a057fb501f4754668fbe625f7d883edcd}{author\_}};\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a31ed42a87addeb2f35c97448f0453621}{setName}}(\textcolor{keyword}{const}\ std::string\&\ name)\ \{\ \mbox{\hyperlink{classvital_1_1_wavetable_a5320c34cfc1cc890adbea6bfd6edf40a}{name\_}}\ =\ name;\ \}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a38d9c63f45ef7e47b31dbfdc6094d3a8}{setAuthor}}(\textcolor{keyword}{const}\ std::string\&\ author)\ \{\ \mbox{\hyperlink{classvital_1_1_wavetable_a057fb501f4754668fbe625f7d883edcd}{author\_}}\ =\ author;\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_wavetable_ab5677e068f9af12482c0c399d30be6a0}{getFrequencyFloatBin}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ phase\_increment)\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1futils_a7a327ceafdcf035f71f3959db159e24c}{futils::log2}}(1.0f\ /\ phase\_increment);}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a59b72dda2d76297cf72bc1f1b83992a3}{getFrequencyBin}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ phase\_increment)\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_waves\ =\ 1.0f\ /\ phase\_increment;}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevital_1_1utils_a0096680ab20a53e9eade83f4f2ee1895}{utils::iclamp}}(\mbox{\hyperlink{namespacevital_1_1utils_a4eb8752476a20f97932c1f6df8d48068}{utils::ilog2}}(num\_waves),\ 0,\ \mbox{\hyperlink{classvital_1_1_wavetable_a737e3d506f166f24ee5955915f6b8dce}{kFrequencyBins}}\ -\/\ 1);}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a5f623c3a64c78008b3ac9edba06cb74f}{clampFrame}}(\textcolor{keywordtype}{int}\ frame)\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::min(frame,\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a5e48342510777230944d2a4582058b5d}{num\_frames}}\ -\/\ 1);}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data}{WavetableData}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_a7b417dad0323723c69d8937da9b296da}{getAllData}}()\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}};}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_ae0833b742afa80196388937cbb1b16d1}{getBuffer}}(\textcolor{keywordtype}{int}\ frame\_index)\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_abab104929aa72b16541a556a7f139b5c}{wave\_data}}[\mbox{\hyperlink{classvital_1_1_wavetable_a5f623c3a64c78008b3ac9edba06cb74f}{clampFrame}}(frame\_index)];}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_a5fc2746a4043800333095d4e0b39e2d1}{getFrequencyAmplitudes}}(\textcolor{keywordtype}{int}\ frame\_index)\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a1397a8758591a95b75e041b0ecf3b297}{frequency\_amplitudes}}[\mbox{\hyperlink{classvital_1_1_wavetable_a5f623c3a64c78008b3ac9edba06cb74f}{clampFrame}}(frame\_index)];}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_a5a484cc8b0675d3f5bdd79c539bfb393}{getNormalizedFrequencies}}(\textcolor{keywordtype}{int}\ frame\_index)\ \{}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_af626aa871fa7e9fb80ae40cab7b31e27}{normalized\_frequencies}}[\mbox{\hyperlink{classvital_1_1_wavetable_a5f623c3a64c78008b3ac9edba06cb74f}{clampFrame}}(frame\_index)];}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a7f430f2426f5122cc6f31091e3f8277f}{getVersion}}()\ \{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_abadc47eb399db596348edba4bb46e7a9}{version}};}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a533d48e1cb81a345aa10ef245cd47b60}{clampActiveFrame}}(\textcolor{keywordtype}{int}\ frame)\ \{}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::min(frame,\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}.load()-\/>num\_frames\ -\/\ 1);}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classvital_1_1_wavetable_a010f6cdd0af3a150ad1132746da7f47c}{getActiveFrequencyRatio}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}.load()-\/>frequency\_ratio;}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classvital_1_1_wavetable_a3306ffe625461053efae6c50c40b19ec}{getActiveSampleRate}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}.load()-\/>sample\_rate;}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data}{WavetableData}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_a9bdcf87ac797cacedd64ece90363091b}{getAllActiveData}}()\ \{}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}.load();}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_a4e370eda4dc8d33872eebd21761ecc8d}{getActiveFrequencyAmplitudes}}(\textcolor{keywordtype}{int}\ frame\_index)\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}.\mbox{\hyperlink{structvital_1_1poly__float_adeae61ff12c62ecdefb0df08cc1fa351}{load}}()-\/>frequency\_amplitudes[\mbox{\hyperlink{classvital_1_1_wavetable_a533d48e1cb81a345aa10ef245cd47b60}{clampActiveFrame}}(frame\_index)];}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_a2e8da993879d4285a606df3ee74ca075}{getActiveNormalizedFrequencies}}(\textcolor{keywordtype}{int}\ frame\_index)\ \{}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}.\mbox{\hyperlink{structvital_1_1poly__float_adeae61ff12c62ecdefb0df08cc1fa351}{load}}()-\/>normalized\_frequencies[\mbox{\hyperlink{classvital_1_1_wavetable_a533d48e1cb81a345aa10ef245cd47b60}{clampActiveFrame}}(frame\_index)];}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a7e5e97bcbcd667afb4e0715eb04871e7}{getActiveVersion}}()\ \{}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}.load()-\/>version;}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a0874bb4bf5bacdc4f4d1a62a6bff3c89}{loadWaveFrame}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{WaveFrame}}*\ wave\_frame);}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a0874bb4bf5bacdc4f4d1a62a6bff3c89}{loadWaveFrame}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classvital_1_1_wave_frame}{WaveFrame}}*\ wave\_frame,\ \textcolor{keywordtype}{int}\ to\_index);}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_afb9e3aaf1d7983137ef423e289e46a04}{postProcess}}(\textcolor{keywordtype}{float}\ max\_span);}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_afe1069f096aaf9b5fa96137bbec619d4}{numFrames}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data_a5e48342510777230944d2a4582058b5d}{num\_frames}};\ \}}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_a01948db174a3d4d571c1f74b51c831db}{numActiveFrames}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}.load()-\/>num\_frames;\ \}}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_ac6d48137def2c69fb8b9f6349c7825ac}{markUsed}}()\ \{\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}\ =\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}};\ \}}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a0b2593f0d42e017381e7626df3cb6158}{markUnused}}()\ \{\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}}\ =\ \textcolor{keyword}{nullptr};\ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a112aec54fadc14e510436f2abf4a9e7f}{setShepardTable}}(\textcolor{keywordtype}{bool}\ shepard)\ \{\ \mbox{\hyperlink{classvital_1_1_wavetable_a42ab155c700c1fa2d6a5c055c8d3ff05}{shepard\_table\_}}\ =\ shepard;\ \}}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classvital_1_1_wavetable_a51701bd64614bcf5c51609c39447c1be}{isShepardTable}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_wavetable_a42ab155c700c1fa2d6a5c055c8d3ff05}{shepard\_table\_}};\ \}}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_wavetable_a31581fdcf6c2bfab336e4c4f9713dcd0}{Wavetable}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_af12a8100e3c721670745a88fa5c7fba9}{loadFrequencyAmplitudes}}(\textcolor{keyword}{const}\ std::complex<float>*\ frequencies,\ \textcolor{keywordtype}{int}\ to\_index);}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_wavetable_a88566fc075b30f5c5d852065de1d3751}{loadNormalizedFrequencies}}(\textcolor{keyword}{const}\ std::complex<float>*\ frequencies,\ \textcolor{keywordtype}{int}\ to\_index);}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_wavetable_a81614f3686b351ffda41039cd7634298}{kZeroWaveform}}[\mbox{\hyperlink{classvital_1_1_wavetable_af75994d8bd5b79ec318fb936abfe8141}{kWaveformSize}}\ +\ \mbox{\hyperlink{classvital_1_1_wavetable_a875996d2f12620fbd41b2f1b09d40f17}{kExtraValues}}];}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classvital_1_1_wavetable_a5320c34cfc1cc890adbea6bfd6edf40a}{name\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classvital_1_1_wavetable_a057fb501f4754668fbe625f7d883edcd}{author\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_wavetable_abb071c1ae1a46f4db392b6681593a9be}{max\_frames\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_wavetable_1_1_wavetable_data}{WavetableData}}*\ \mbox{\hyperlink{classvital_1_1_wavetable_a720c973602682f02f40e01ac523fc3ac}{current\_data\_}};\ \ \ \ \ \ }
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ std::atomic<WavetableData*>\ \mbox{\hyperlink{classvital_1_1_wavetable_a83665c5d5a9c4f8e892fbc1c150c738d}{active\_audio\_data\_}};\ }
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ std::unique\_ptr<WavetableData>\ \mbox{\hyperlink{classvital_1_1_wavetable_a45da1f0e79da03f4c7e046e7e357d2b7}{data\_}};\ }
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classvital_1_1_wavetable_a42ab155c700c1fa2d6a5c055c8d3ff05}{shepard\_table\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_wavetable_a6c24f84178d02f8f908cc474f9e695c9}{fft\_data\_}}[2\ *\ \mbox{\hyperlink{classvital_1_1_wavetable_af75994d8bd5b79ec318fb936abfe8141}{kWaveformSize}}];\ }
\DoxyCodeLine{00381\ }
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ JUCE\_LEAK\_DETECTOR(\mbox{\hyperlink{classvital_1_1_wavetable}{Wavetable}})}
\DoxyCodeLine{00383\ \ \ \ \ \};}
\DoxyCodeLine{00384\ \}\ \textcolor{comment}{//\ namespace\ vital}}

\end{DoxyCode}
