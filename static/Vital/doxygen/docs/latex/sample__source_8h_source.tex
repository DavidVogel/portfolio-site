\doxysection{sample\+\_\+source.\+h}
\hypertarget{sample__source_8h_source}{}\label{sample__source_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/producers/sample\_source.h@{/Users/davidvogel/repos/VitalHelp/src/synthesis/producers/sample\_source.h}}
\mbox{\hyperlink{sample__source_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{processor_8h}{processor.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}json/json.h"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{utils_8h}{utils.h}}"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{using\ }\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ =\ nlohmann::json;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classvital_1_1_sample}{Sample}}\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a7acb3e299da4ecda247e9939ae19a585}{kDefaultSampleLength}}\ =\ 44100;}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a9e4628609f1b9c854eed895b0123771f}{kUpsampleTimes}}\ =\ 1;}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a927907a251c0b0944f17a7e72993fa20}{kBufferSamples}}\ =\ 4;}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a2e3f8b3eac27024c752da318436f307c}{kMinSize}}\ =\ 4;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{SampleData}}\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a92fcc523325bdc440be1887408c0174c}{SampleData}}(\textcolor{keywordtype}{int}\ l,\ \textcolor{keywordtype}{int}\ sr,\ \textcolor{keywordtype}{bool}\ s)\ :\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a79666fedf196341d82696a7f58cb8925}{length}}(l),\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a615b0968cf83b66a73abc7f4783dc874}{sample\_rate}}(sr),\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_addc440999834a7d8963dbf1e9fbee824}{stereo}}(s)\ \{\ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a79666fedf196341d82696a7f58cb8925}{length}};\ \ \ \ \ \ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a615b0968cf83b66a73abc7f4783dc874}{sample\_rate}};\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_addc440999834a7d8963dbf1e9fbee824}{stereo}};\ \ \ \ \ }
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ std::vector<std::unique\_ptr<mono\_float[]>>\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_ae0e314fb6adb14846945d217ec2e1bf6}{left\_buffers}};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ std::vector<std::unique\_ptr<mono\_float[]>>\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a4c0a81db9e8e9553b69e400085fc4baf}{left\_loop\_buffers}};}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ std::vector<std::unique\_ptr<mono\_float[]>>\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a2c52ea89d550eb12fef8d36c73def7b3}{right\_buffers}};}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ std::vector<std::unique\_ptr<mono\_float[]>>\ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a3dcc386c80c308764c9dec6cfd4a3da3}{right\_loop\_buffers}};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ JUCE\_LEAK\_DETECTOR(\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{SampleData}})}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_a4e6e8af954b7dffea0b0cb5739d021a0}{Sample}}();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_aa60dfd27a15600a8448ce35d69b33732}{loadSample}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \mbox{\hyperlink{classvital_1_1_sample_a4886daf3cc105124f52abf8427c8db41}{buffer}},\ \textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ sample\_rate);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_aa60dfd27a15600a8448ce35d69b33732}{loadSample}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ left\_buffer,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ right\_buffer,\ \textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ sample\_rate);}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00089\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_ac5163f984b2a37a7796510984055feba}{setName}}(\textcolor{keyword}{const}\ std::string\&\ name)\ \{\ \mbox{\hyperlink{classvital_1_1_sample_ae7a50a990f7a3967e87b63233311f960}{name\_}}\ =\ name;\ \}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classvital_1_1_sample_a2aa27424150264b7af1e5f049eb6e797}{getName}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_ae7a50a990f7a3967e87b63233311f960}{name\_}};\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_a40044d99934375f1de0a0beaddccb5dc}{setLastBrowsedFile}}(\textcolor{keyword}{const}\ std::string\&\ path)\ \{\ \mbox{\hyperlink{classvital_1_1_sample_a506dfd30e6dadd13163ac3517410ad1a}{last\_browsed\_file\_}}\ =\ path;\ \}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classvital_1_1_sample_a91f247f982ceda7bb4e8c1e9fd1f6a90}{getLastBrowsedFile}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_a506dfd30e6dadd13163ac3517410ad1a}{last\_browsed\_file\_}};\ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_af1a730277115645f0c1ffce37820fbb9}{originalLength}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_a4d54cfdb64d604167de5f1660cb43a28}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a79666fedf196341d82696a7f58cb8925}{length}};\ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a8d056af6d0190a3f2504be8267f76fee}{upsampleLength}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_af1a730277115645f0c1ffce37820fbb9}{originalLength}}()\ *\ (1\ <<\ \mbox{\hyperlink{classvital_1_1_sample_a9e4628609f1b9c854eed895b0123771f}{kUpsampleTimes}});\ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a33761de890d7c5dc56e5635be7ac27a4}{sampleRate}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_a4d54cfdb64d604167de5f1660cb43a28}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_a615b0968cf83b66a73abc7f4783dc874}{sample\_rate}};\ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a3729dc92cb1c7f4ffa4ab86febf4f917}{activeLength}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>length\ *\ (1\ <<\ \mbox{\hyperlink{classvital_1_1_sample_a9e4628609f1b9c854eed895b0123771f}{kUpsampleTimes}});\ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00114\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a46cd6edf4a08661f80da75549503a8f1}{activeSampleRate}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>sample\_rate;\ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00121\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \mbox{\hyperlink{classvital_1_1_sample_a4886daf3cc105124f52abf8427c8db41}{buffer}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_a4d54cfdb64d604167de5f1660cb43a28}{current\_data\_}}-\/>\mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data_ae0e314fb6adb14846945d217ec2e1bf6}{left\_buffers}}[\mbox{\hyperlink{classvital_1_1_sample_a9e4628609f1b9c854eed895b0123771f}{kUpsampleTimes}}].get()\ +\ 1;\ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_ac76e9e54031e820bdec74508e5844edd}{init}}();}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_a7304696101e6a0016fb1a6c2b599a4c2}{getActiveIndex}}(\mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ delta)\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ octaves\ =\ \mbox{\hyperlink{namespacevital_1_1utils_a4eb8752476a20f97932c1f6df8d48068}{utils::ilog2}}(std::max<int>(delta,\ 1));}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::min(octaves,\ (\textcolor{keywordtype}{int})\mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>left\_buffers.size()\ -\/\ 1);}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \mbox{\hyperlink{classvital_1_1_sample_adcbd6c0e182fb142bd15dae6c796f698}{getActiveLeftBuffer}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(index\ >=\ 0\ \&\&\ index\ <\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>left\_buffers.size());}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>left\_buffers[index].get();}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00152\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \mbox{\hyperlink{classvital_1_1_sample_a24300baa983539e38879a58c29520390}{getActiveLeftLoopBuffer}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(index\ >=\ 0\ \&\&\ index\ <\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>left\_loop\_buffers.size());}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>left\_loop\_buffers[index].get();}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \mbox{\hyperlink{classvital_1_1_sample_a58d3d06610686107f4dfc9032a43745e}{getActiveRightBuffer}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>stereo)\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(index\ >=\ 0\ \&\&\ index\ <\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>right\_buffers.size());}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>right\_buffers[index].get();}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_adcbd6c0e182fb142bd15dae6c796f698}{getActiveLeftBuffer}}(index);}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00174\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}*\ \mbox{\hyperlink{classvital_1_1_sample_af938b0d48f451d12b6bbe217884954b4}{getActiveRightLoopBuffer}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>stereo)\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ab6dc6a12600086762731fd406e501cf2}{VITAL\_ASSERT}}(index\ >=\ 0\ \&\&\ index\ <\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>right\_loop\_buffers.size());}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}.load()-\/>right\_loop\_buffers[index].get();}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvital_1_1_sample_a24300baa983539e38879a58c29520390}{getActiveLeftLoopBuffer}}(index);}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00183\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_a921ac47635a147c37ddcb8857653bd9a}{markUsed}}()\ \{\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}\ =\ \mbox{\hyperlink{classvital_1_1_sample_a4d54cfdb64d604167de5f1660cb43a28}{current\_data\_}};\ \}}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_a239669ba76a1bb790f22db2202dc1aec}{markUnused}}()\ \{\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}}\ =\ \textcolor{keyword}{nullptr};\ \}}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ \mbox{\hyperlink{classvital_1_1_sample_af2d827463b88d098b216360b4c99e5f8}{stateToJson}}();}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_aedba9fcd7fc8c4ff5415246ec7536733}{jsonToState}}(\mbox{\hyperlink{line__generator_8h_a0c01dbde6677d7e4769b85716c69c491}{json}}\ data);}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00200\ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classvital_1_1_sample_ae7a50a990f7a3967e87b63233311f960}{name\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classvital_1_1_sample_a506dfd30e6dadd13163ac3517410ad1a}{last\_browsed\_file\_}};\ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1_sample_1_1_sample_data}{SampleData}}*\ \mbox{\hyperlink{classvital_1_1_sample_a4d54cfdb64d604167de5f1660cb43a28}{current\_data\_}};\ \ \ \ \ \ }
\DoxyCodeLine{00203\ \ \ \ \ \ \ std::atomic<SampleData*>\ \mbox{\hyperlink{classvital_1_1_sample_adbcecbddd3186d8f7a1ac42ebbdad20d}{active\_audio\_data\_}};\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ std::unique\_ptr<SampleData>\ \mbox{\hyperlink{classvital_1_1_sample_aceae219090ba6e9036d119720db27942}{data\_}};\ }
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ JUCE\_LEAK\_DETECTOR(\mbox{\hyperlink{classvital_1_1_sample}{Sample}})}
\DoxyCodeLine{00207\ \ \ \};}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00214\ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classvital_1_1_sample_source}{SampleSource}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classvital_1_1_processor}{Processor}}\ \{}
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_sample_source_afd7e38d99d4b2f790bd82ddea44583b6}{kMaxTranspose}}\ =\ 96.0f;}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_sample_source_ac2b30bd3ee5476c6d8b509a13e4a1897}{kMinTranspose}}\ =\ -\/96.0f;}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevital_afcc17475a10ef776bbd2f11b64c1ddfb}{mono\_float}}\ \mbox{\hyperlink{classvital_1_1_sample_source_a7588fec816b0065e964cf8d73652ee32}{kMaxAmplitude}}\ =\ 1.41421356237f;}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00224\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_source_a05c7bad3a0f87fe2bf50bb28b39b468c}{kNumDownsampleTaps}}\ =\ 55;}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvital_1_1_sample_source_a21a48010433be5100de22524479e40cd}{kNumUpsampleTaps}}\ =\ 52;}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00232\ \ \ \ \ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303dade5f23c031a1ace67ff2ca0de17f5438}{kReset}},\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303dac805a4437c37ec64847df1c072604ac1}{kMidi}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303da70141ac7facee83b4771406d92bd16e7}{kKeytrack}},\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303da5cd354dbf27ea98582c0ba3218ae2328}{kLevel}},\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303da53753e60c1e8abeed9b5e2266fb87790}{kRandomPhase}},\ \ \ \ \ \ \ }
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303daf98b24ada3f28a0a598f1cf9b3e87750}{kTranspose}},\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303daa78016b62556195f1a2e6aacfb0f42ee}{kTransposeQuantize}},\ }
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303da9a677a55f49e2b31e33734d1585d06e3}{kTune}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303dac657f4e7ab09d24cb40d1d83d5a212ed}{kLoop}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303dae575f487d4096a433c285de96f276f56}{kBounce}},\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303dad82fee29d33f14964002bbb033f051be}{kPan}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303dac4c2f065a9c33385074ad9d2d35b8501}{kNoteCount}},\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a44532436d52a446d78bef1280bc9303da1598bfae0ebb81a5ad8a8f1730bdaeb5}{kNumInputs}}}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00252\ \ \ \ \ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_adcb31cdb5576f256080f7c4c50bcd7b6a98f6c24f3831fcb157ef864fb0ccef2c}{kRaw}},\ \ \ \ \ \ \ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_adcb31cdb5576f256080f7c4c50bcd7b6ad82a9bb6962395160fd5ab1b7e6594ea}{kLevelled}},\ \ }
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_adcb31cdb5576f256080f7c4c50bcd7b6a8d1c79292b17304ca81e138be0b6552d}{kNumOutputs}}}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \};}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00261\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample_source_a4a0bef206078de3e9eec3b6a3d40f650}{SampleSource}}();}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00267\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_sample_source_a6cf43a610da5a754b18bd50902da0cfc}{process}}(\textcolor{keywordtype}{int}\ num\_samples)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00273\ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classvital_1_1_processor}{Processor}}*\ \mbox{\hyperlink{classvital_1_1_sample_source_a18b7e4f8d3fb9ead1abe3ffef7951d8c}{clone}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classvital_1_1_sample_source_a4a0bef206078de3e9eec3b6a3d40f650}{SampleSource}}(*\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00279\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_sample}{Sample}}*\ \mbox{\hyperlink{classvital_1_1_sample_source_ae594c8c6bfa3d936b9f2e52020fba942}{getSample}}()\ \{\ \textcolor{keywordflow}{return}\ sample\_.get();\ \}}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00285\ \ \ \ \ \ \ \mbox{\hyperlink{common_8h_ae8c57c7218a376f10cbdf0e50f1189ee}{force\_inline}}\ \mbox{\hyperlink{structvital_1_1_output}{Output}}*\ \mbox{\hyperlink{classvital_1_1_sample_source_a66e1b7e48cb71646b466bc1d7ee5115e}{getPhaseOutput}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ phase\_output\_.get();\ \}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ snapTranspose(\mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ input\_midi,\ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ transpose,\ \textcolor{keywordtype}{int}\ quantize);}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ pan\_amplitude\_;\ \ \ \ \ \ \ }
\DoxyCodeLine{00298\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ transpose\_quantize\_;\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00299\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ last\_quantized\_transpose\_;\ }
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ sample\_index\_;\ \ \ }
\DoxyCodeLine{00302\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ sample\_fraction\_;}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__float}{poly\_float}}\ phase\_inc\_;\ \ \ \ \ \ }
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \ \ \ \ \ \ \mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ bounce\_mask\_;\ \ \ \ \ }
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \ \ \ \ \ \ std::shared\_ptr<cr::Output>\ phase\_output\_;\ }
\DoxyCodeLine{00308\ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1utils_1_1_random_generator}{utils::RandomGenerator}}\ random\_generator\_;\ \ }
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \ \ \ \ std::shared\_ptr<Sample>\ sample\_;\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \ \ \ \ \ \ JUCE\_LEAK\_DETECTOR(\mbox{\hyperlink{classvital_1_1_sample_source}{SampleSource}})}
\DoxyCodeLine{00313\ \ \ \};}
\DoxyCodeLine{00314\ \}\ \textcolor{comment}{//\ namespace\ vital}}
\DoxyCodeLine{00315\ }

\end{DoxyCode}
