\doxysection{comb\+\_\+module.\+cpp}
\hypertarget{comb__module_8cpp_source}{}\label{comb__module_8cpp_source}\index{/Users/davidvogel/repos/VitalHelp/src/synthesis/modules/comb\_module.cpp@{/Users/davidvogel/repos/VitalHelp/src/synthesis/modules/comb\_module.cpp}}
\mbox{\hyperlink{comb__module_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{comb__module_8h}{comb\_module.h}}"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{comb__filter_8h}{comb\_filter.h}}"{}}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevital}{vital}}\ \{}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_ac6c897129be89c62245aefbf403bfa19}{CombModule::CombModule}}()\ :\ \mbox{\hyperlink{classvital_1_1_synth_module}{SynthModule}}(kNumInputs,\ 1),\ comb\_filter\_(nullptr)\ \{\ \}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_comb_module_a2bc5c32b14c996e7ca42cbbadf4e3227}{CombModule::init}}()\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classvital_1_1_comb_filter}{CombFilter}}(\mbox{\hyperlink{classvital_1_1_comb_module_a8c489ebedf409cd36985470defd6eee5}{kMaxFeedbackSamples}});}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_router_af5322ce72a1e53f6d81ce917f07427e7}{addProcessor}}(\mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}});}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Connect\ inputs\ to\ the\ comb\ filter:}}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a78efa1437ab306088d67a66f681b12e5}{useInput}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_comb_module_ac7b12a2b0437554cc5e19716810a6356a0e001510d52ff6177aaa0610d5b17589}{kAudio}}),\ \mbox{\hyperlink{classvital_1_1_synth_filter_a03c515d2b209852494e96aaf3ecd1fa0ae42fd89abe5a134ebf5e5da1942f4a83}{CombFilter::kAudio}});}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a78efa1437ab306088d67a66f681b12e5}{useInput}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_comb_module_ac7b12a2b0437554cc5e19716810a6356af9a4627a7d19372ca564e086c75528ac}{kMidiCutoff}}),\ \mbox{\hyperlink{classvital_1_1_synth_filter_a03c515d2b209852494e96aaf3ecd1fa0a4b105ff09b198286a6ba3662309bcc2e}{CombFilter::kMidiCutoff}});}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a78efa1437ab306088d67a66f681b12e5}{useInput}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_comb_module_ac7b12a2b0437554cc5e19716810a6356a8ccc28bff5019a895ec923542816e88c}{kStyle}}),\ \mbox{\hyperlink{classvital_1_1_synth_filter_a03c515d2b209852494e96aaf3ecd1fa0a9245866d9bea5988ad4e0b4724da84d5}{CombFilter::kStyle}});}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a78efa1437ab306088d67a66f681b12e5}{useInput}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_comb_module_ac7b12a2b0437554cc5e19716810a6356a59998eeac1f2071e5feb12a1c269b810}{kMidiBlendTranspose}}),\ \mbox{\hyperlink{classvital_1_1_synth_filter_a03c515d2b209852494e96aaf3ecd1fa0a469fa3676ce30b898f9eebb82daf1be9}{CombFilter::kTranspose}});}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a78efa1437ab306088d67a66f681b12e5}{useInput}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_comb_module_ac7b12a2b0437554cc5e19716810a6356a21902575652e1b60712a4756733a6d37}{kFilterCutoffBlend}}),\ \mbox{\hyperlink{classvital_1_1_synth_filter_a03c515d2b209852494e96aaf3ecd1fa0a2cc3a6b24c80e4c01a37d054aba20767}{CombFilter::kPassBlend}});}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a78efa1437ab306088d67a66f681b12e5}{useInput}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_comb_module_ac7b12a2b0437554cc5e19716810a6356a7334057eec05b984d8d7ee3bb556d7e9}{kResonance}}),\ \mbox{\hyperlink{classvital_1_1_synth_filter_a03c515d2b209852494e96aaf3ecd1fa0a332b06d234cc5a7922c3fb6ece6ed2d6}{CombFilter::kResonance}});}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a78efa1437ab306088d67a66f681b12e5}{useInput}}(\mbox{\hyperlink{classvital_1_1_processor_a6785b9361f8b2fd7638c6a02483ec9eb}{input}}(\mbox{\hyperlink{classvital_1_1_comb_module_ac7b12a2b0437554cc5e19716810a6356a7a2ed0485dd692dd915d8bb9422c75bf}{kReset}}),\ \mbox{\hyperlink{classvital_1_1_synth_filter_a03c515d2b209852494e96aaf3ecd1fa0a5ae1d17d40ed0b23e2c2fa01a0620c05}{CombFilter::kReset}});}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Connect\ the\ comb\ filter's\ output\ to\ the\ module's\ output:}}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}}-\/>\mbox{\hyperlink{classvital_1_1_processor_a4ab8d1bebcc9b45ae4eefb1f0ea20d77}{useOutput}}(\mbox{\hyperlink{classvital_1_1_processor_ab09651265a7270548b77e99b1316fde0}{output}}());}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_adb6eaa40b95275a42029ed4c0c4bcba4}{SynthModule::init}}();}
\DoxyCodeLine{00031\ \ \ \ \ \}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_comb_module_a8c9e4f9ea184deba5658836d54c37537}{CombModule::reset}}(\mbox{\hyperlink{structvital_1_1poly__int}{poly\_mask}}\ reset\_mask)\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_router_af1221aabafb55e72099c46e094b75f72}{getLocalProcessor}}(\mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}})-\/>\mbox{\hyperlink{classvital_1_1_processor_af96e6e12894fcc2cce9abe7d93ed4f99}{reset}}(reset\_mask);}
\DoxyCodeLine{00041\ \ \ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvital_1_1_comb_module_a5a6074d6925f34d50e33ed6668c3ddc5}{CombModule::hardReset}}()\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvital_1_1_processor_router_af1221aabafb55e72099c46e094b75f72}{getLocalProcessor}}(\mbox{\hyperlink{classvital_1_1_comb_module_a12e6fb346de51dbf0cc9f2d6d43df447}{comb\_filter\_}})-\/>\mbox{\hyperlink{classvital_1_1_processor_a8ee20e3c0a3e79f07465f93e3988b6d2}{hardReset}}();}
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ \}\ \textcolor{comment}{//\ namespace\ vital}}

\end{DoxyCode}
