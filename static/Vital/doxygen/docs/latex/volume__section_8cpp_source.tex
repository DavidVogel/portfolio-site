\doxysection{volume\+\_\+section.\+cpp}
\hypertarget{volume__section_8cpp_source}{}\label{volume__section_8cpp_source}\index{/Users/davidvogel/repos/VitalHelp/src/interface/editor\_sections/volume\_section.cpp@{/Users/davidvogel/repos/VitalHelp/src/interface/editor\_sections/volume\_section.cpp}}
\mbox{\hyperlink{volume__section_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{volume__section_8h}{volume\_section.h}}"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{peak__meter__viewer_8h}{peak\_meter\_viewer.h}}"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{fonts_8h}{fonts.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{skin_8h}{skin.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__slider_8h}{synth\_slider.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{synth__parameters_8h}{synth\_parameters.h}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_volume_slider}{VolumeSlider}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}\ \{}
\DoxyCodeLine{00016\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{class_volume_slider_a9a1a392b18a391cd0a55926ce3d1bf27}{VolumeSlider}}(String\ name)\ :\ \mbox{\hyperlink{class_synth_slider}{SynthSlider}}(name),\ point\_y\_(0),\ end\_y\_(1)\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \mbox{\hyperlink{class_open_gl_slider_a9624b9fc60af29fc9c4830d2c400a767}{paintToImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00023\ \ \ \ \ \ \ details\_\ =\ \mbox{\hyperlink{classvital_1_1_parameters_add207875d97ce0cabc64a33e86a5ab24}{vital::Parameters::getDetails}}(\textcolor{stringliteral}{"{}volume"{}});}
\DoxyCodeLine{00024\ \ \ \ \ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_volume_slider_a395e4002db6290da518d38caa290c514}{paint}}(Graphics\&\ g)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ x\ =\ getPositionOfValue(getValue());}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ Path\ arrow;}
\DoxyCodeLine{00034\ \ \ \ \ \ \ arrow.startNewSubPath(x,\ point\_y\_);}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ arrow\_height\ =\ end\_y\_\ -\/\ point\_y\_;}
\DoxyCodeLine{00036\ \ \ \ \ \ \ arrow.lineTo(x\ +\ arrow\_height\ /\ 2.0f,\ end\_y\_);}
\DoxyCodeLine{00037\ \ \ \ \ \ \ arrow.lineTo(x\ -\/\ arrow\_height\ /\ 2.0f,\ end\_y\_);}
\DoxyCodeLine{00038\ \ \ \ \ \ \ arrow.closeSubPath();}
\DoxyCodeLine{00039\ \ \ \ \ \ \ g.setColour(findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca21616136b388e8a1a9c16b29f538536c}{Skin::kLinearSliderThumb}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00040\ \ \ \ \ \ \ g.fillPath(arrow);}
\DoxyCodeLine{00041\ \ \ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_volume_slider_a31d6b47fa61a77fce425bba536470218}{setPointY}}(\textcolor{keywordtype}{int}\ y)\ \{\ point\_y\_\ =\ y;\ repaint();\ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_volume_slider_a61bf22a4b0c261c4fb75156c9e3e9ac8}{setEndY}}(\textcolor{keywordtype}{int}\ y)\ \{\ end\_y\_\ =\ y;\ repaint();\ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_volume_slider_a54cf37837a7ca5d3cf20693d7766ae9f}{getEndY}}()\ \{\ \textcolor{keywordflow}{return}\ end\_y\_;\ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{structvital_1_1_value_details}{vital::ValueDetails}}\ details\_;\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{int}\ point\_y\_;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{int}\ end\_y\_;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00065\ \};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \mbox{\hyperlink{class_volume_section_a22c5776aad45cedcd2b6e4072366b107}{VolumeSection::VolumeSection}}(String\ name)\ :\ \mbox{\hyperlink{class_synth_section}{SynthSection}}(name)\ \{}
\DoxyCodeLine{00068\ \ \ peak\_meter\_left\_\ =\ std::make\_unique<PeakMeterViewer>(\textcolor{keyword}{true});}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{class_synth_section_ab9933100200451490f83536ded0ba9f7}{addOpenGlComponent}}(peak\_meter\_left\_.get());}
\DoxyCodeLine{00070\ \ \ peak\_meter\_right\_\ =\ std::make\_unique<PeakMeterViewer>(\textcolor{keyword}{false});}
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{class_synth_section_ab9933100200451490f83536ded0ba9f7}{addOpenGlComponent}}(peak\_meter\_right\_.get());}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ volume\_\ =\ std::make\_unique<VolumeSlider>(\textcolor{stringliteral}{"{}volume"{}});}
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{class_synth_section_a181a568bf38b29974c7c18ebc9cb8c04}{addSlider}}(volume\_.get());}
\DoxyCodeLine{00075\ \ \ volume\_-\/>setSliderStyle(Slider::LinearBar);}
\DoxyCodeLine{00076\ \ \ volume\_-\/>setPopupPlacement(BubbleComponent::below);}
\DoxyCodeLine{00077\ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \mbox{\hyperlink{class_volume_section_abe804253515e2623fe3b8fd778f0b511}{VolumeSection::\string~VolumeSection}}()\ \{\ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_volume_section_a2789b85cc8f850193f45d4f0c069a792}{VolumeSection::getMeterHeight}}()\ \{}
\DoxyCodeLine{00082\ \ \ \textcolor{keywordflow}{return}\ getHeight()\ /\ 8;}
\DoxyCodeLine{00083\ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_volume_section_ae9a9024c92dfe9105a971bac0827858b}{VolumeSection::getBuffer}}()\ \{}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordflow}{return}\ getHeight()\ /\ 2\ -\/\ \mbox{\hyperlink{class_volume_section_a2789b85cc8f850193f45d4f0c069a792}{getMeterHeight}}();}
\DoxyCodeLine{00087\ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_volume_section_a62b45470bec9cd0e86d12253a02ba7ea}{VolumeSection::resized}}()\ \{}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordtype}{int}\ meter\_height\ =\ \mbox{\hyperlink{class_volume_section_a2789b85cc8f850193f45d4f0c069a792}{getMeterHeight}}();}
\DoxyCodeLine{00091\ \ \ \textcolor{keywordtype}{int}\ volume\_height\ =\ meter\_height\ *\ 6.0f;}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordtype}{int}\ end\_volume\ =\ meter\_height\ *\ 3.5f;}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordtype}{int}\ padding\ =\ 1;}
\DoxyCodeLine{00094\ \ \ \textcolor{keywordtype}{int}\ buffer\ =\ \mbox{\hyperlink{class_volume_section_ae9a9024c92dfe9105a971bac0827858b}{getBuffer}}();}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ peak\_meter\_left\_-\/>setBounds(0,\ buffer,\ getWidth(),\ meter\_height);}
\DoxyCodeLine{00097\ \ \ peak\_meter\_right\_-\/>setBounds(0,\ peak\_meter\_left\_-\/>getBottom()\ +\ padding,\ getWidth(),\ meter\_height);}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \textcolor{comment}{//\ Position\ the\ volume\ slider\ arrow\ according\ to\ the\ peak\ meter\ positions}}
\DoxyCodeLine{00100\ \ \ volume\_-\/>setPointY(peak\_meter\_right\_-\/>getBottom()\ +\ padding\ -\/\ buffer);}
\DoxyCodeLine{00101\ \ \ volume\_-\/>setEndY(end\_volume);}
\DoxyCodeLine{00102\ \ \ volume\_-\/>setBounds(0,\ buffer,\ getWidth(),\ volume\_height);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \mbox{\hyperlink{class_synth_section_a549f91a2b81b419368a578990cb2e6c2}{SynthSection::resized}}();}
\DoxyCodeLine{00105\ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_volume_section_aec2797494b171b64f8aed8389cbe2869}{VolumeSection::paintBackground}}(Graphics\&\ g)\ \{}
\DoxyCodeLine{00108\ \ \ \mbox{\hyperlink{class_synth_section_a6f8f31ab8b431df4757cbd3026d236d7}{SynthSection::paintKnobShadows}}(g);}
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{class_synth_section_a623774aef917521bc02344077422832e}{SynthSection::paintChildrenBackgrounds}}(g);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{keywordtype}{int}\ ticks\_y\ =\ peak\_meter\_right\_-\/>getBottom()\ +\ \mbox{\hyperlink{class_synth_section_a0c688d2a15f8849c09912f4bd1f92c9f}{getPadding}}();}
\DoxyCodeLine{00112\ \ \ \textcolor{keywordtype}{int}\ tick\_height\ =\ peak\_meter\_right\_-\/>getHeight()\ /\ 2;}
\DoxyCodeLine{00113\ \ \ \mbox{\hyperlink{structvital_1_1_value_details}{vital::ValueDetails}}\ details\ =\ \mbox{\hyperlink{classvital_1_1_parameters_add207875d97ce0cabc64a33e86a5ab24}{vital::Parameters::getDetails}}(\textcolor{stringliteral}{"{}volume"{}});}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ g.setColour(findColour(\mbox{\hyperlink{class_skin_a7dc2a5a0b040e6ca38c7e5c236b4127ca77726fb0fd1587bfcc4b4b51e51ca61a}{Skin::kLightenScreen}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{00116\ \ \ \textcolor{comment}{//\ Draw\ vertical\ dB\ tick\ marks\ at\ intervals}}
\DoxyCodeLine{00117\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ decibel\ =\ -\/66;\ decibel\ <=\ 6;\ decibel\ +=\ 6)\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{float}\ offset\ =\ decibel\ -\/\ details.\mbox{\hyperlink{structvital_1_1_value_details_a2fefcb2c36f6eb0058ff0c76af8cc844}{post\_offset}};}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordtype}{float}\ percent\ =\ offset\ *\ offset\ /\ (details.\mbox{\hyperlink{structvital_1_1_value_details_a08a1bdff3e41fb87c1ac6fd6708c7485}{max}}\ -\/\ details.\mbox{\hyperlink{structvital_1_1_value_details_a4ad22dfba428357429bcadc83e0b5a26}{min}});}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ percent\ *\ getWidth();}
\DoxyCodeLine{00121\ \ \ \ \ g.drawRect(x,\ ticks\_y,\ 1,\ tick\_height);}
\DoxyCodeLine{00122\ \ \ \}}
\DoxyCodeLine{00123\ \}}

\end{DoxyCode}
