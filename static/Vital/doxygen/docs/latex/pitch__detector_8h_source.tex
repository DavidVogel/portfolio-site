\doxysection{pitch\+\_\+detector.\+h}
\hypertarget{pitch__detector_8h_source}{}\label{pitch__detector_8h_source}\index{/Users/davidvogel/repos/VitalHelp/src/common/wavetable/pitch\_detector.h@{/Users/davidvogel/repos/VitalHelp/src/common/wavetable/pitch\_detector.h}}
\mbox{\hyperlink{pitch__detector_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{Summary:}}
\DoxyCodeLine{00003\ \textcolor{comment}{The\ PitchDetector\ class\ attempts\ to\ find\ the\ fundamental\ period\ of\ a\ loaded\ signal\ using\ a\ method\ inspired\ by\ the\ YIN\ algorithm.\ By\ computing\ an\ error\ metric\ that\ measures\ how\ well\ the\ waveform\ repeats\ at\ different\ periods,\ it\ identifies\ a\ period\ length\ that\ best\ represents\ the\ fundamental\ frequency.\ This\ helps\ ensure\ that\ wavetables\ and\ other\ audio\ processing\ steps\ align\ wave\ cycles\ with\ their\ fundamental\ pitch.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}JuceHeader.h"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_pitch_detector}{PitchDetector}}\ \{}
\DoxyCodeLine{00019\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_pitch_detector_a79eb40dee0838d22a82d5db8a48669c7}{kNumPoints}}\ =\ 2520;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{class_pitch_detector_afb748209fe74beb8876e3ff52ff00e49}{PitchDetector}}();}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_pitch_detector_a4a7a7d684adf633a5cefb6096bdf8293}{setSize}}(\textcolor{keywordtype}{int}\ size)\ \{\ \mbox{\hyperlink{class_pitch_detector_a3a8269f8aa76f3a8dcaf9b9f87b0c4a0}{size\_}}\ =\ size;\ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_pitch_detector_a6fbfbc0c1855219929f3f7c7e9345606}{loadSignal}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ signal,\ \textcolor{keywordtype}{int}\ size);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_pitch_detector_a8d67c7c33620c8a7de618a41a19a9a96}{getPeriodError}}(\textcolor{keywordtype}{float}\ period);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_pitch_detector_a0254cf5388c626fa9d9dc3ce6009d660}{findYinPeriod}}(\textcolor{keywordtype}{int}\ max\_period);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_pitch_detector_a35a1b29ff8620bc7e3c38c17ef1208ea}{matchPeriod}}(\textcolor{keywordtype}{int}\ max\_period);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ \mbox{\hyperlink{class_pitch_detector_affced0fc3465e872811f2319b5e20305}{data}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_pitch_detector_a814a69c800b25436cf9cb51b7f98cf44}{signal\_data\_}}.get();\ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_pitch_detector_a3a8269f8aa76f3a8dcaf9b9f87b0c4a0}{size\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00087\ \ \ \ \ std::unique\_ptr<float[]>\ \mbox{\hyperlink{class_pitch_detector_a814a69c800b25436cf9cb51b7f98cf44}{signal\_data\_}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR(\mbox{\hyperlink{class_pitch_detector}{PitchDetector}})}
\DoxyCodeLine{00090\ \};}

\end{DoxyCode}
